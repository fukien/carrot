cscope 15 $HOME/WorkSpaces/carrots/dbms               0000609513
	@/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Join.cpp

1 
	~"Još.h
"

3 
	gJoš
::
	$Još
(
ty³
,
š™Ÿl
,
By‹
 
jošTy³
){

4 
this
->
İ”©ÜTy³
=
ty³
;

5 
this
->
š™ŸlTy³
=
š™Ÿl
;

6 
this
->
d©aTy³
=0;

7 
this
->
¥j
=0;

8 
this
->
bË
=0;

9 
this
->
cŞumnNum
=0;

10 
this
->
f›ldLi¡
=0;

11 
this
->
f›ldæag
=
çl£
;

13 
this
->
bËL’
=0;

14 
this
->
¥jL’
=0;

15 
this
->
jošTy³
=joinType;

16 
this
->
cu¼’tTu¶e_A
=0;

17 
this
->
cu¼’tTu¶e_B
=0;

18 
this
->
cu¼’tSPJI‹m_A
=0;

19 
this
->
cu¼’tSPJI‹m_B
=0;

20 
	}
}

21 
	gJoš
::
	$de¡roy
(){

23 
	}
}

24 
SPJI‹m
* 
Još
::
	$budSPJI‹m
(){

25 
SPJI‹m
* 
™em
=
Ãw
 
	`SPJI‹m
();

26 if(
this
->
cŞumnNum
!=0){

27 
™em
->
f›ldNum
=
this
->
cŞumnNum
;

28 
™em
->
f›ldName
=
Ãw
 
¡ršg
[
this
->
cŞumnNum
];

29 
™em
->
d©a
=
Ãw
 *[
this
->
cŞumnNum
];

30 
i
=0;i<
this
->
cŞumnNum
;i++è
™em
->
d©a
[i]=0;

31 
™em
->
Ën
=
Ãw
 [
this
->
cŞumnNum
];

32 
™em
->
d©aTy³
=
Ãw
 
By‹
[
this
->
cŞumnNum
];

34 
™em
->
f›ldNum
=0;

35 
™em
->
f›ldName
=0;

36 
™em
->
d©a
=0;

37 
™em
->
Ën
=0;

38 
™em
->
d©aTy³
=0;

40  
™em
;

41 
	}
}

42 
	gJoš
::
	$»Ëa£SPJI‹m
(
SPJI‹m
*
™em
){

44 
	}
}

45 
Još
::
	$š™Još
(
TabË
**
bË
,
bËL’
,
SPJ
**
¥j
,
¥jL’
,
CÚd™iÚ
 
cÚd™iÚLi¡
[],
cÚd™iÚL’
){

46 
this
->
bË
=table;

47 
this
->
¥j
=spj;

48 
this
->
bËL’
=tableLen;

49 
this
->
¥jL’
=spjLen;

50 
this
->
cÚd™iÚ
=
cÚd™iÚLi¡
;

51 
this
->
cÚd™iÚL’
=conditionLen;

52 if(
this
->
jošTy³
==
JošTy³
::
NESTLOOPJOIN
){

53 
	`š™Ne¡LoİJoš
();

54 }if(
this
->
jošTy³
==
JošTy³
::
SORTJOIN
){

55 
	`š™SÜtJoš
();

56 }if(
this
->
jošTy³
==
JošTy³
::
HASHJOIN
){

57 
	`š™HashJoš
();

59 
	`š™IndexJoš
();

61 
	}
}

63 
	gJoš
::
	$g‘Fœ¡
(
SPJI‹m
*
™em
){

64 if(
this
->
jošTy³
==
JošTy³
::
NESTLOOPJOIN
){

65 
	`Ne¡LoİJošG‘Fœ¡
(
™em
);

66 }if(
this
->
jošTy³
==
JošTy³
::
HASHJOIN
){

68 }if(
this
->
jošTy³
==
JošTy³
::
SORTJOIN
){

74 
	}
}

75 
Još
::
	$g‘Next
(
SPJI‹m
*
™em
){

76 if(
this
->
jošTy³
==
JošTy³
::
NESTLOOPJOIN
){

77 
	`Ne¡LoİJošG‘Next
(
™em
);

78 }if(
this
->
jošTy³
==
JošTy³
::
HASHJOIN
){

80 }if(
this
->
jošTy³
==
JošTy³
::
SORTJOIN
){

85 
	}
}

86 
Još
::
	$Ne¡LoİJošG‘Next
(
SPJI‹m
*
™em
){

87 
™em
->
u£
=0;

88 if(
this
->
š™ŸlTy³
==
SPJ
::
TABLEINITIAL
){

90 
Tu¶e
* 
B_tu¶e
=
this
->
cu¼’tTu¶e_B
;

91 
Tu¶e
*
A_tu¶e
=
this
->
cu¼’tTu¶e_A
;

92 
Addr
 
A_Şdaddr
=0;

97 
Addr
 
B_Şdaddr
=0;

98 
A_tu¶e
->
tu¶eAddr
!=0&&A_tu¶e->tu¶eAddr!=
A_Şdaddr
){

99 if(
this
->
cu¼’tTu¶e_B
==0){

100 
B_Şdaddr
=0;

101 
B_tu¶e
=
this
->
bË
[1]->
	`budEm±yTu¶e
();

102 
this
->
bË
[1]->
	`fšdFœ¡Tu¶e
(
B_tu¶e
);

103 
this
->
cu¼’tTu¶e_B
=
B_tu¶e
;

105 
B_Şdaddr
=
this
->
cu¼’tTu¶e_B
->
tu¶eAddr
;

106 
this
->
bË
[1]->
	`fšdNextTu¶e
Ñhis->
cu¼’tTu¶e_B
,
B_tu¶e
);

110 if(
B_tu¶e
->
tu¶eAddr
!=0&&B_tu¶e->tu¶eAddr!=
B_Şdaddr
){

111 
boŞ
 
æag
=
Œue
;

112 
	`checkI‹m
(
A_tu¶e
,
B_tu¶e
)!=
Œue
){

113 
B_Şdaddr
=
B_tu¶e
->
tu¶eAddr
;

114 
this
->
bË
[1]->
	`fšdNextTu¶e
Ñhis->
cu¼’tTu¶e_B
,
B_tu¶e
);

115 if(
B_Şdaddr
==
B_tu¶e
->
tu¶eAddr
||B_tuple->tupleAddr==0){

116 
æag
=
çl£
;

120 if(
æag
){

121 
	`flI‹m
(
A_tu¶e
,
B_tu¶e
,
™em
);

125 
A_Şdaddr
=
A_tu¶e
->
tu¶eAddr
;

126 
this
->
bË
[0]->
	`fšdNextTu¶e
Ñhis->
cu¼’tTu¶e_A
,
A_tu¶e
);

127 
this
->
bË
[1]->
	`»Ëa£Em±yTu¶e
Ñhis->
cu¼’tTu¶e_B
);

128 
this
->
cu¼’tTu¶e_B
=0;

132 }if(
this
->
š™ŸlTy³
==
SPJ
::
ITERATORINITIAL
){

133 
SPJI‹m
* 
A_™em
=
this
->
cu¼’tSPJI‹m_A
;

134 
SPJI‹m
*
B_™em
=
this
->
cu¼’tSPJI‹m_B
;

135 
A_™em
->
u£
!=0){

136 if(
B_™em
->
u£
!=0){

137 
this
->
¥j
[1]->
	`g‘Next
(
B_™em
);

139 
this
->
¥j
[1]->
	`g‘Fœ¡
(
B_™em
);

141 if(
B_™em
->
u£
!=0){

142 
boŞ
 
æag
=
Œue
;

143 
	`checkI‹m
(
A_™em
,
B_™em
)!=
Œue
){

144 
this
->
¥j
[1]->
	`g‘Next
(
B_™em
);

145 if(
B_™em
->
u£
==0){

146 
æag
=
çl£
;

150 if(
æag
){

151 
	`flI‹m
(
A_™em
,
B_™em
,
™em
);

155 
this
->
¥j
[0]->
	`g‘Next
(
A_™em
);

161 
Tu¶e
 *
A_tu¶e
=
this
->
cu¼’tTu¶e_A
;

162 
SPJI‹m
*
A_™em
=
this
->
cu¼’tSPJI‹m_A
;

163 
Addr
 
ŞdAddr
 = 0;

167 
A_tu¶e
->
tu¶eAddr
!=0&&A_tu¶e->tu¶eAddr!=
ŞdAddr
){

168 if(
A_™em
->
u£
!=0){

169 
this
->
¥j
[0]->
	`g‘Next
(
A_™em
);

171 
this
->
¥j
[0]->
	`g‘Fœ¡
(
A_™em
);

173 if(
A_™em
->
u£
!=0){

174 
boŞ
 
æag
=
Œue
;

175 
	`checkI‹m
(
A_tu¶e
,
A_™em
)!=
Œue
){

176 
this
->
¥j
[0]->
	`g‘Next
(
A_™em
);

177 if(
A_™em
->
u£
==0){

178 
æag
=
çl£
;

182 if(
æag
){

183 
	`flI‹m
(
A_tu¶e
,
A_™em
,
™em
);

187 
ŞdAddr
=
A_tu¶e
->
tu¶eAddr
;

188 
this
->
bË
[0]->
	`fšdNextTu¶e
Ñhis->
cu¼’tTu¶e_A
,
A_tu¶e
);

193 
	}
}

194 
	gJoš
::
	$Ne¡LoİJošG‘Fœ¡
(
SPJI‹m
*
™em
){

195 
™em
->
u£
=0;

196 if(
this
->
š™ŸlTy³
==
SPJ
::
TABLEINITIAL
){

197 
Tu¶e
 *
A_tu¶e
=
this
->
bË
[0]->
	`budEm±yTu¶e
();

198 
Tu¶e
* 
B_tu¶e
=
this
->
bË
[1]->
	`budEm±yTu¶e
();

199 
this
->
bË
[0]->
	`fšdFœ¡Tu¶e
(
A_tu¶e
);

200 
this
->
cu¼’tTu¶e_A
=
A_tu¶e
;

201 
this
->
cu¼’tTu¶e_B
=
B_tu¶e
;

202 
Addr
 
A_Şdaddr
=0;

203 
Addr
 
B_Şdaddr
=0;

204 
A_tu¶e
->
tu¶eAddr
!=0&&A_tu¶e->tu¶eAddr!=
A_Şdaddr
){

205 
this
->
bË
[1]->
	`fšdFœ¡Tu¶e
(
B_tu¶e
);

206 if(
B_tu¶e
->
tu¶eAddr
!=0&&B_tu¶e->tu¶eAddr!=
B_Şdaddr
){

207 
boŞ
 
æag
=
Œue
;

208 
	`checkI‹m
(
A_tu¶e
,
B_tu¶e
)!=
Œue
){

209 
B_Şdaddr
=
B_tu¶e
->
tu¶eAddr
;

210 
this
->
bË
[1]->
	`fšdNextTu¶e
Ñhis->
cu¼’tTu¶e_B
,
B_tu¶e
);

211 if(
B_Şdaddr
==
B_tu¶e
->
tu¶eAddr
||B_tuple->tupleAddr==0){

212 
æag
=
çl£
;

216 if(
æag
){

217 
	`flI‹m
(
A_tu¶e
,
B_tu¶e
,
™em
);

223 
A_Şdaddr
=
A_tu¶e
->
tu¶eAddr
;

224 
this
->
bË
[0]->
	`fšdNextTu¶e
Ñhis->
cu¼’tTu¶e_A
,
A_tu¶e
);

228 }if(
this
->
š™ŸlTy³
==
SPJ
::
ITERATORINITIAL
){

229 
SPJI‹m
* 
A_™em
=
this
->
¥j
[0]->
	`budSPJI‹m
();

230 
SPJI‹m
*
B_™em
=
this
->
¥j
[1]->
	`budSPJI‹m
();

231 
this
->
cu¼’tSPJI‹m_A
=
A_™em
;

232 
this
->
cu¼’tSPJI‹m_B
=
B_™em
;

233 
this
->
¥j
[0]->
	`g‘Fœ¡
(
A_™em
);

234 
A_™em
->
u£
!=0){

235 
this
->
¥j
[1]->
	`g‘Fœ¡
(
B_™em
);

236 if(
B_™em
->
u£
!=0){

237 
boŞ
 
æag
=
Œue
;

238 
	`checkI‹m
(
A_™em
,
B_™em
)!=
Œue
){

239 
this
->
¥j
[1]->
	`g‘Next
(
B_™em
);

240 if(
B_™em
->
u£
==0){

241 
æag
=
çl£
;

245 if(
æag
){

246 
	`flI‹m
(
A_™em
,
B_™em
,
™em
);

252 
this
->
¥j
[0]->
	`g‘Next
(
A_™em
);

257 
Tu¶e
 *
A_tu¶e
=
this
->
bË
[0]->
	`budEm±yTu¶e
();

258 
SPJI‹m
*
A_™em
=
this
->
¥j
[0]->
	`budSPJI‹m
();

259 
this
->
bË
[0]->
	`fšdFœ¡Tu¶e
(
A_tu¶e
);

260 
this
->
cu¼’tTu¶e_A
=
A_tu¶e
;

261 
this
->
cu¼’tSPJI‹m_A
=
A_™em
;

262 
Addr
 
A_Şdaddr
=0;

263 
A_tu¶e
->
tu¶eAddr
!=0&&A_tu¶e->tu¶eAddr!=
A_Şdaddr
){

264 
this
->
¥j
[0]->
	`g‘Fœ¡
(
A_™em
);

265 if(
A_™em
->
u£
!=0){

266 
boŞ
 
æag
=
Œue
;

267 *
¡r
 =
Ãw
 [1000];

268 
D©aUt
::
	`toSŒšg
(
¡r
,
A_™em
->
d©a
[0],A_™em->
d©aTy³
[0]);

269 
	`checkI‹m
(
A_tu¶e
,
A_™em
)!=
Œue
){

270 
this
->
¥j
[0]->
	`g‘Next
(
A_™em
);

271 *
¡r
 =
Ãw
 [1000];

272 
D©aUt
::
	`toSŒšg
(
¡r
,
A_™em
->
d©a
[0],A_™em->
d©aTy³
[0]);

273 if(
A_™em
->
u£
==0){

274 
æag
=
çl£
;

278 if(
æag
){

284 
	`flI‹m
(
A_tu¶e
,
A_™em
,
™em
);

288 
A_Şdaddr
=
A_tu¶e
->
tu¶eAddr
;

289 
this
->
bË
[0]->
	`fšdNextTu¶e
Ñhis->
cu¼’tTu¶e_A
,
A_tu¶e
);

293 
	}
}

294 
boŞ
 
	gJoš
::
	$checkI‹m
(
Tu¶e
*
A_tu¶e
,Tu¶e*
B_tu¶e
){

295 if(
this
->
cÚd™iÚL’
==0){

296  
Œue
;

298 
boŞ
 
æag
=
Œue
;

299 
boŞ
 
ex™FÏg
=
çl£
;

300 
k
=0;k<
this
->
cÚd™iÚL’
;k++){

301 
¡ršg
 
fedNameA
=
this
->
cÚd™iÚ
[
k
].
fedName
;

302 *
¡r
=
Ãw
 [
this
->
cÚd™iÚ
[
k
].
Ën
+10];

303 
D©aUt
::
	`toSŒšg
(
¡r
,
this
->
cÚd™iÚ
[
k
].
v®ue
,
D©aTy³FÏg
::
CHAR
);

304 
¡ršg
 
fedNameB
=
¡r
;

305 
i
=0;i<
A_tu¶e
->
m‘a
->
f›ldNum
;i++){

306 
¡ršg
 
cŞÇme
=
A_tu¶e
->
cŞumn
[
i
].
f›ld
->
âame
;

307 if(
cŞÇme
.
	`com·»
(
fedNameA
)==0){

308 
j
=0;j<
B_tu¶e
->
m‘a
->
f›ldNum
;j++){

309 
cŞÇme
=
B_tu¶e
->
cŞumn
[
j
].
f›ld
->
âame
;

310 if(
cŞÇme
.
	`com·»
(
fedNameB
)==0){

311 
ex™FÏg
=
Œue
;

312 
æag
=
Com·»Ty³
::
	`Com·»
(
A_tu¶e
->
cŞumn
[
i
].
d©a
,
B_tu¶e
->cŞumn[
j
].d©a,
this
->
cÚd™iÚ
[
k
].
com·»
,A_tu¶e->cŞumn[i].
f›ld
->
d©aTy³
,A_tu¶e->cŞumn[i].f›ld->
Ën
);

313 if(!
æag
) ;

317 if(!
æag
) ;

319 if(!
æag
) ;

321  
æag
&
ex™FÏg
;

323 
	}
}

324 
boŞ
 
	gJoš
::
	$checkI‹m
(
Tu¶e
*
A_tu¶e
,
SPJI‹m
*
™em
){

325 if(
this
->
cÚd™iÚL’
==0){

326  
Œue
;

328 
boŞ
 
æag
=
Œue
;

329 
boŞ
 
ex™FÏg
=
çl£
;

330 
k
=0;k<
this
->
cÚd™iÚL’
;k++){

331 
¡ršg
 
fedNameA
=
this
->
cÚd™iÚ
[
k
].
fedName
;

332 *
¡r
=
Ãw
 [
this
->
cÚd™iÚ
[
k
].
Ën
+10];

333 
D©aUt
::
	`toSŒšg
(
¡r
,
this
->
cÚd™iÚ
[
k
].
v®ue
,
D©aTy³FÏg
::
CHAR
);

334 
¡ršg
 
fedNameB
=
¡r
;

335 
i
=0;i<
A_tu¶e
->
m‘a
->
f›ldNum
;i++){

336 
¡ršg
 
cŞÇme
=
A_tu¶e
->
cŞumn
[
i
].
f›ld
->
âame
;

337 if(
cŞÇme
.
	`com·»
(
fedNameA
)==0){

338 
j
=0;j<
™em
->
f›ldNum
;j++){

339 
cŞÇme
=
™em
->
f›ldName
[
j
];

340 if(
cŞÇme
.
	`com·»
(
fedNameB
)==0){

341 
ex™FÏg
 = 
Œue
;

344 
æag
=
Com·»Ty³
::
	`Com·»
(
A_tu¶e
->
cŞumn
[
i
].
d©a
,
™em
->d©a[
j
],
this
->
cÚd™iÚ
[
k
].
com·»
,A_tu¶e->cŞumn[i].
f›ld
->
d©aTy³
,A_tu¶e->cŞumn[i].f›ld->
Ën
);

345 if(!
æag
) ;

350 if(!
æag
) ;

352 if(!
æag
) ;

355  
æag
&
ex™FÏg
;

357 
	}
}

358 
boŞ
 
	gJoš
::
	$checkI‹m
(
SPJI‹m
*
A_™em
,SPJI‹m*
B_™em
){

359 if(
this
->
cÚd™iÚL’
==0){

360  
Œue
;

362 
boŞ
 
æag
=
Œue
;

363 
boŞ
 
ex™FÏg
 = 
çl£
;

364 
k
=0;k<
this
->
cÚd™iÚL’
;k++){

365 
¡ršg
 
fedNameA
=
this
->
cÚd™iÚ
[
k
].
fedName
;

366 *
¡r
=
Ãw
 [
this
->
cÚd™iÚ
[
k
].
Ën
+10];

367 
D©aUt
::
	`toSŒšg
(
¡r
,
this
->
cÚd™iÚ
[
k
].
v®ue
,
D©aTy³FÏg
::
CHAR
);

368 
¡ršg
 
fedNameB
=
¡r
;

369 
i
=0;i<
A_™em
->
f›ldNum
;i++){

370 
¡ršg
 
cŞÇme
=
A_™em
->
f›ldName
[
i
];

371 if(
cŞÇme
.
	`com·»
(
fedNameA
)==0){

372 
j
=0;j<
B_™em
->
f›ldNum
;j++){

373 
cŞÇme
=
B_™em
->
f›ldName
[
j
];

374 if(
cŞÇme
.
	`com·»
(
fedNameB
)==0){

375 
ex™FÏg
 = 
Œue
;

376 
æag
=
Com·»Ty³
::
	`Com·»
(
A_™em
->
d©a
[
i
],
B_™em
->d©a[
j
],
this
->
cÚd™iÚ
[
k
].
com·»
,B_™em->
d©aTy³
[j],B_™em->
Ën
[j]);

377 if(!
æag
) ;

382 if(!
æag
) ;

384 if(!
æag
) ;

386  
æag
&
ex™FÏg
;

388 
	}
}

389 
	gJoš
::
	$flI‹m
(
Tu¶e
*
A_tu¶e
,Tu¶e*
B_tu¶e
,
SPJI‹m
*
™em
){

390 if(
this
->
cŞumnNum
==0){

392 
this
->
cŞumnNum
=
A_tu¶e
->
m‘a
->
f›ldNum
+
B_tu¶e
->meta->fieldNum;

407 
d–‘e
 
™em
;

408 
™em
=
	`budSPJI‹m
();

410 
út
=0;

411 
j
=0;j<
A_tu¶e
->
m‘a
->
f›ldNum
;j++){

412 
™em
->
f›ldName
[
út
]=
A_tu¶e
->
cŞumn
[
j
].
f›ld
->
âame
;

413 if(
™em
->
d©a
[
út
]==0è™em->d©a[út]=
Ãw
 
By‹
[
A_tu¶e
->
cŞumn
[
j
].
f›ld
->
Ën
];

414 
	`memıy
(
™em
->
d©a
[
út
],
A_tu¶e
->
cŞumn
[
j
].d©a,A_tu¶e->cŞumn[j].
f›ld
->
Ën
);

415 
™em
->
d©aTy³
[
út
]=
A_tu¶e
->
cŞumn
[
j
].
f›ld
->dataType;

416 
™em
->
Ën
[
út
++]=
A_tu¶e
->
cŞumn
[
j
].
f›ld
->len;

418 
j
=0;j<
B_tu¶e
->
m‘a
->
f›ldNum
;j++){

429 
™em
->
f›ldName
[
út
]=
B_tu¶e
->
cŞumn
[
j
].
f›ld
->
âame
;

430 if(
™em
->
d©a
[
út
]==0è™em->d©a[út]=
Ãw
 
By‹
[
B_tu¶e
->
cŞumn
[
j
].
f›ld
->
Ën
];

431 
	`memıy
(
™em
->
d©a
[
út
],
B_tu¶e
->
cŞumn
[
j
].d©a,B_tu¶e->cŞumn[j].
f›ld
->
Ën
);

432 
™em
->
d©aTy³
[
út
]=
B_tu¶e
->
cŞumn
[
j
].
f›ld
->dataType;

433 
™em
->
Ën
[
út
++]=
B_tu¶e
->
cŞumn
[
j
].
f›ld
->len;

435 
™em
->
u£
=1;

436 
	}
}

437 
	gJoš
::
	$flI‹m
(
SPJI‹m
*
A_™em
,SPJI‹m*
B_™em
,SPJI‹m*
™em
){

438 if(
this
->
cŞumnNum
==0){

440 
this
->
cŞumnNum
=
A_™em
->
f›ldNum
+
B_™em
->fieldNum;

455 
d–‘e
 
™em
;

456 
™em
=
	`budSPJI‹m
();

458 
út
=0;

459 
j
=0;j<
A_™em
->
f›ldNum
;j++){

460 
™em
->
f›ldName
[
út
]=
A_™em
->f›ldName[
j
];

461 if(
™em
->
d©a
[
út
]==0è™em->d©a[út]=
Ãw
 
By‹
[
A_™em
->
Ën
[
j
]];

462 
	`memıy
(
™em
->
d©a
[
út
],
A_™em
->d©a[
j
],A_™em->
Ën
[j]);

463 
™em
->
d©aTy³
[
út
]=
A_™em
->d©aTy³[
j
];

464 
™em
->
Ën
[
út
++]=
A_™em
->Ën[
j
];

466 
j
=0;j<
B_™em
->
f›ldNum
;j++){

477 
™em
->
f›ldName
[
út
]=
B_™em
->f›ldName[
j
];

478 if(
™em
->
d©a
[
út
]==0è™em->d©a[út]=
Ãw
 
By‹
[
B_™em
->
Ën
[
j
]];

479 
	`memıy
(
™em
->
d©a
[
út
],
B_™em
->d©a[
j
],B_™em->
Ën
[j]);

480 
™em
->
d©aTy³
[
út
]=
B_™em
->d©aTy³[
j
];

481 
™em
->
Ën
[
út
++]=
B_™em
->Ën[
j
];

483 
™em
->
u£
=1;

485 
	}
}

486 
	gJoš
::
	$flI‹m
(
Tu¶e
*
A_tu¶e
,
SPJI‹m
*
B_™em
,SPJI‹m*
™em
){

487 if(
this
->
cŞumnNum
==0){

489 
this
->
cŞumnNum
=
A_tu¶e
->
m‘a
->
f›ldNum
+
B_™em
->fieldNum;

504 
d–‘e
 
™em
;

505 
™em
=
	`budSPJI‹m
();

507 
út
=0;

509 
j
=0;j<
A_tu¶e
->
m‘a
->
f›ldNum
;j++){

510 
™em
->
f›ldName
[
út
]=
A_tu¶e
->
cŞumn
[
j
].
f›ld
->
âame
;

511 if(
™em
->
d©a
[
út
]==0è™em->d©a[út]=
Ãw
 
By‹
[
A_tu¶e
->
cŞumn
[
j
].
f›ld
->
Ën
];

512 
	`memıy
(
™em
->
d©a
[
út
],
A_tu¶e
->
cŞumn
[
j
].d©a,A_tu¶e->cŞumn[j].
f›ld
->
Ën
);

513 
™em
->
d©aTy³
[
út
]=
A_tu¶e
->
cŞumn
[
j
].
f›ld
->dataType;

514 
™em
->
Ën
[
út
++]=
A_tu¶e
->
cŞumn
[
j
].
f›ld
->len;

516 
j
=0;j<
B_™em
->
f›ldNum
;j++){

527 
™em
->
f›ldName
[
út
]=
B_™em
->f›ldName[
j
];

528 if(
™em
->
d©a
[
út
]==0è™em->d©a[út]=
Ãw
 
By‹
[
B_™em
->
Ën
[
j
]];

529 
	`memıy
(
™em
->
d©a
[
út
],
B_™em
->d©a[
j
],B_™em->
Ën
[j]);

532 
™em
->
d©aTy³
[
út
]=
B_™em
->d©aTy³[
j
];

533 
™em
->
Ën
[
út
++]=
B_™em
->Ën[
j
];

535 
™em
->
u£
=1;

537 
	}
}

538 
	gJoš
::
	$š™Ne¡LoİJoš
(){

539 if(
this
->
š™ŸlTy³
==
SPJ
::
TABLEINITIAL
){

542 
	}
}

543 
Još
::
	$š™HashJoš
(){

545 
	}
}

546 
Još
::
	$š™SÜtJoš
(){

548 
	}
}

549 
Još
::
	$š™IndexJoš
(){

551 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Join.h

1 #iâdeà 
JOIN_H_INCLUDED


2 
	#JOIN_H_INCLUDED


	)

3 
	~"SPJ.h
"

4 
	~"S–eùiÚ.h
"

5 
	~<¡ršg
>

6 
	~<m­
>

8 şas 
	cJošTy³
{

9 
	mpublic
:

10 cÚ¡ 
By‹
 
NESTLOOPJOIN
=0x01;

11 cÚ¡ 
By‹
 
	mSORTJOIN
=0x01;

12 cÚ¡ 
By‹
 
	mHASHJOIN
=0x01;

13 cÚ¡ 
By‹
 
	mINDEXJOIN
=0x01;

15 şas 
	cJoš
 :
public
 
SPJ
{

16 
public
:

17 
g‘Next
(
SPJI‹m
*
™em
);

18 
g‘Fœ¡
(
SPJI‹m
 * 
™em
);

19 
Još
(
ty³
,
š™®
,
By‹
 
jošTy³
);

20 
š™Još
(
TabË
**
bË
,
bËL’
,
SPJ
**
¥j
,
¥jL’
,
CÚd™iÚ
 
cÚd™iÚLi¡
[],
cÚd™iÚL’
);

22 
š™Ne¡LoİJoš
();

23 
š™HashJoš
();

24 
š™SÜtJoš
();

25 
š™IndexJoš
();

26 
»Ëa£SPJI‹m
(
SPJI‹m
*
™em
);

27 
SPJI‹m
* 
budSPJI‹m
();

28 
Još
(
ty³
,
š™Ÿl
);

29 
flI‹m
(
Tu¶e
*
A_tu¶e
,Tu¶e*
B_tu¶e
,
SPJI‹m
*
™em
);

30 
flI‹m
(
SPJI‹m
*
A_™em
,SPJI‹m* 
B_™em
,SPJI‹m*
™em
);

31 
flI‹m
(
Tu¶e
*
A_tu¶e
,
SPJI‹m
*
B_™em
,SPJI‹m*
™em
);

32 
boŞ
 
checkI‹m
(
Tu¶e
*
A_tu¶e
,Tu¶e*
B_tu¶e
);

33 
boŞ
 
checkI‹m
(
SPJI‹m
*
A_™em
,SPJI‹m* 
B_™em
);

34 
boŞ
 
checkI‹m
(
Tu¶e
*
A_tu¶e
,
SPJI‹m
*
A_™em
);

35 
Ne¡LoİJošG‘Fœ¡
(
SPJI‹m
*
™em
);

36 
Ne¡LoİJošG‘Next
(
SPJI‹m
*
™em
);

37 
HashJošG‘Fœ¡
(
SPJI‹m
*
™em
);

38 
HashJošG‘Next
(
SPJI‹m
*
™em
);

39 
SÜtJošG‘Fœ¡
(
SPJI‹m
*
™em
);

40 
SÜtJošG‘Next
(
SPJI‹m
*
™em
);

41 
IndexJošG‘Fœ¡
(
SPJI‹m
*
™em
);

42 
IndexJošG‘Next
(
SPJI‹m
*
™em
);

43 
de¡roy
();

44 
	m´iv©e
:

45 
By‹
 
š™ŸlTy³
;

46 
By‹
 
	mİ”©ÜTy³
;

47 
By‹
*
	md©aTy³
;

48 
By‹
 
	mjošTy³
;

49 
SPJ
**
	m¥j
;

50 
TabË
**
	mbË
;

51 
CÚd™iÚ
*
	mcÚd™iÚ
;

52 
	mcŞumnNum
;

53 
	mcÚd™iÚL’
;

54 *
	mf›ldLi¡
;

55 
boŞ
 
	mf›ldæag
;

56 
By‹
 
	mbËL’
;

57 
By‹
 
	m¥jL’
;

58 
SPJI‹m
*
	mcu¼’tSPJI‹m_A
;

59 
SPJI‹m
*
	mcu¼’tSPJI‹m_B
;

60 
Tu¶e
*
	mcu¼’tTu¶e_A
;

61 
Tu¶e
*
	mcu¼’tTu¶e_B
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Projection.cpp

1 
	~"ProjeùiÚ.h
"

2 
	~<c¡dio
>

3 
	~<io¡»am
>

5 
usšg
 
Çme¥aû
 
	g¡d
;

7 
	gProjeùiÚ
::
	$ProjeùiÚ
(
ty³
,
š™Ÿl
):
	$SPJ
(){

8 
this
->
İ”©ÜTy³
=
ty³
;

9 
this
->
bË
=0;

10 
this
->
cu¼’tTu¶e
=0;

11 
this
->
š™ŸlTy³
=
š™Ÿl
;

12 
this
->
cŞumns
=0;

13 
this
->
d©aTy³
=0;

14 
this
->
¥j
=0;

15 
this
->
f›ldLi¡
=0;

16 
this
->
f›ldæag
=
çl£
;

17 
	}
}

18 
	gProjeùiÚ
::
	$de¡roy
(){

19 if(
this
->
š™ŸlTy³
==
SPJ
::
TABLEINITIAL
){

20 if(
this
->
cu¼’tTu¶e
!=0)

21 
this
->
bË
->
	`»Ëa£Em±yTu¶e
Ñhis->
cu¼’tTu¶e
);

22 
	`d–‘e
(
this
->
d©aTy³
);

23 
	`d–‘e
(
this
->
f›ldLi¡
);

25 
	`d–‘e
(
this
->
d©aTy³
);

26 
	`d–‘e
(
this
->
f›ldLi¡
);

28 
	}
}

29 
	gProjeùiÚ
::
	$š™ProjeùiÚ
(
TabË
*
bË
,
¡ršg
 
cŞumnName
[] ,
cŞumnNum
){

30 
this
->
bË
=table;

31 if(
cŞumnNum
==-1){

32 
cŞumnNum
=
this
->
bË
->
	`g‘TabËM‘a
()->
f›ldNum
;

33 
this
->
f›ldLi¡
=
Ãw
 [
cŞumnNum
];

34 
i
=0;i<
cŞumnNum
;i++è
this
->
f›ldLi¡
[i]=i;

35 
this
->
f›ldæag
=
Œue
;

37 
this
->
f›ldLi¡
=
Ãw
 [
cŞumnNum
];

39 
this
->
cŞumns
=
cŞumnName
;

40 
this
->
cŞumnNum
=columnNum;

41 
this
->
d©aTy³
=
Ãw
 
By‹
[
cŞumnNum
];

42 
	}
}

44 
	gProjeùiÚ
::
	$»Ëa£SPJI‹m
(
SPJI‹m
*
™em
){

45 
i
=0;i<
™em
->
f›ldNum
;i++){

46 
d–‘e
 
™em
->
d©a
[
i
];

48 
d–‘e
 
™em
->
d©a
;

49 
	`d–‘e
(
™em
->
d©aTy³
);

51 
	`d–‘e
(
™em
->
Ën
);

52 
	`d–‘e
(
™em
);

53 
	}
}

55 
SPJI‹m
* 
	gProjeùiÚ
::
	$budSPJI‹m
(){

56 
SPJI‹m
* 
™em
=
Ãw
 
	`SPJI‹m
();

57 
™em
->
f›ldNum
=
this
->
cŞumnNum
;

58 
™em
->
f›ldName
=
Ãw
 
¡ršg
[
this
->
cŞumnNum
];

59 
™em
->
d©a
=
Ãw
 *[
this
->
cŞumnNum
];

60 
i
=0;i<
™em
->
f›ldNum
;i++è™em->
d©a
[i]=0;

61 
™em
->
Ën
=
Ãw
 [
this
->
cŞumnNum
];

62 
™em
->
d©aTy³
=
Ãw
 
By‹
[
this
->
cŞumnNum
];

63 
™em
->
u£
=0;

64  
™em
;

65 
	}
}

66 
	gProjeùiÚ
::
	$g‘Next
(
SPJI‹m
*
™em
){

67 
™em
->
u£
=0;

68 if(
this
->
š™ŸlTy³
==
SPJ
::
TABLEINITIAL
){

69 
Tu¶e
 *
tu¶e
=
this
->
cu¼’tTu¶e
;

70 
Addr
 
ŞdAddr
 = 
tu¶e
->
tu¶eAddr
;

71 
bË
->
	`fšdNextTu¶e
(
this
->
cu¼’tTu¶e
,
tu¶e
);

74 if(
tu¶e
->
tu¶eAddr
!=0&&tu¶e->tu¶eAddr!=
ŞdAddr
){

75 
	`flI‹m
(
™em
,
tu¶e
);

80 }if(
this
->
š™ŸlTy³
==
SPJ
::
ITERATORINITIAL
){

81 
SPJI‹m
*
sourûI‹m
 =
this
->
¥j
->
	`budSPJI‹m
();

82 
¥j
->
	`g‘Next
(
sourûI‹m
);

83 if(
sourûI‹m
->
u£
!=0)

84 
	`flI‹m
(
™em
,
sourûI‹m
);

85 
this
->
¥j
->
	`»Ëa£SPJI‹m
(
sourûI‹m
);

87 
	}
}

88 
	gProjeùiÚ
::
	$g‘Fœ¡
(
SPJI‹m
 * 
™em
){

89 
™em
->
u£
=0;

90 if(
this
->
š™ŸlTy³
==
SPJ
::
TABLEINITIAL
){

91 
Tu¶e
 *
tu¶e
=
bË
->
	`budEm±yTu¶e
();

92 
this
->
bË
->
	`fšdFœ¡Tu¶e
(
tu¶e
);

93 if(
tu¶e
->
tu¶eAddr
!=0)

94 
	`flI‹m
(
™em
,
tu¶e
);

95 
this
->
cu¼’tTu¶e
=
tu¶e
;

96 }if(
this
->
š™ŸlTy³
==
SPJ
::
ITERATORINITIAL
){

97 
SPJI‹m
*
sourûI‹m
 =
this
->
¥j
->
	`budSPJI‹m
();

98 
¥j
->
	`g‘Fœ¡
(
sourûI‹m
);

99 if(
this
->
cŞumnNum
==-1){

100 
™em
=
sourûI‹m
;

101 }if(
sourûI‹m
->
u£
!=0){

102 
	`flI‹m
(
™em
,
sourûI‹m
);

103 
this
->
¥j
->
	`»Ëa£SPJI‹m
(
sourûI‹m
);

106 
	}
}

107 
	gProjeùiÚ
::
	$flI‹m
(
SPJI‹m
*
™em
,
Tu¶e
 *
tu¶e
){

108 
f›ldNum
=
tu¶e
->
m‘a
->
h—d
->
·¹Num
;

109 if(
this
->
f›ldæag
==
çl£
){

110 
m­
<
¡ršg
,>
mp
;

111 
i
=0;i<
this
->
cŞumnNum
;i++){

112 
mp
[
this
->
cŞumns
[
i
]]=0;

114 
út
=0;

115 
i
=0;i<
f›ldNum
;i++){

116 
¡ršg
 
ss
=
tu¶e
->
cŞumn
[
i
].
f›ld
->
âame
;

117 if(
mp
.
	`couÁ
(
ss
)>0){

118 if(
™em
->
d©a
[
út
]==0è™em->d©a[út]=
Ãw
 
By‹
[
tu¶e
->
cŞumn
[
i
].
f›ld
->
Ën
];

119 
	`memıy
(
™em
->
d©a
[
út
],
tu¶e
->
cŞumn
[
i
].d©a,tu¶e->cŞumn[i].
f›ld
->
Ën
);

120 
™em
->
f›ldName
[
út
]=
ss
;

121 
™em
->
Ën
[
út
]=
tu¶e
->
cŞumn
[
i
].
f›ld
->len;

122 
this
->
f›ldLi¡
[
út
]=
i
;

123 
™em
->
d©aTy³
[
út
++]=
tu¶e
->
cŞumn
[
i
].
f›ld
->dataType;

126 
this
->
f›ldæag
=
Œue
;

128 
i
=0;i<
this
->
cŞumnNum
;i++){

129 if(
™em
->
d©a
[
i
]==0è™em->d©a[i]=
Ãw
 
By‹
[
tu¶e
->
cŞumn
[
this
->
f›ldLi¡
[i]].
f›ld
->
Ën
];

130 
	`memıy
(
™em
->
d©a
[
i
],
tu¶e
->
cŞumn
[
this
->
f›ldLi¡
[i]].d©a,tu¶e->cŞumn[this->f›ldLi¡[i]].
f›ld
->
Ën
);

131 
™em
->
f›ldName
[
i
]=
this
->
cŞumns
[i];

132 
™em
->
Ën
[
i
]=
tu¶e
->
cŞumn
[
this
->
f›ldLi¡
[i]].
f›ld
->len;

133 
™em
->
d©aTy³
[
i
]=
tu¶e
->
cŞumn
[
this
->
f›ldLi¡
[i]].
f›ld
->dataType;

136 
™em
->
u£
=1;

137 
	}
}

138 
	gProjeùiÚ
::
	$flI‹m
(
SPJI‹m
*
™em
,SPJI‹m*
sourûI‹m
){

139 
™em
->
f›ldNum
=
sourûI‹m
->fieldNum;

140 if(
this
->
f›ldæag
==
çl£
){

141 
m­
<
¡ršg
,>
mp
;

142 
i
=0;i<
this
->
cŞumnNum
;i++){

143 
mp
[
this
->
cŞumns
[
i
]]=0;

145 
út
=0;

146 
i
=0;i<
™em
->
f›ldNum
;i++){

147 
¡ršg
 
ss
=
sourûI‹m
->
f›ldName
[
i
];

148 if(
mp
.
	`couÁ
(
ss
)>0){

149 if(
™em
->
d©a
[
út
]==0è™em->d©a[út]=
Ãw
 
By‹
[
sourûI‹m
->
Ën
[
i
]];

150 
	`memıy
(
™em
->
d©a
[
út
],
sourûI‹m
->d©a[
i
],sourûI‹m->
Ën
[i]);

151 
™em
->
d©aTy³
[
út
]=
sourûI‹m
->d©aTy³[
i
];

152 
™em
->
f›ldName
[
út
]=
sourûI‹m
->f›ldName[
i
];

153 
this
->
f›ldLi¡
[
út
]=
i
;

154 
™em
->
Ën
[
út
++]=
sourûI‹m
->Ën[
i
];

157 
this
->
f›ldæag
=
Œue
;

159 
i
=0;i<
this
->
cŞumnNum
;i++){

160 if(
™em
->
d©a
[
i
]==0è™em->d©a[i]=
Ãw
 
By‹
[
sourûI‹m
->
Ën
[
this
->
f›ldLi¡
[i]]];

161 
	`memıy
(
™em
->
d©a
[
i
],
sourûI‹m
->d©a[
this
->
f›ldLi¡
[i]],sourûI‹m->
Ën
[this->fieldList[i]]);

162 
™em
->
d©aTy³
[
i
]=
sourûI‹m
->d©aTy³[
this
->
f›ldLi¡
[i]];

163 
™em
->
f›ldName
[
i
]=
sourûI‹m
->f›ldName[
this
->
f›ldLi¡
[i]];

164 
™em
->
Ën
[
i
]=
sourûI‹m
->Ën[
this
->
f›ldLi¡
[i]];

167 
™em
->
u£
=
sourûI‹m
->use;

168 
	}
}

169 
	gProjeùiÚ
::
	$š™ProjeùiÚ
(
SPJ
*
¥j
,
¡ršg
 
cŞumnName
[] ,
cŞumnNum
){

170 
this
->
¥j
=spj;

171 
this
->
cŞumns
=
cŞumnName
;

172 
this
->
cŞumnNum
=columnNum;

173 
this
->
d©aTy³
=
Ãw
 
By‹
[
cŞumnNum
];

174 
this
->
f›ldLi¡
=
Ãw
 [
cŞumnNum
];

175 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Projection.h

1 #iâdeà 
PROJECTION_H_INCLUDED


2 
	#PROJECTION_H_INCLUDED


	)

3 
	~"SPJ.h
"

4 
	~<¡ršg
>

5 
	~<m­
>

7 şas 
	cProjeùiÚ
 :
public
 
SPJ
{

8 
public
:

9 
g‘Next
(
SPJI‹m
*
™em
);

10 
g‘Fœ¡
(
SPJI‹m
 * 
™em
);

11 
š™ProjeùiÚ
(
TabË
*
bË
,
¡ršg
 
cŞumnName
[], 
cŞumnNum
);

12 
š™ProjeùiÚ
(
SPJ
*
¥j
,
¡ršg
 
cŞumnName
[],
cŞumnNum
);

13 
»Ëa£SPJI‹m
(
SPJI‹m
*
™em
);

14 
SPJI‹m
* 
budSPJI‹m
();

15 
ProjeùiÚ
(
ty³
,
š™Ÿl
);

16 
flI‹m
(
SPJI‹m
*
™em
,
Tu¶e
 *
tu¶e
);

17 
flI‹m
(
SPJI‹m
*
™em
,SPJI‹m* 
sourûI‹m
);

18 
de¡roy
();

19 
	m´iv©e
:

20 
By‹
 
š™ŸlTy³
;

21 
Tu¶e
*
	mcu¼’tTu¶e
;

22 
By‹
 
	mİ”©ÜTy³
;

23 
¡ršg
*
	mcŞumns
;

24 
	mcŞumnNum
;

25 
By‹
*
	md©aTy³
;

26 
SPJ
*
	m¥j
;

27 *
	mf›ldLi¡
;

28 
boŞ
 
	mf›ldæag
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/SPJ.cpp

1 
	~"SPJ.h
"

3 
	gSPJ
::
	$g‘Next
(
SPJI‹m
*
™em
){

5 
	}
}

6 
SPJ
::
	$g‘Fœ¡
(
SPJI‹m
 * 
™em
){

8 
	}
}

9 
SPJ
::
	$š™
(* 
bËÇme
){

11 
	}
}

12 
SPJ
::
	$š™
(
SPJ
*
¥j
){

14 
	}
}

15 
SPJ
::
	$SPJ
(){

16 
	}
}

17 
SPJ
::
	$»Ëa£SPJI‹m
(
SPJI‹m
*
™em
){

19 
	}
}

20 
SPJI‹m
* 
SPJ
::
	$budSPJI‹m
(){

22 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/SPJ.h

1 #iâdeà 
SPJ_H_INCLUDED


2 
	#SPJ_H_INCLUDED


	)

3 
	~"../commÚ.h
"

4 
	~"../bufãr/BufãrMªag”.h
"

5 
	~"../bË/m‘a.h
"

6 
	~"../£gm’t/DœeùÜySegm’t.h
"

7 
	~"../bË/TabËUt.h
"

8 
	~"../bË/TabË.h
"

9 
	~"../šdex/Index.h
"

10 
	~<¡ršg
>

11 
usšg
 
Çme¥aû
 
	g¡d
;

13 şas 
	cO³¿tÜTy³


15 
	mpublic
:

16 cÚ¡ 
By‹
 
SELECTION
 = 1;

17 cÚ¡ 
By‹
 
	mPROJECTION
=2;

18 cÚ¡ 
By‹
 
	mJOIN
 = 3;

22 
	mf›ldNum
;

23 
¡ršg
*
	mf›ldName
;

24 
By‹
 *
	md©aTy³
;

25 * *
	md©a
;

26 *
	mËn
;

27 
By‹
 
	mu£
;

28 }
	tSPJI‹m
;

30 şas 
	cSPJ
{

31 
	mpublic
:

32 
vœtu®
 
g‘Next
(
SPJI‹m
*
™em
);

33 
vœtu®
 
g‘Fœ¡
(
SPJI‹m
 * 
™em
);

34 
vœtu®
 
š™
(* 
bËÇme
);

35 
vœtu®
 
š™
(
SPJ
*
¥j
);

36 
vœtu®
 
»Ëa£SPJI‹m
(
SPJI‹m
*
™em
);

37 
vœtu®
 
SPJI‹m
* 
budSPJI‹m
();

38 
SPJ
();

39 cÚ¡ 
By‹
 
	mTABLEINITIAL
=1;

40 cÚ¡ 
By‹
 
	mITERATORINITIAL
=2;

41 cÚ¡ 
By‹
 
	mHYBRIDINITIAL
=3;

42 
ä›nd
 
şass
 
	mProjeùiÚ
;

43 
ä›nd
 
şass
 
	mS–eùiÚ
;

44 
	m´iv©e
:

45 
Tu¶e
*
cu¼’tTu¶e
;

46 
By‹
 
	mİ”©ÜTy³
;

47 
TabË
*
	mbË
;

48 
Index
*
	mšdex
;

49 
IndexI‹¿tÜ
* 
	mšdexI‹¿tÜ
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Selection.cpp

1 
	~"S–eùiÚ.h
"

2 
	~<c¡dio
>

3 
	~<lim™s
>

4 
	~<io¡»am
>

6 
	gS–eùiÚ
::
	$S–eùiÚ
(
ty³
,
š™Ÿl
):
	$SPJ
(){

7 
this
->
İ”©ÜTy³
=
ty³
;

8 
this
->
bË
=0;

9 
this
->
cu¼’tTu¶e
=0;

10 
this
->
š™ŸlTy³
=
š™Ÿl
;

11 
this
->
cÚd™iÚ
=0;

12 
this
->
d©aTy³
=0;

13 
this
->
¥j
=0;

14 
this
->
šdex
=0;

15 
	}
}

16 
	gS–eùiÚ
::
	$de¡roy
(){

17 if(
this
->
š™ŸlTy³
==
SPJ
::
TABLEINITIAL
){

18 if(
this
->
cu¼’tTu¶e
!=0)

19 
this
->
bË
->
	`»Ëa£Em±yTu¶e
Ñhis->
cu¼’tTu¶e
);

20 
	`d–‘e
(
this
->
d©aTy³
);

22 
	`d–‘e
(
this
->
d©aTy³
);

24 
	}
}

25 
	gS–eùiÚ
::
	$š™S–eùiÚ
(
TabË
*
bË
,
CÚd™iÚ
*
cÚd™iÚ
,
cÚd™iÚL’
){

26 
this
->
bË
=table;

27 
this
->
cÚd™iÚ
=condition;

28 
this
->
cÚd™iÚL’
=conditionLen;

29 
this
->
cŞumnNum
=
bË
->
	`g‘TabËM‘a
()->
f›ldNum
;

30 
this
->
cŞumns
=0;

31 
this
->
šdexI‹¿tÜ
=
	`checkIndex
();

32 
	}
}

34 
	gS–eùiÚ
::
	$»Ëa£SPJI‹m
(
SPJI‹m
*
™em
){

35 
i
=0;i<
™em
->
f›ldNum
;i++){

36 
d–‘e
 
™em
->
d©a
[
i
];

38 
d–‘e
 
™em
->
d©a
;

39 
	`d–‘e
(
™em
->
d©aTy³
);

40 
	`d–‘e
(
™em
->
Ën
);

41 
	`d–‘e
(
™em
);

42 
	}
}

44 
SPJI‹m
* 
	gS–eùiÚ
::
	$budSPJI‹m
(){

45 
SPJI‹m
* 
™em
=
Ãw
 
	`SPJI‹m
();

46 
™em
->
f›ldNum
=
this
->
cŞumnNum
;

47 
™em
->
f›ldName
=
Ãw
 
¡ršg
[
this
->
cŞumnNum
];

48 
™em
->
d©a
=
Ãw
 *[
this
->
cŞumnNum
];

49 
i
=0;i<
this
->
cŞumnNum
;i++è
™em
->
d©a
[i]=0;

50 
™em
->
Ën
=
Ãw
 [
this
->
cŞumnNum
];

51 
™em
->
d©aTy³
=
Ãw
 
By‹
[
this
->
cŞumnNum
];

52  
™em
;

53 
	}
}

54 
	gS–eùiÚ
::
	$g‘Next
(
SPJI‹m
*
™em
){

55 
™em
->
u£
=0;

56 if(
this
->
š™ŸlTy³
==
SPJ
::
TABLEINITIAL
){

57 if(
this
->
šdexI‹¿tÜ
!=0){

58 
IndexI‹m
*
šdexI‹m
=
this
->
šdex
->
	`budI‹m
();

59 
Tu¶e
 *
tu¶e
=
bË
->
	`budEm±yTu¶e
();

60 if(
šdexI‹¿tÜ
->
	`hasNext
()){

61 
this
->
šdexI‹¿tÜ
->
	`fšdNext
(
šdexI‹m
);

63 
D©aSegm’t
*
d©a£g
=
this
->
bË
->
	`g‘D©aSegm’t
();

64 
d©a£g
->
	`fšdTu¶eAtPos™iÚ
(
tu¶e
,
šdexI‹m
->
addr
);

65 
boŞ
 
æag
=
Œue
;

66 
	`checkI‹m
(
tu¶e
)!=
Œue
){

67 if(
šdexI‹¿tÜ
->
	`hasNext
()){

68 
šdexI‹¿tÜ
->
	`fšdNext
(
šdexI‹m
);

69 
d©a£g
->
	`fšdTu¶eAtPos™iÚ
(
tu¶e
,
šdexI‹m
->
addr
);

71 
æag
=
çl£
;

74 *
¡r
=
Ãw
 [1000];

75 
D©aUt
::
	`toSŒšg
(
¡r
,
tu¶e
->
cŞumn
[0].
d©a
,tu¶e->cŞumn[0].
f›ld
->
d©aTy³
);

76 
	`´štf
("%s\n",
¡r
);

78 if(
æag
) {

79 
	`flI‹m
(
™em
,
tu¶e
);

80 
this
->
cu¼’tTu¶e
=
tu¶e
;

83 
this
->
šdex
->
	`»Ëa£IndexI‹m
(
šdexI‹m
);

85 
Tu¶e
 *
tu¶e
=
this
->
cu¼’tTu¶e
;

86 
Addr
 
ŞdAddr
=
this
->
cu¼’tTu¶e
->
tu¶eAddr
;

87 
bË
->
	`fšdNextTu¶e
(
this
->
cu¼’tTu¶e
,
tu¶e
);

88 if(
tu¶e
->
tu¶eAddr
!=
ŞdAddr
&&tuple->tupleAddr!=0){

89 
	`checkI‹m
(
tu¶e
)!=
Œue
){

90 
Addr
 
Şdaddr
=
this
->
cu¼’tTu¶e
->
tu¶eAddr
;

91 
bË
->
	`fšdNextTu¶e
(
this
->
cu¼’tTu¶e
,
tu¶e
);

92 if(
tu¶e
->
tu¶eAddr
==0||tu¶e->tu¶eAddr==
Şdaddr
) ;

96 if(
	`checkI‹m
(
tu¶e
)){

97 
	`flI‹m
(
™em
,
tu¶e
);

103 }if(
this
->
š™ŸlTy³
==
SPJ
::
ITERATORINITIAL
){

104 
SPJI‹m
*
sourûI‹m
 =
this
->
¥j
->
	`budSPJI‹m
();

105 
boŞ
 
æag
=
Œue
;

106 
	`checkI‹m
(
sourûI‹m
)!=
Œue
){

107 
¥j
->
	`g‘Next
(
sourûI‹m
);

108 if(
sourûI‹m
->
u£
==0){

109 
æag
=
çl£
;

113 if(
æag
è
	`flI‹m
(
™em
,
sourûI‹m
);

114 
this
->
¥j
->
	`»Ëa£SPJI‹m
(
sourûI‹m
);

116 
	}
}

117 
	gS–eùiÚ
::
	$g‘Fœ¡
(
SPJI‹m
 * 
™em
){

118 
™em
->
u£
=0;

119 if(
this
->
š™ŸlTy³
==
SPJ
::
TABLEINITIAL
){

120 if(
this
->
šdexI‹¿tÜ
!=0)

122 
Tu¶e
 *
tu¶e
=
bË
->
	`budEm±yTu¶e
();

123 
IndexI‹m
*
šdexI‹m
=
this
->
šdex
->
	`budI‹m
();

124 
this
->
šdexI‹¿tÜ
->
	`fšdFœ¡
(
šdexI‹m
);

125 if(
šdexI‹m
->
addr
!=0){

126 
D©aSegm’t
*
d©a£g
=
this
->
bË
->
	`g‘D©aSegm’t
();

127 
d©a£g
->
	`fšdTu¶eAtPos™iÚ
(
tu¶e
,
šdexI‹m
->
addr
);

128 
	`checkI‹m
(
tu¶e
)!=
Œue
){

129 if(
šdexI‹¿tÜ
->
	`hasNext
()){

130 
šdexI‹¿tÜ
->
	`fšdNext
(
šdexI‹m
);

131 
d©a£g
->
	`fšdTu¶eAtPos™iÚ
(
tu¶e
,
šdexI‹m
->
addr
);

136 if(
	`checkI‹m
(
tu¶e
)==
Œue
){

137 
	`flI‹m
(
™em
,
tu¶e
);

139 
this
->
cu¼’tTu¶e
=
tu¶e
;

142 
this
->
šdex
->
	`»Ëa£IndexI‹m
(
šdexI‹m
);

144 
Tu¶e
 *
tu¶e
=
this
->
bË
->
	`budEm±yTu¶e
();

145 
bË
->
	`fšdFœ¡Tu¶e
(
tu¶e
);

146 
this
->
cu¼’tTu¶e
=
tu¶e
;

147 if(
tu¶e
->
tu¶eAddr
!=0){

148 
	`checkI‹m
(
tu¶e
)!=
Œue
){

149 
Addr
 
Şdaddr
=
this
->
cu¼’tTu¶e
->
tu¶eAddr
;

150 
bË
->
	`fšdNextTu¶e
(
this
->
cu¼’tTu¶e
,
tu¶e
);

151 if(
Şdaddr
==
tu¶e
->
tu¶eAddr
||tuple->tupleAddr==0) ;

154 if(
	`checkI‹m
(
tu¶e
)==
Œue
){

155 
	`flI‹m
(
™em
,
tu¶e
);

161 }if(
this
->
š™ŸlTy³
==
SPJ
::
ITERATORINITIAL
){

162 
SPJI‹m
*
sourûI‹m
 =
this
->
¥j
->
	`budSPJI‹m
();

163 
¥j
->
	`g‘Fœ¡
(
sourûI‹m
);

164 
boŞ
 
æag
=
Œue
;

165 
	`checkI‹m
(
sourûI‹m
)!=
Œue
){

166 
¥j
->
	`g‘Next
(
sourûI‹m
);

167 if(
sourûI‹m
->
u£
==0){

168 
æag
=
çl£
;

172 if(
æag
è
	`flI‹m
(
™em
,
sourûI‹m
);

173 
this
->
¥j
->
	`»Ëa£SPJI‹m
(
sourûI‹m
);

175 
	}
}

176 
boŞ
 
	gS–eùiÚ
::
	$checkI‹m
(
Tu¶e
 *
tu¶e
){

177 
f›ldNum
=
tu¶e
->
m‘a
->fieldNum;

178 
m­
<
¡ršg
,
veùÜ
<
CÚd™iÚ
> >
mp
;

179 
i
=0;i<
this
->
cÚd™iÚL’
;i++){

180 
¡ršg
 
¡r
=
this
->
cÚd™iÚ
[
i
].
fedName
;

181 
mp
[
¡r
].
	`push_back
(
cÚd™iÚ
[
i
]);

183 
út
=0;

184 
boŞ
 
æag
=
Œue
;

185 
i
=0;i<
f›ldNum
;i++){

186 
¡ršg
 
ss
=
tu¶e
->
cŞumn
[
i
].
f›ld
->
âame
;

187 if(
mp
.
	`couÁ
(
ss
)>=1){

188 
j
=0;j<
mp
[
ss
].
	`size
();j++){

190 
æag
=
Com·»Ty³
::
	`Com·»
(
tu¶e
->
cŞumn
[
i
].
d©a
,
mp
[
ss
][
j
].
v®ue
, mp[ss][j].
com·»
,tu¶e->cŞumn[i].
f›ld
->
d©aTy³
,mp[ss][j].
Ën
);

191 if(!
æag
) ;

194 if(!
æag
) ;

196  
æag
;

197 
	}
}

198 
boŞ
 
	gS–eùiÚ
::
	$checkI‹m
(
SPJI‹m
*
sourûI‹m
){

199 
f›ldNum
=
sourûI‹m
->fieldNum;

200 
m­
<
¡ršg
,
veùÜ
<
CÚd™iÚ
> >
mp
;

201 
i
=0;i<
this
->
cÚd™iÚL’
;i++){

202 
¡ršg
 
¡r
=
this
->
cÚd™iÚ
[
i
].
fedName
;

203 
mp
[
¡r
].
	`push_back
(
cÚd™iÚ
[
i
]);

205 
út
=0;

206 
boŞ
 
æag
;

207 
i
=0;i<
f›ldNum
;i++){

208 
¡ršg
 
ss
=
sourûI‹m
->
f›ldName
[
i
];

209 if(
mp
.
	`couÁ
(
ss
)>=1){

210 
j
=0;j<
mp
[
ss
].
	`size
();j++){

211 
æag
=
Com·»Ty³
::
	`Com·»
(
sourûI‹m
->
d©a
[
i
],
mp
[
ss
][
j
].
v®ue
, mp[ss][j].
com·»
,sourûI‹m->
d©aTy³
[i],sourûI‹m->
Ën
[i]);

212 if(
æag
==
çl£
) {

213  
çl£
;

218  
æag
;

219 
	}
}

221 
IndexI‹¿tÜ
* 
	gS–eùiÚ
::
	$checkIndex
(){

222 
IndexI‹¿tÜ
*
šdexI‹¿tÜ
=0;

223 
Tu¶e
 *
tu¶e
=
this
->
bË
->
	`budEm±yTu¶e
();

224 
m­
<
¡ršg
,
veùÜ
<
CÚd™iÚ
> >
mp
;

225 
IndexSegm’t
* 
idx£g
 = 
this
->
bË
->
	`g‘IndexSegm’t
();

226 
i
=0;i<
this
->
cÚd™iÚL’
;i++){

227 
¡ršg
 
¡r
=
cÚd™iÚ
[
i
].
fedName
;

228 
mp
[
¡r
].
	`push_back
(
cÚd™iÚ
[
i
]);

230 
boŞ
 
æag
=
çl£
;

231 
i
=0;i<
tu¶e
->
m‘a
->
f›ldNum
;i++){

232 
¡ršg
 
ss
=
tu¶e
->
cŞumn
[
i
].
f›ld
->
âame
;

233 if(
mp
.
	`couÁ
(
ss
)>0){

234 
j
=0;j<
idx£g
->
šdexM‘a
->
u£L’
;j++)

236 if(
idx£g
->
šdexM‘a
->
šdexLi¡
[
j
].
fid
==
tu¶e
->
cŞumn
[
i
].
f›ld
->fid){

237 
šdexI‹¿tÜ
=
	`g‘IndexI‹¿tÜ
(
idx£g
->
šdexM‘a
->
šdexLi¡
[
j
],
mp
[
ss
],idxseg);

238 if(
šdexI‹¿tÜ
!=0){

239 
æag
=
Œue
;

246 if(
æag
) ;

248 
this
->
bË
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

249  
šdexI‹¿tÜ
;

250 
	}
}

251 
IndexI‹¿tÜ
* 
	gS–eùiÚ
::
g‘IndexI‹¿tÜ
(
IndexM‘aI‹m
 
™em
,
veùÜ
<
CÚd™iÚ
>
cÚd™iÚli¡
,
IndexSegm’t
*
šdexSegm’t
){

252 
IndexI‹¿tÜ
*
	gšdexI‹¿tÜ
=0;

253 if(
	g™em
.
	gšdexTy³
==
IndexTy³
::
hashidx
&&
cÚd™iÚli¡
.
size
()==1){

254 if(
cÚd™iÚli¡
[0].
com·»
==
Com·»Ty³
::
EQUAL
){

255 
this
->
šdex
=
šdexSegm’t
->
fšdIndex
(
™em
.
fid
,
IndexTy³
::
hashidx
);

256 
	gšdexI‹¿tÜ
=
this
->
šdex
->
fšdByKey
(
cÚd™iÚli¡
[0].
v®ue
);

258 }if(
	g™em
.
	gšdexTy³
==
IndexTy³
::
b±idx
){

259 
this
->
šdex
=
šdexSegm’t
->
fšdIndex
(
™em
.
fid
,
IndexTy³
::
b±idx
);

260 if(
	gcÚd™iÚli¡
.
size
()==1){

261 if(
cÚd™iÚli¡
[0].
com·»
==
Com·»Ty³
::
EQUAL
){

262 
šdexI‹¿tÜ
=
this
->
šdex
->
fšdByKey
(
cÚd™iÚli¡
[0].
v®ue
);

263 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
LESSEQUAL
){

264 *
d©a
=0;

265 if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
DOUBLE
){

266 
d©a
=
Ãw
 ((
num”ic_lim™s
<>::
mš
)());

267 }if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
FLOAT
){

268 
d©a
=
Ãw
 ((
num”ic_lim™s
<>::
mš
)());

269 }if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
INTEGER
){

270 
d©a
=
Ãw
 ((
num”ic_lim™s
<>::
mš
)());

271 *
	ga
=
Ãw
 ((
num”ic_lim™s
<>::
mš
)());

272 
´štf
("šˆmš ::%d\n",*
a
);

274 
	gšdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
d©a
,
cÚd™iÚli¡
[0].
v®ue
);

275 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
GREATEREQUAL
){

276 *
d©a
=0;

277 if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
DOUBLE
){

278 
d©a
=
Ãw
 ((
num”ic_lim™s
<>::
max
)());

279 }if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
FLOAT
){

280 
d©a
=
Ãw
 ((
num”ic_lim™s
<>::
max
)());

281 }if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
INTEGER
){

282 
d©a
=
Ãw
 ((
num”ic_lim™s
<>::
max
)());

284 
	gšdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
cÚd™iÚli¡
[0].
v®ue
,
d©a
);

285 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
GREATER
){

286 *
d©a
=0;

287 *
	gv®ue
=0;

288 if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
DOUBLE
){

289 
d©a1
=0;

290 
	gv®ue
=
Ãw
 
By‹
[()];

291 
	gd©a
=
Ãw
 ((
num”ic_lim™s
<>::
max
)());

292 
memıy
(&
d©a1
,
cÚd™iÚli¡
[0].
v®ue
,());

293 
	gd©a1
+=0.0001;

294 
memıy
(
v®ue
,&
d©a1
,());

295 }if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
FLOAT
){

296 
d©a1
=0;

297 
	gv®ue
=
Ãw
 
By‹
[()];

298 
	gd©a
=
Ãw
 ((
num”ic_lim™s
<>::
max
)());

300 
memıy
(&
d©a1
,
cÚd™iÚli¡
[0].
v®ue
,());

301 
	gd©a1
+=0.0001;

302 
memıy
(
v®ue
,&
d©a1
,());

303 }if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
INTEGER
){

304 
d©a1
=0;

305 
	gv®ue
=
Ãw
 
By‹
[()];

306 
	gd©a
=
Ãw
 ((
num”ic_lim™s
<>::
max
)());

307 
memıy
(&
d©a1
,
cÚd™iÚli¡
[0].
v®ue
,());

308 
	gd©a1
+=1;

309 
memıy
(
v®ue
,&
d©a1
,());

311 
	gšdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
v®ue
,
d©a
);

312 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
LESS
){

313 *
d©a
=0;

314 *
	gv®ue
=0;

315 if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
DOUBLE
){

316 
d©a1
=0;

317 
	gv®ue
=
Ãw
 
By‹
[()];

318 
	gd©a
=
Ãw
 ((
num”ic_lim™s
<>::
mš
)());

319 
memıy
(&
d©a1
,
cÚd™iÚli¡
[0].
v®ue
,());

320 
	gd©a1
-=0.00001;

321 
memıy
(
v®ue
,&
d©a1
,());

322 }if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
FLOAT
){

323 
d©a1
=0;

324 
	gv®ue
=
Ãw
 
By‹
[()];

325 
	gd©a
=
Ãw
 ((
num”ic_lim™s
<>::
mš
)());

326 
memıy
(&
d©a1
,
cÚd™iÚli¡
[0].
v®ue
,());

327 
	gd©a1
-=0.00001;

328 
memıy
(
v®ue
,&
d©a1
,());

329 }if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
INTEGER
){

330 
d©a1
=0;

331 
	gv®ue
=
Ãw
 
By‹
[()];

332 
	gd©a
=
Ãw
 ((
num”ic_lim™s
<>::
mš
)());

333 
memıy
(&
d©a1
,
cÚd™iÚli¡
[0].
v®ue
,());

334 
	gd©a1
-=1;

335 
memıy
(
v®ue
,&
d©a1
,());

337 
	gšdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
d©a
,
v®ue
);

339 }if(
	gcÚd™iÚli¡
.
size
()==2){

340 *
v®ue1
=0;

341 *
	gv®ue2
=0;

342 *
	gv®ue3
=0;

343 *
	gv®ue4
=0;

344 if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
DOUBLE
){

345 
d©a1
=0;

346 
	gv®ue1
=
Ãw
 
By‹
[()];

347 
	gv®ue2
=
Ãw
 
By‹
[()];

348 
memıy
(&
d©a1
,
cÚd™iÚli¡
[0].
v®ue
,());

349 
	gd©a1
-=0.00001;

350 
memıy
(
v®ue1
,&
d©a1
,());

351 
	gd©a1
+=0.00002;

352 
memıy
(
v®ue2
,&
d©a1
,());

353 }if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
FLOAT
){

354 
d©a1
=0;

355 
	gv®ue1
=
Ãw
 
By‹
[()];

356 
	gv®ue2
=
Ãw
 
By‹
[()];

357 
memıy
(&
d©a1
,
cÚd™iÚli¡
[0].
v®ue
,());

358 
	gd©a1
-=0.00001;

359 
memıy
(
v®ue1
,&
d©a1
,());

360 
	gd©a1
+=0.00002;

361 
memıy
(
v®ue2
,&
d©a1
,());

362 }if(
	gcÚd™iÚli¡
[0].
	gD©aTy³
==
D©aTy³FÏg
::
INTEGER
){

363 
d©a1
=0;

364 
	gv®ue1
=
Ãw
 
By‹
[()];

365 
	gv®ue2
=
Ãw
 
By‹
[()];

366 
memıy
(&
d©a1
,
cÚd™iÚli¡
[0].
v®ue
,());

367 
	gd©a1
-=1;

368 
memıy
(
v®ue1
,&
d©a1
,());

369 
	gd©a1
+=2;

370 
memıy
(
v®ue2
,&
d©a1
,());

372 if(
	gcÚd™iÚli¡
[1].
	gD©aTy³
==
D©aTy³FÏg
::
DOUBLE
){

373 
d©a1
=0;

374 
	gv®ue3
=
Ãw
 
By‹
[()];

375 
	gv®ue4
=
Ãw
 
By‹
[()];

376 
memıy
(&
d©a1
,
cÚd™iÚli¡
[1].
v®ue
,());

377 
	gd©a1
-=0.00001;

378 
memıy
(
v®ue3
,&
d©a1
,());

379 
	gd©a1
+=0.00002;

380 
memıy
(
v®ue4
,&
d©a1
,());

381 }if(
	gcÚd™iÚli¡
[1].
	gD©aTy³
==
D©aTy³FÏg
::
FLOAT
){

382 
d©a1
=0;

383 
	gv®ue3
=
Ãw
 
By‹
[()];

384 
	gv®ue4
=
Ãw
 
By‹
[()];

385 
memıy
(&
d©a1
,
cÚd™iÚli¡
[1].
v®ue
,());

386 
	gd©a1
-=0.00001;

387 
memıy
(
v®ue3
,&
d©a1
,());

388 
	gd©a1
+=0.00002;

389 
memıy
(
v®ue4
,&
d©a1
,());

390 }if(
	gcÚd™iÚli¡
[1].
	gD©aTy³
==
D©aTy³FÏg
::
INTEGER
){

391 
d©a1
=0;

392 
	gv®ue3
=
Ãw
 
By‹
[()];

393 
	gv®ue4
=
Ãw
 
By‹
[()];

394 
memıy
(&
d©a1
,
cÚd™iÚli¡
[1].
v®ue
,());

395 
	gd©a1
-=1;

396 
memıy
(
v®ue3
,&
d©a1
,());

397 
	gd©a1
+=2;

398 
memıy
(
v®ue4
,&
d©a1
,());

400 if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
LESS
&&
cÚd™iÚli¡
[1].
com·»
==Com·»Ty³::
GREATER
){

401 
šdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
v®ue4
,
v®ue1
);

402 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
LESS
&&
cÚd™iÚli¡
[1].
com·»
==Com·»Ty³::
GREATEREQUAL
){

403 
šdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
cÚd™iÚli¡
[1].
v®ue
,
v®ue1
);

404 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
=
Com·»Ty³
::
LESSEQUAL
&&
cÚd™iÚli¡
[1].
com·»
==Com·»Ty³::
GREATER
){

405 
šdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
v®ue4
,
cÚd™iÚli¡
[0].
v®ue
);

406 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
LESSEQUAL
&&
cÚd™iÚli¡
[1].
com·»
==Com·»Ty³::
GREATEREQUAL
){

407 
šdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
cÚd™iÚli¡
[1].
v®ue
,conditionlist[0].value);

408 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
GREATEREQUAL
&&
cÚd™iÚli¡
[1].
com·»
==Com·»Ty³::
LESSEQUAL
){

409 
šdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
cÚd™iÚli¡
[0].
v®ue
,conditionlist[1].value);

410 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
GREATEREQUAL
&&
cÚd™iÚli¡
[1].
com·»
==Com·»Ty³::
LESS
){

411 
šdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
cÚd™iÚli¡
[0].
v®ue
,
v®ue3
);

412 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
GREATER
&&
cÚd™iÚli¡
[1].
com·»
==Com·»Ty³::
LESS
){

413 
šdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
v®ue2
,
v®ue3
);

414 }if(
	gcÚd™iÚli¡
[0].
	gcom·»
==
Com·»Ty³
::
GREATER
&&
cÚd™iÚli¡
[1].
com·»
==Com·»Ty³::
LESSEQUAL
){

415 
šdexI‹¿tÜ
=
this
->
šdex
->
fšdByRªge
(
v®ue2
,
cÚd™iÚli¡
[1].
v®ue
);

419  
	gšdexI‹¿tÜ
;

421 
	gS–eùiÚ
::
	$flI‹m
(
SPJI‹m
*
™em
,
Tu¶e
 *
tu¶e
){

422 
i
=0;i<
™em
->
f›ldNum
;i++){

423 
™em
->
f›ldName
[
i
]=
tu¶e
->
cŞumn
[i].
f›ld
->
âame
;

424 if(
™em
->
d©a
[
i
]==0)

425 
™em
->
d©a
[
i
]=
Ãw
 
By‹
[
tu¶e
->
cŞumn
[i].
f›ld
->
Ën
];

426 
	`memıy
(
™em
->
d©a
[
i
],
tu¶e
->
cŞumn
[i].d©a,tu¶e->cŞumn[i].
f›ld
->
Ën
);

427 
™em
->
Ën
[
i
]=
tu¶e
->
cŞumn
[i].
f›ld
->len;

428 
™em
->
d©aTy³
[
i
]=
tu¶e
->
cŞumn
[i].
f›ld
->dataType;

430 
™em
->
u£
=1;

431 
	}
}

432 
	gS–eùiÚ
::
	$flI‹m
(
SPJI‹m
*
™em
,SPJI‹m*
sourûI‹m
){

433 
f›ldNum
=
sourûI‹m
->fieldNum;

434 
™em
->
f›ldNum
=fieldNum;

435 if(
this
->
cŞumnNum
==0){

436 
this
->
cŞumnNum
=
f›ldNum
;

437 
™em
->
f›ldName
=
Ãw
 
¡ršg
[
this
->
cŞumnNum
];

438 
™em
->
d©a
=
Ãw
 *[
this
->
cŞumnNum
];

439 
i
=0;i<
this
->
cŞumnNum
;i++è
™em
->
d©a
[i]=0;

440 
™em
->
Ën
=
Ãw
 [
this
->
cŞumnNum
];

441 
™em
->
d©aTy³
=
Ãw
 
By‹
[
this
->
cŞumnNum
];

443 
i
=0;i<
f›ldNum
;i++){

444 
™em
->
f›ldName
[
i
]=
sourûI‹m
->fieldName[i];

445 if(
™em
->
d©a
[
i
]==0è™em->d©a[i]=
Ãw
 
By‹
[
sourûI‹m
->
Ën
[i]];

446 
	`memıy
(
™em
->
d©a
[
i
],
sourûI‹m
->d©a[i],sourûI‹m->
Ën
[i]);

447 
™em
->
d©aTy³
[
i
]=
sourûI‹m
->dataType[i];

448 
™em
->
Ën
[
i
]=
sourûI‹m
->len[i];

450 
™em
->
u£
=
sourûI‹m
->use;

451 
	}
}

452 
	gS–eùiÚ
::
	$š™S–eùiÚ
(
SPJ
*
¥j
,
CÚd™iÚ
 
cÚd™iÚ
[] ,
cÚd™iÚL’
){

453 
this
->
¥j
=spj;

454 
this
->
cÚd™iÚ
=condition;

455 
this
->
cÚd™iÚL’
=conditionLen;

456 
	}
}

458 
	gS–eùiÚ
::
	$¥jFÜUpd©e
(
SPJI‹m
 * 
™em
, * 
f›ldName
, 
štV®ue
, 
æßtV®ue
, * 
¡r
, 
æag
)

460 
times
 = 0;

461 
TabËM‘a
 *
m‘a
 = 
bË
->
	`g‘TabËM‘a
();

462 
Tu¶e
 *
tu¶e
=
this
->
bË
->
	`budEm±yTu¶e
();

464 
bË
->
	`fšdFœ¡Tu¶e
(
tu¶e
);

465 
this
->
cu¼’tTu¶e
=
tu¶e
;

466 
Addr
 
ŞdAddr
=0u;

468 
ŞdAddr
!=
tu¶e
->
tu¶eAddr
&&tuple->tupleAddr!=0)

470 if(
	`checkI‹m
(
tu¶e
)==
Œue
)

473 
i
 = 0; i < 
m‘a
->
f›ldNum
; i ++)

475 if(
	`¡rcmp
(
f›ldName
, 
tu¶e
->
cŞumn
[
i
].
f›ld
->
âame
)==0)

477 
æag
)

480 
TabËUt
::
	`wr™eCŞumn
(&
štV®ue
,&
tu¶e
->
cŞumn
[
i
]);

483 
TabËUt
::
	`wr™eCŞumn
(&
æßtV®ue
,&
tu¶e
->
cŞumn
[
i
]);

486 
TabËUt
::
	`wr™eCŞumn
(
¡r
,&
tu¶e
->
cŞumn
[
i
]);

494 
bË
->
	`æushTu¶e
(
tu¶e
);

498 
this
->
cu¼’tTu¶e
=
tu¶e
;

499 
times
 ++;

501 
ŞdAddr
=
this
->
cu¼’tTu¶e
->
tu¶eAddr
;

503 
bË
->
	`fšdNextTu¶e
(
tu¶e
,uple);

505 
bË
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

507  
times
;

508 
	}
}

510 
	gS–eùiÚ
::
	$¥jFÜD–‘e
(
SPJI‹m
 * 
™em
)

512 
times
 = 0;

513 
Tu¶e
 *
tu¶e
=
this
->
bË
->
	`budEm±yTu¶e
();

514 
bË
->
	`fšdFœ¡Tu¶e
(
tu¶e
);

515 
this
->
cu¼’tTu¶e
=
tu¶e
;

516 
Addr
 
ŞdAddr
=0u;

518 
ŞdAddr
!=
tu¶e
->
tu¶eAddr
&&tuple->tupleAddr!=0)

520 if(
	`checkI‹m
(
tu¶e
)==
Œue
)

523 
bË
->
	`d–‘eTu¶e
(
tu¶e
);

524 
this
->
cu¼’tTu¶e
=
tu¶e
;

525 
times
 ++;

528 
ŞdAddr
=
this
->
cu¼’tTu¶e
->
tu¶eAddr
;

530 
bË
 ->
	`fšdNextTu¶e
(
tu¶e
,tuple);

533 
bË
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

534  
times
;

535 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Selection.h

1 #iâdeà 
SELECTION_H_INCLUDED


2 
	#SELECTION_H_INCLUDED


	)

3 
	~"SPJ.h
"

4 
	~"../ut/D©aUt.h
"

5 
	~<¡ršg
>

6 
	~<m­
>

8 
By‹
 
	mcÚd™iÚTy³
;

9 
¡ršg
 
	mfedName
;

11 *
	mv®ue
;

12 
By‹
 
	mcom·»
;

13 
By‹
 
	mD©aTy³
;

14 
	mËn
;

15 }
	tCÚd™iÚ
;

17 şas 
	cCom·»Ty³
{

18 
	mpublic
:

19 cÚ¡ 
By‹
 
LESS
=2;

20 cÚ¡ 
By‹
 
	mGREATER
=3;

21 cÚ¡ 
By‹
 
	mEQUAL
=0;

22 cÚ¡ 
By‹
 
	mGREATEREQUAL
=4;

23 cÚ¡ 
By‹
 
	mLESSEQUAL
=5;

24 cÚ¡ 
By‹
 
	mNOTEQUAL
=1;

25 cÚ¡ 
By‹
 
	mADD
 = 6;

26 cÚ¡ 
By‹
 
	mSUB
 = 7;

27 cÚ¡ 
By‹
 
	mMUL
 = 8;

28 cÚ¡ 
By‹
 
	mDIV
 = 9;

29 cÚ¡ 
By‹
 
	mMOD
 = 10;

30 cÚ¡ 
By‹
 
	mNEG
 = 11;

31 
	mpublic
 :

32 
boŞ
 
	$Com·»
(*
v®ue1
,*
v®ue2
,
By‹
 
cmpTy³
,
d©aTy³
,
Ën
){

33 
By‹
*
d©a1
=
Ãw
 By‹[
Ën
];

34 
By‹
*
d©a2
=
Ãw
 By‹[
Ën
];

35 
	`memıy
(
d©a1
,
v®ue1
,
Ën
);

36 
	`memıy
(
d©a2
,
v®ue2
,
Ën
);

38 
»suÉ
=
D©aUt
::
	`cmpD©a
(
d©a1
,
d©a2
,
d©aTy³
,
Ën
);

39 
cmpTy³
){

40 
Com·»Ty³
::
LESS
:

41 if(
»suÉ
<0){

42  
Œue
;

44  
çl£
;

46 
Com·»Ty³
::
GREATER
:

47 if(
»suÉ
>0){

48  
Œue
;

50  
çl£
;

52 
Com·»Ty³
::
GREATEREQUAL
:

53 if(
»suÉ
>0||result==0){

54  
Œue
;

56  
çl£
;

58 
Com·»Ty³
::
LESSEQUAL
:

59 if(
»suÉ
<0||result==0){

60  
Œue
;

62  
çl£
;

64 
Com·»Ty³
::
EQUAL
:

65 if(
»suÉ
==0){

66  
Œue
;

68  
çl£
;

70 
Com·»Ty³
::
NOTEQUAL
:

71 if(
»suÉ
!=0){

72  
Œue
;

74  
çl£
;

79 
	$com·»
(*
v®ue1
,*
v®ue2
,
Ën
){

80 
By‹
*
d©a1
=
Ãw
 By‹[
Ën
];

81 
By‹
*
d©a2
=
Ãw
 By‹[
Ën
];

82 
	`memıy
(
d©a1
,
v®ue1
,
Ën
);

83 
	`memıy
(
d©a2
,
v®ue2
,
Ën
);

84 
æag
=1;

85 
i
=0;i<
Ën
;i++){

86 if(
d©a1
[
i
]<
d©a2
[i]){

87 
æag
=0;

89 }if(
d©a1
[
i
]>
d©a2
[i]){

90 
æag
=2;

94  
æag
;

95 
	}
}

98 şas 
	cS–eùiÚ
 :
public
 
SPJ
{

99 
public
:

100 
g‘Next
(
SPJI‹m
*
™em
);

101 
g‘Fœ¡
(
SPJI‹m
 * 
™em
);

102 
š™S–eùiÚ
(
TabË
*
bË
,
CÚd™iÚ
*
cÚd™iÚ
,
cÚd™iÚL’
);

103 
š™S–eùiÚ
(
SPJ
*
¥j
,
CÚd™iÚ
*
cÚd™iÚ
,
cÚd™iÚL’
);

104 
»Ëa£SPJI‹m
(
SPJI‹m
*
™em
);

105 
IndexI‹¿tÜ
* 
checkIndex
();

106 
boŞ
 
checkI‹m
(
Tu¶e
 *
tu¶e
);

107 
boŞ
 
checkI‹m
(
SPJI‹m
*
sourûI‹m
);

108 
SPJI‹m
* 
budSPJI‹m
();

109 
S–eùiÚ
(
ty³
,
š™Ÿl
);

110 
flI‹m
(
SPJI‹m
*
™em
,
Tu¶e
 *
tu¶e
);

111 
flI‹m
(
SPJI‹m
*
™em
,SPJI‹m* 
sourûI‹m
);

112 
IndexI‹¿tÜ
*
g‘IndexI‹¿tÜ
(
IndexM‘aI‹m
 
™em
,
veùÜ
<
CÚd™iÚ
>
cÚd™iÚli¡
,
IndexSegm’t
*
šdexSegm’t
);

113 
de¡roy
();

114 
¥jFÜUpd©e
(
SPJI‹m
 * 
™em
, * 
f›ldName
, 
štV®ue
, 
æßtV®ue
, * 
¡r
, 
æag
);

115 
¥jFÜD–‘e
(
SPJI‹m
 * 
™em
);

116 
	m´iv©e
:

117 
By‹
 
š™ŸlTy³
;

118 
Tu¶e
*
	mcu¼’tTu¶e
;

119 
By‹
 
	mİ”©ÜTy³
;

120 
¡ršg
*
	mcŞumns
;

121 
	mcŞumnNum
;

122 
CÚd™iÚ
*
	mcÚd™iÚ
;

123 
	mcÚd™iÚL’
;

124 
By‹
*
	md©aTy³
;

125 
SPJ
*
	m¥j
;

126 
Index
*
	mšdex
;

127 
IndexI‹¿tÜ
*
	mšdexI‹¿tÜ
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/buffer/BufferManager.cpp

1 
	~<queue
>

2 
	~<m­
>

4 
	~"BufãrMªag”.h
"

5 #ifdeà
DEBUG


6 
	~<c¡dlib
>

7 
	~<c¡dio
>

10 
	gBufãrSŒ©egy
::
	$BufãrSŒ©egy
()

14 
	}
}

15 
BufãrSŒ©egy
::
š™Ÿlize
Ğ
¡d
::
queue
<
BufãrF¿me
*>*& 
ques
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­s
)

17 
	gthis
->
	gque
 = 
ques
;

18 
	gthis
->
	g·geM­
 = 
·geM­s
;

20 
	gBufãrSŒ©egy
::~
	$BufãrSŒ©egy
(){
	}
}

22 
FIFOSŒ©egy
::
	$FIFOSŒ©egy
():
	$BufãrSŒ©egy
()

24 
this
->
·geS‘
 = 0;

25 
this
->
que
 = 0;

26 
this
->
·geM­
 = 0;

27 
	}
}

28 
	gFIFOSŒ©egy
::
š™Ÿlize
Ğ
¡d
::
queue
<
BufãrF¿me
*>*& 
ques
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­s
)

30 
	gques
 = 
Ãw
 
¡d
::
queue
<
BufãrF¿me
*>();

31 
	g·geM­s
 = 
Ãw
 
¡d
::
m­
<
Addr
,
	gBufãrF¿me
*>();

32 
	gthis
->
	gque
 = 
ques
;

33 
	gthis
->
	g·geM­
 = 
·geM­s
;

34 
	gthis
->
	g·geS‘
 = 
Ãw
 
¡d
::
£t
<
Addr
>();

36 
	gFIFOSŒ©egy
::
»Ëa£
(
¡d
::
queue
<
BufãrF¿me
*>*& 
que
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­
)

38 
d–‘e
 
	gque
;

39 
d–‘e
 
	g·geM­
;

40 
	gque
 = 0;

41 
	g·geM­
 = 0;

42 
	gthis
->
	gque
=0;

43 
	gthis
->
	g·geM­
=0;

44 
	g·geS‘
->
ş—r
();

46 
	gFIFOSŒ©egy
::~
	$FIFOSŒ©egy
()

48 if(
·geS‘
!=0)

50 
·geS‘
->
	`ş—r
();

51 
d–‘e
 
·geS‘
;

53 
·geS‘
 = 0;

54 if(
this
->
que
!=0)

56 
d–‘e
 
this
->
que
;

57 
this
->
que
 = 0;

59 if(
this
->
·geM­
!=0)

61 
d–‘e
 
this
->
·geM­
;

62 
this
->
·geM­
 =0;

64 
	}
}

66 
	gFIFOSŒ©egy
::
	$wh’R—d
(
BufãrF¿me
* 
äame
)

69 if(
·geS‘
->
	`fšd
(
äame
->
·geNo
)=õageS‘->
	`’d
())

72 
que
->
	`push
(
äame
);

74 
·geS‘
->
	`š£¹
(
äame
->
·geNo
);

78 
	}
}

80 
	gFIFOSŒ©egy
::
	$wh’Wr™e
(
BufãrF¿me
* 
äame
)

82 if(
·geS‘
->
	`fšd
(
äame
->
·geNo
)=õageS‘->
	`’d
())

84 
que
->
	`push
(
äame
);

85 
·geS‘
->
	`š£¹
(
äame
->
·geNo
);

88 
	}
}

90 
	gFIFOSŒ©egy
::
–eùPageToDrİ
(
¡d
::
veùÜ
<
Addr
>& 
vec
,
numb”
)

92 
	gnumb”
>0&&!
	gque
->
em±y
())

94 
BufãrF¿me
* 
	gäame
 = 
que
->
äÚt
();

95 #ifdeà
DEBUG


96 
´štf
("·g%Îd wa –eùed!\n",
äame
->
·geNo
);

98 
	gque
->
pİ
();

99 
	gnumb”
--;

100 
	gvec
.
push_back
(
äame
->
·geNo
);

101 
	g·geS‘
->
”a£
(
äame
->
·geNo
);

105 
SŒ©egyInBufãr
 
	gFIFOSŒ©egy
::
	$g‘SŒ©egy
()

107  
FIFO
;

108 
	}
}

111 
	gBufãrMªag”
::
	$BufãrMªag”
(
BufãrSŒ©egy
* 
_¡¿‹gy
,
PageUt
* 
_ut
):
	`¡¿‹gy
(_¡¿‹gy),
	$ut
(
ut
)

113 
this
->
¡¿‹gy
 = strategy;

114 
this
->
ut
 = 
_ut
;

115 
¡¿‹gy
->
	`š™Ÿlize
(
this
->
·geQue
,this->
m­pšg
);

116 
wa™FÜR—dOrWr™e
 = 
Ãw
 
¡d
::
£t
<
Addr
>();

117 
æush”Queue
 = 
Ãw
 
¡d
::
queue
<
BufãrF¿me
*>();

118 
this
->
æag
 = 
Œue
;

121 
pid
 = 
Th»ad
::
	`¡¬t
(
æush”
,
this
,
Œue
);

123 #ifdeà
DEBUG


124 if(
pid
<=0)

126 
	`´štf
("thread start failure!");

128 
	`´štf
("mgr construct");

130 
	}
}

132 
	gBufãrMªag”
::~
	$BufãrMªag”
()

135 if(
¡¿‹gy
==0)

137 #ifdeà
DEBUG


138 
	`´štf
(" strategy was„eleasedƒarly!");

145 
	`æushAÎ
();

146 !
this
->
æush”Queue
->
	`em±y
());

147 
¡¿‹gy
->
	`»Ëa£
(
this
->
·geQue
,this->
m­pšg
);

148 
this
->
·geQue
=0;

149 
this
->
m­pšg
=0;

150 
æag
 = 
çl£
;

152 !
this
->
æag
);

153 
d–‘e
 
wa™FÜR—dOrWr™e
;

154 
wa™FÜR—dOrWr™e
 = 0;

155 
d–‘e
 
æush”Queue
;

156 
æush”Queue
 = 0;

157 #ifdeà
DEBUG


158 
	`´štf
("mgr destroy");

160 
	}
}

161 
	gBufãrMªag”
::
	$drİout
(
drİ
)

163 
¡d
::
veùÜ
<
Addr
> 
vec
;

164 
¡d
::
m­
<
Addr
,
BufãrF¿me
*>::
™”©Ü
 
™”
;

165 
¡¿‹gy
->
	`–eùPageToDrİ
(
vec
,
drİ
);

170 
size_t
 
vecL’
 = 
vec
.
	`size
();

171 
size_t
 
i
=0;i<
vecL’
;i++)

173 
Addr
 
·geNumb”
 = 
vec
[
i
];

174 
™”
 = 
m­pšg
->
	`fšd
(
·geNumb”
);

175 if(
™”
!=
m­pšg
->
	`’d
())

177 
BufãrF¿me
* 
rw
 = 
™”
->
£cÚd
;

178 if(
rw
->
·ge
->
»adLock
>0||rw->·ge->
wr™eLock
)

182 
this
->
wa™FÜR—dOrWr™e
->
	`š£¹
(
rw
->
·geNo
);

185 
this
->
æush”Queue
->
	`push
(
rw
);

186 #ifdeà
DEBUG


187 
	`´štf
("\Åushh·gno=%ÎdØthqueue, f¿me.ed™ = %d\n",
rw
->
·geNo
,rw->
ed™
);

189 
m­pšg
->
	`”a£
(
™”
);

191 
™”
 = 
m­pšg
->
	`’d
();

194 #ifdeà
DEBUG


195 
	`´štf
("mov·geNo=%Îd cau£d…ag”rÜ",
·geNumb”
);

199 
	}
}

200 
BufãrF¿me
* 
	gBufãrMªag”
::
	$»que¡PageFÜR—d
(
Addr
 
·geAddr
)

202 
Addr
 
·geNo
 = 
	`PAGE_ID
(
·geAddr
);

203 #ifdeà
DEBUG


206 
BufãrF¿me
* 
äame
 = 0;

207 
¡d
::
m­
<
Addr
,
BufãrF¿me
*>::
™”©Ü
 
™”
;

208 
™”
ğ
m­pšg
->
	`fšd
(
·geNo
);

209 if(
™”
==
m­pšg
->
	`’d
())

213 if(
m­pšg
->
	`size
()>=
MAX_PAGE_IN_MEMORY
&&
·geQue
->size()>=MAX_PAGE_IN_MEMORY/2)

215 
	`drİout
(
¡©ic_ÿ¡
<>(
MAX_PAGE_IN_MEMORY
*
SWAP_RATE
));

219 
this
->
	`budBufãrF¿me
(
äame
,
·geNo
);

220 
ut
->
	`»adPage
(
·geNo
,*
äame
->
·ge
);

221 
äame
->
·ge
->
»adLock
++;

222 
äame
->
»que¡FÜU£
=
BREAD
;

223 
m­pšg
->
	`š£¹
(
¡d
::
m­
<
Addr
,
BufãrF¿me
*>::
	`v®ue_ty³
(
·geNo
,
äame
));

224 
¡¿‹gy
->
	`wh’R—d
(
äame
);

225  
äame
;

228 
äame
 = 
™”
->
£cÚd
;

229 
äame
->
·ge
->
»adLock
++;

230 
¡¿‹gy
->
	`wh’R—d
(
äame
);

231  
äame
;

233 
	}
}

234 
BufãrF¿me
* 
	gBufãrMªag”
::
	$®locNewBufãrF¿meFÜWr™e
()

236 
Page
 
p
;

237 
Addr
 
addr
 = 
ut
->
	`budNewPage
(
p
);

238  
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

239 
	}
}

240 
BufãrF¿me
* 
	gBufãrMªag”
::
	$»que¡PageFÜWr™e
(
Addr
 
·geAddr
,
boŞ
 
asyc
)

242 
Addr
 
·geNo
 = 
	`PAGE_ID
(
·geAddr
);

243 
BufãrF¿me
* 
äame
 = 0;

244 
¡d
::
m­
<
Addr
,
BufãrF¿me
*>::
™”©Ü
 
™”
;

245 
™”
ğ
m­pšg
->
	`fšd
(
·geNo
);

246 if(
™”
==
m­pšg
->
	`’d
())

250 if(
m­pšg
->
	`size
()>=
MAX_PAGE_IN_MEMORY
&&
·geQue
->size()>=MAX_PAGE_IN_MEMORY/2)

252 
	`drİout
(
¡©ic_ÿ¡
<>(
MAX_PAGE_IN_MEMORY
*
SWAP_RATE
));

255 
this
->
	`budBufãrF¿me
(
äame
,
·geNo
);

256 
ut
->
	`»adPage
(
·geNo
,*
äame
->
·ge
);

258 
äame
->
·ge
->
wr™eLock
=
Œue
;

259 
äame
->
»que¡FÜU£
=
BWRITE
;

260 
m­pšg
->
	`š£¹
(
¡d
::
m­
<
Addr
,
BufãrF¿me
*>::
	`v®ue_ty³
(
·geNo
,
äame
));

261 
¡¿‹gy
->
	`wh’Wr™e
(
äame
);

262  
äame
;

265 
äame
 = 
™”
->
£cÚd
;

266 
äame
->
»que¡FÜU£
=
BWRITE
;

267 if(!
äame
->
·ge
->
wr™eLock
)

269 
äame
->
·ge
->
wr™eLock
=
Œue
;

270 
¡¿‹gy
->
	`wh’Wr™e
(
äame
);

271  
äame
;

275 if(!
asyc
)

277 
Œue
)

279 
äame
->
·ge
->
wr™eLock
);

280 if(!
äame
->
·ge
->
wr™eLock
)

281 { 
äame
->
·ge
->
wr™eLock
=
Œue
;

282  
äame
;

291 
	}
}

292 
	gBufãrMªag”
::
	$fšishWr™e
(
BufãrF¿me
* 
äame
)

294 
äame
->
·ge
->
wr™eLock
=
çl£
;

295 
¡d
::
£t
<
Addr
>::
™”©Ü
 
£tI‹r
 = 
this
->
wa™FÜR—dOrWr™e
->
	`fšd
(
äame
->
·geNo
);

296 if(
£tI‹r
!=
this
->
wa™FÜR—dOrWr™e
->
	`’d
())

298 if(
äame
->
·ge
->
»adLock
==0&&!äame->·ge->
wr™eLock
)

301 
this
->
wa™FÜR—dOrWr™e
->
	`”a£
(
£tI‹r
);

302 
¡d
::
m­
<
Addr
,
BufãrF¿me
*>::
™”©Ü
 
m­I‹r
 = 
m­pšg
->
	`fšd
(
äame
->
·geNo
);

303 if(
m­I‹r
!=
m­pšg
->
	`’d
())

305 
m­pšg
->
	`”a£
(
m­I‹r
);

308 #ifdeà
DEBUG


309 
	`´štf
("·geNØ%Îd i missšg wh’ fšish„—d",
äame
->
·geNo
);

312 
this
->
æush”Queue
->
	`push
(
äame
);

315 
	}
}

316 
	gBufãrMªag”
::
	$fšishR—d
(
BufãrF¿me
* 
äame
)

318 
äame
->
·ge
->
»adLock
--;

319 
¡d
::
£t
<
Addr
>::
™”©Ü
 
h£tI‹r
 = 
this
->
wa™FÜR—dOrWr™e
->
	`fšd
(
äame
->
·geNo
);

321 if(
h£tI‹r
!=
this
->
wa™FÜR—dOrWr™e
->
	`’d
())

323 if(
äame
->
·ge
->
»adLock
==0&&!äame->·ge->
wr™eLock
)

325 
this
->
wa™FÜR—dOrWr™e
->
	`”a£
(
h£tI‹r
);

326 
¡d
::
m­
<
Addr
,
BufãrF¿me
*>::
™”©Ü
 
m­I‹r
 = 
m­pšg
->
	`fšd
(
äame
->
·geNo
);

327 if(
m­I‹r
!=
m­pšg
->
	`’d
())

329 
m­pšg
->
	`”a£
(
m­I‹r
);

332 #ifdeà
DEBUG


333 
	`´štf
("·geNØ%Îd i missšg wh’ fšish„—d",
äame
->
·geNo
);

336 
this
->
æush”Queue
->
	`push
(
äame
);

339 
	}
}

340 
	gBufãrMªag”
::
	$budBufãrF¿me
(
BufãrF¿me
*& 
äame
, 
Addr
 
·geNo
)

342 
äame
 = 
Ãw
 
	`BufãrF¿me
();

343 
äame
->
·geNo
=pageNo;

344 
äame
->
·ge
=
Ãw
 
	`Page
();

345 
this
->
ut
->
	`budPage
(*
äame
->
·ge
,
·geNo
);

346 
äame
->
»que¡FÜU£
=
EMPTY
;

347 
äame
->
¡©us
=
EMPTY
;

348 
äame
->
ed™
 =
çl£
;

350 
	}
}

351 
	gBufãrMªag”
::
	$»Ëa£BufãrF¿me
(
BufãrF¿me
*& 
äame
)

353 #ifdeà
DEBUG


354 
	`´štf
("»Ëa£ f¿m·geNØ%Îx\t",
äame
->
·geNo
);

356 
this
->
ut
->
	`»Ëa£Page
(*
äame
->
·ge
);

357 
d–‘e
 
äame
->
·ge
;

358 
äame
->
·ge
=0;

359 
äame
->
·geNo
=-1;

360 
d–‘e
 
äame
;

361 
äame
 = 0;

363 
	}
}

364 
	gBufãrMªag”
::
	$æush”
(* 
±r
)

366 
BufãrMªag”
* 
mgr
 = 
¡©ic_ÿ¡
<BufãrMªag”*>(
±r
);

367 #ifdeà
DEBUG


368 
	`´štf
("do flusher");

370 
mgr
->
æag
)

373 
¡d
::
queue
<
BufãrF¿me
*>* 
que
 = 
mgr
->
	`g‘Flush”Queue
();

374 !
que
->
	`em±y
())

376 
BufãrF¿me
* 
äame
 = 
que
->
	`äÚt
();

377 
que
->
	`pİ
();

378 #ifdeà
DEBUG


379 
	`´štf
("tg‘‡…agäom‡ queuno=%Îx\t",
äame
->
·geNo
);

382 if(
äame
->
ed™
)

384 
mgr
->
	`g‘PageUt
()->
	`wr™ePage
(
äame
->
·geNo
,*äame->
·ge
);

386 
mgr
->
	`»Ëa£BufãrF¿me
(
äame
);

387 
äame
 = 0;

390 
mgr
->
æag
=
Œue
;

391 
mgr
->
pid
=0;

392 
	}
}

398 
	gBufãrMªag”
::
	$æushAÎ
()

401 
this
->
·geQue
->
	`size
()>0)

403 #ifdeà
DEBUG


404 
	`´štf
("¨loİ oàdrİpšg sizğ%ld\n",
this
->
·geQue
->
	`size
());

406 
	`drİout
(
this
->
·geQue
->
	`size
());

409 
	}
}

411 
PageUt
* 
	gBufãrMªag”
::
	$g‘PageUt
()

413  
ut
;

414 
	}
}

415 
	g¡d
::
queue
<
BufãrF¿me
*>* 
BufãrMªag”
::
	$g‘Flush”Queue
()

417  
this
->
æush”Queue
;

418 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/buffer/BufferManager.h

1 #iâdeà
BUFFER_MANAGER_INCLUDED


2 
	#BUFFER_MANAGER_INCLUDED


	)

6 
	#MAX_PAGE_IN_MEMORY
 1024*16

	)

10 
	#SWAP_RATE
 0.05

	)

11 
	#BREAD
 0x88

	)

12 
	#BWRITE
 0x89

	)

13 
	#WRITE_DIRTY
 0x90

	)

14 
	#EMPTY
 0x91

	)

16 
	~<queue
>

17 
	~<m­
>

18 
	~<£t
>

20 
	~"../commÚ.h
"

21 
	~"../¡Üage/DBFe.h
"

22 
	~"../¡Üage/PageUt.h
"

23 
	~"../ut/Th»ad.h
"

43 şas 
	cBufãrF¿me


45 
	mpublic
:

46 
DBFe
* 
dbfe
;

47 
Page
* 
	m·ge
;

48 
Addr
 
	m·geNo
;

49 
	m¡©us
;

50 
	m»que¡FÜU£
;

51 
	mm¬k
;

52 
	mm¬k2
;

53 
boŞ
 
	med™
;

56 
boŞ
 
	mİ”©Ü
==(cÚ¡ 
BufãrF¿me
& 
i
ècÚ¡ {  (
·geNo
==i.pageNo); }

58 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gBufãrF¿me
& 
	gi
ècÚ¡ {  (
	g·geNo
<i.pageNo); }

71 şas 
	cBufãrSŒ©egy


73 
	mpublic
:

74 
vœtu®
 
wh’R—d
(
BufãrF¿me
* 
äame
)=0;

75 
vœtu®
 
wh’Wr™e
(
BufãrF¿me
* 
äame
)=0;

76 
vœtu®
 
–eùPageToDrİ
(
¡d
::
veùÜ
<
Addr
>& 
vec
,
numb”
)=0;

77 
vœtu®
 
»Ëa£
(
¡d
::
queue
<
BufãrF¿me
*>*& 
que
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­
)=0;

78 
BufãrSŒ©egy
();

79 
vœtu®
 
š™Ÿlize
Ğ
¡d
::
queue
<
BufãrF¿me
*>*& 
que
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­
)=0;

80 ~
BufãrSŒ©egy
();

81 
vœtu®
 
SŒ©egyInBufãr
 
g‘SŒ©egy
()=0;

82 
	m´Ùeùed
:

83 
¡d
::
queue
<
BufãrF¿me
*>* 
que
;

84 
	m¡d
::
m­
<
Addr
,
	mBufãrF¿me
*>* 
	m·geM­
;

87 şas 
	cFIFOSŒ©egy
:
public
 
BufãrSŒ©egy


89 
public
:

90 
FIFOSŒ©egy
();

91 
š™Ÿlize
Ğ
¡d
::
queue
<
BufãrF¿me
*>*& 
que
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­
);

92 ~
FIFOSŒ©egy
();

93 
»Ëa£
(
¡d
::
queue
<
BufãrF¿me
*>*& 
que
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­
);

94 
wh’R—d
(
BufãrF¿me
* 
äame
);

95 
wh’Wr™e
(
BufãrF¿me
* 
äame
);

96 
–eùPageToDrİ
(
¡d
::
veùÜ
<
Addr
>& 
vec
,
numb”
);

97 
SŒ©egyInBufãr
 
g‘SŒ©egy
();

98 
	m´iv©e
:

99 
¡d
::
£t
<
Addr
>* 
·geS‘
;

114 şas 
	cBufãrMªag”


116 
	mpublic
:

117 
BufãrMªag”
(
BufãrSŒ©egy
* 
_¡¿‹gy
,
PageUt
* 
_ut
);

118 
BufãrF¿me
* 
»que¡PageFÜR—d
(
Addr
 
·geAddr
);

119 
BufãrF¿me
* 
»que¡PageFÜWr™e
(
Addr
 
·geAddr
,
boŞ
 
asyc
);

120 
fšishR—d
(
BufãrF¿me
* 
äame
);

121 
fšishWr™e
(
BufãrF¿me
* 
äame
);

122 
æush”
(* 
±r
);

123 
æushAÎ
();

130 
BufãrF¿me
* 
®locNewBufãrF¿meFÜWr™e
();

131 
PageUt
* 
g‘PageUt
();

132 
	m¡d
::
queue
<
BufãrF¿me
*>* 
g‘Flush”Queue
();

133 
boŞ
 
	mæag
;

134 ~
BufãrMªag”
();

135 
±h»ad_t
 
	mpid
;

136 
	m´iv©e
:

137 
¡d
::
m­
<
Addr
,
	mBufãrF¿me
*>* 
	mm­pšg
;

138 
	m¡d
::
queue
<
BufãrF¿me
*>* 
·geQue
;

139 
	m¡d
::
£t
<
Addr
>* 
wa™FÜR—dOrWr™e
;

140 
	m¡d
::
queue
<
BufãrF¿me
*>* 
æush”Queue
;

141 
PageUt
* 
	mut
;

142 
BufãrSŒ©egy
* 
	m¡¿‹gy
;

143 
budBufãrF¿me
(
BufãrF¿me
*& 
äame
, 
Addr
 
·geNo
);

144 
»Ëa£BufãrF¿me
(
BufãrF¿me
*& 
äame
);

145 
drİout
(
drİ
);

	@/home/huangwentao/WorkSpaces/carrots/dbms/buffer/ClockFIFOStrategy.cpp

1 
	~"ClockFIFOSŒ©egy.h
"

2 #ifdeà
DEBUG


3 
	~<c¡dlib
>

4 
	~<c¡dio
>

6 
	gClockFIFOSŒ©egy
::
š™Ÿlize
Ğ
¡d
::
queue
<
BufãrF¿me
*>*& 
ques
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­s
)

8 
	gques
 = 
Ãw
 
¡d
::
queue
<
BufãrF¿me
*>();

9 
	g·geM­s
 = 
Ãw
 
¡d
::
m­
<
Addr
,
	gBufãrF¿me
*>();

10 
	gthis
->
	gque
 = 
ques
;

11 
	gthis
->
	g·geM­
 = 
·geM­s
;

12 
	gthis
->
	g·geS‘
 = 
Ãw
 
¡d
::
£t
<
Addr
>();

14 
	gClockFIFOSŒ©egy
::
	$ClockFIFOSŒ©egy
():
	$BufãrSŒ©egy
()

16 
this
->
que
=0;

17 
this
->
·geM­
 =0;

18 
this
->
·geS‘
=0;

19 
	}
}

20 
	gClockFIFOSŒ©egy
::
»Ëa£
(
¡d
::
queue
<
BufãrF¿me
*>*& 
ques
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­s
)

22 if(
	gthis
->
	g·geS‘
!=0)

24 
·geS‘
->
ş—r
();

25 
d–‘e
 
	g·geS‘
;

27 
	g·geS‘
 = 0;

28 if(
	gthis
->
	gque
!=0)

30 
d–‘e
 
this
->
que
;

31 
	gthis
->
	gque
 = 0;

33 if(
	gthis
->
	g·geM­
!=0)

35 
d–‘e
 
this
->
·geM­
;

36 
	gthis
->
	g·geM­
 =0;

40 
	gClockFIFOSŒ©egy
::~
	$ClockFIFOSŒ©egy
()

42 if(
this
->
·geS‘
!=0)

44 
·geS‘
->
	`ş—r
();

45 
d–‘e
 
·geS‘
;

47 
·geS‘
 = 0;

48 if(
this
->
que
!=0)

50 
d–‘e
 
this
->
que
;

51 
this
->
que
 = 0;

53 if(
this
->
·geM­
!=0)

55 
d–‘e
 
this
->
·geM­
;

56 
this
->
·geM­
 =0;

58 
	}
}

60 
	gClockFIFOSŒ©egy
::
	$wh’R—d
(
BufãrF¿me
* 
äame
)

63 if(
·geS‘
->
	`fšd
(
äame
->
·geNo
)=õageS‘->
	`’d
())

66 
que
->
	`push
(
äame
);

68 
·geS‘
->
	`š£¹
(
äame
->
·geNo
);

71 
äame
->
m¬k
=0;

72 
	}
}

74 
	gClockFIFOSŒ©egy
::
	$wh’Wr™e
(
BufãrF¿me
* 
äame
)

76 if(
·geS‘
->
	`fšd
(
äame
->
·geNo
)=õageS‘->
	`’d
())

78 
que
->
	`push
(
äame
);

79 
·geS‘
->
	`š£¹
(
äame
->
·geNo
);

81 
äame
->
m¬k
=0;

82 
	}
}

84 
	gClockFIFOSŒ©egy
::
–eùPageToDrİ
(
¡d
::
veùÜ
<
Addr
>& 
vec
,
numb”
)

87 
	gmodk
 = 0;

88 
	gnumb”
>0&&!
	gque
->
em±y
())

90 
BufãrF¿me
* 
	gäame
 = 
que
->
äÚt
();

92 
	gque
->
pİ
();

93 
	gnumb”
--;

94 if(
	gäame
->
	gm¬k
!=0||
modk
>
MAX_PAGE_IN_MEMORY
/2)

96 
vec
.
push_back
(
äame
->
·geNo
);

97 
	g·geS‘
->
”a£
(
äame
->
·geNo
);

98 #ifdeà
DEBUG


99 
´štf
("·g%Îd wa –eùed!\n",
äame
->
·geNo
);

103 
	gmodk
++;

104 
	gäame
->
	gm¬k
=1;

105 
	gque
->
push
(
äame
);

110 
SŒ©egyInBufãr
 
	gClockFIFOSŒ©egy
::
	$g‘SŒ©egy
()

112  
ClOCK
;

113 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/buffer/ClockFIFOStrategy.h

1 #iâdeà
CLOCKFIFOSTRATEGY_H_INCLUDED


2 
	#CLOCKFIFOSTRATEGY_H_INCLUDED


	)

3 
	~"BufãrMªag”.h
"

4 şas 
	cClockFIFOSŒ©egy
:
public
 
BufãrSŒ©egy


6 
public
:

7 
ClockFIFOSŒ©egy
();

8 
š™Ÿlize
Ğ
¡d
::
queue
<
BufãrF¿me
*>*& 
que
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­
);

9 ~
ClockFIFOSŒ©egy
();

10 
»Ëa£
(
¡d
::
queue
<
BufãrF¿me
*>*& 
que
,¡d::
m­
<
Addr
,BufãrF¿me*>*& 
·geM­
);

11 
wh’R—d
(
BufãrF¿me
* 
äame
);

12 
wh’Wr™e
(
BufãrF¿me
* 
äame
);

13 
–eùPageToDrİ
(
¡d
::
veùÜ
<
Addr
>& 
vec
,
numb”
);

14 
SŒ©egyInBufãr
 
g‘SŒ©egy
();

15 
	m´iv©e
:

16 
¡d
::
£t
<
Addr
>* 
·geS‘
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/common.h

1 #iâdeà
COMMON_H_INCLUDED


2 
	#COMMON_H_INCLUDED


	)

9 
	#DEBUG_INDEX


	)

13 
	#PAGE_SIZE
 1024*8

	)

17 
	#PAGE_ADDR_LEN
 13

	)

22 
	#PAGE_MASK
 (
PAGE_SIZE
-1)

	)

23 
	#PAGE_ID
(
addr
è(×ddr&(~
PAGE_MASK
))>>
PAGE_ADDR_LEN
)

	)

24 
	#PAGE_ADDR
(
·geNo
èÕageNo<<
PAGE_ADDR_LEN
)

	)

25 
	#PAGE_OFFSET
(
addr
è×ddr&
PAGE_MASK
)

	)

29 
	#PAGE_USED
 2u

	)

30 
	#PAGE_FLAG
 2u

	)

34 
	#PAGE_HEAD_BODY
 909u

	)

35 
	#PAGE_META_HEAD
 (
PAGE_USED
+
PAGE_FLAG
)

	)

39 
	#PAGE_ALIGN
 3u

	)

40 
	#PAGE_HEAD_LEN
 (
PAGE_HEAD_BODY
+
PAGE_META_HEAD
)

	)

41 
	#PAGE_BODY_LEN
 (
PAGE_SIZE
-
PAGE_HEAD_LEN
)

	)

46 
	tAddr
;

50 
	tPageAddr
;

51 
	tušt64
;

52 
	tušt
;

53 
	tushÜt
;

57 
	tBy‹
;

61 
	eSŒ©egyInBufãr


63 
	mNONE
, 
	mFIFO
, 
	mClOCK
, 
	mLRU
, 
	mLFU


	@/home/huangwentao/WorkSpaces/carrots/dbms/dataInput/input.cpp

1 
	~"špu‹r.h
"

2 
boŞ
 
	gD©aIÅut
::
	$İ’
(* 
Çme
)

4 
fd
 =
	`fİ’
(
Çme
,"r");

5 
	}
}

6 
	gD©aIÅut
::
	$fšdNext
(** 
m©rix
)

8 
şn
 = 0;

9 
pos
 = 0;

10 
ch
 = 0;

11 (
ch
 =
	`fg‘c
(
fd
)) != '\n') {

12 if(
ch
=='|'){

13 
m©rix
[
şn
][
pos
]='\0';

14 
şn
++;

15 
pos
=0;

17 }if(
ch
==
EOF
)

19 
m©rix
[
şn
][
pos
]='\0';

20 
şn
++;

24 
m©rix
[
şn
][
pos
]=
ch
;

25 
pos
++;

28  
şn
;

29 
	}
}

30 
	gD©aIÅut
::
	$şo£
()

32 
	`fşo£
(
fd
);

33 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/dataInput/inputer.h

1 #iâdeà
INPUTER_H_INCLUDED


2 
	#INPUTER_H_INCLUDED


	)

3 
	~<c¡dio
>

4 
	~"../commÚ.h
"

5 şas 
	cD©aIÅut


7 
	mpublic
:

8 
boŞ
 
İ’
(* 
Çme
);

9 
fšdNext
(** 
m©rix
);

10 
şo£
();

11 
	m´iv©e
:

12 
FILE
* 
fd
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/CreateExecutor.cpp

1 
	~"C»©eExecutÜ.h
"

2 
	~<memÜy.h
>

4 
	gC»©eExecutÜ
::
	$C»©eExecutÜ
(){

5 
Qu”yExecutÜ
::
	`£tStus
(0);

6 
	`¡rıy
(
Qu”yExecutÜ
::
wÜkDœ
,"workspace/");

7 
	}
}

9 
	gC»©eExecutÜ
::~
	$C»©eExecutÜ
(){

10 
Qu”yExecutÜ
::
	`£tStus
(0);

11 
	`mem£t
(
Qu”yExecutÜ
::
wÜkDœ
,'\0',
	`¡¾’
(workDir));

12 
	}
}

14 
	gC»©eExecutÜ
::
	$£tStus
(
a
)

16 
Qu”yExecutÜ
::
	`£tStus
(
a
);

17 
	}
}

19 
	gC»©eExecutÜ
::
	$g‘Stus
()

21  
Qu”yExecutÜ
::
	`g‘Stus
();

22 
	}
}

24 
	gC»©eExecutÜ
::
	$execu‹
(
qu”y_Œ“
 
qt
){

25 
f›ldCursÜ
= 0;

26 
off£t
 = 0;

27 
dœ
[64];

28 
	`¡rıy
(
dœ
,
Qu”yExecutÜ
::
wÜkDœ
);

29 
	`¡rÿt
(
dœ
,
qt
.
bËLi¡
[qt.
äomLi¡Num
-1].
Çme
);

30 
	`¡rÿt
(
dœ
,".tb");

31 
FILE
 *
å
 = 
	`fİ’
(
dœ
,"w");

32 
	`fşo£
(
å
);

33 
å
 = 
NULL
;

34 
TabË
 * 
bË
 = 
Ãw
 
	`TabË
 ();

35 
bË
-> 
	`İ’
(
dœ
,
çl£
);

39 
TabËM‘a
 * 
m‘a
 = 
bË
 ->
	`g‘TabËM‘a
();

40 
m‘a
->
f›ldNum
 = 
qt
.
bËLi¡
[qt.
äomLi¡Num
-1].fieldNum;

41 
	`¡rıy
(
m‘a
->
Šame
, 
qt
.
bËLi¡
[qt.
äomLi¡Num
-1].
Çme
);

42 
m‘a
->
tid
 = 
cu¼’tTabËLi¡Num
;

43 
F›ldP¬t
 * 
·¹s
 = 
m‘a
 -> 
h—d
;

44 if(
·¹s
->
f›ldLi¡
 != 0 )

46 
d–‘e
 
·¹s
->
f›ldLi¡
;

48 
·¹s
->
·¹Num
 = 
m‘a
->
f›ldNum
;

49 
·¹s
->
tid
 = 
m‘a
->tid;

50 
·¹s
->
f›ldLi¡
 = 
Ãw
 
F›ld
[
m‘a
->
f›ldNum
];

51 
i
 = 0; i < 
mfLi¡CursÜ
; i++)

53 
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
fid
 = fieldCursor;

54 
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
d©aTy³
 = 
qt
.
bËLi¡
[qt.
äomLi¡Num
-1].
mf_li¡
[
i
].
d©aTy³FÏg
;

55 
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
æag
 = 0;

56 
	`¡rıy
(
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
âame
,
qt
.
bËLi¡
[qt.
äomLi¡Num
-1].
mf_li¡
[
i
].
f›ldName
);

57 
·¹s
 ->
f›ldLi¡
[
f›ldCursÜ
].
Ën
 = 
	`g‘Ty³L’gth
Õ¬ts->f›ldLi¡[f›ldCursÜ].
d©aTy³
);

58 
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
off£tInTu¶e
 = 
off£t
;

59 
off£t
 +ğ
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
Ën
;

60 
f›ldCursÜ
 ++;

62 
i
 = 0; i < 
mfcLi¡CursÜ
; i ++)

64 
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
fid
 = fieldCursor;

65 
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
d©aTy³
 = 
qt
.
bËLi¡
[qt.
äomLi¡Num
-1].
mfc_li¡
[
i
].
d©aTy³FÏg
;

66 
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
æag
 = 0;

67 
	`¡rıy
(
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
âame
, 
qt
.
bËLi¡
[qt.
äomLi¡Num
-1].
mfc_li¡
[
i
].
f›ldName
);

68 if(
qt
.
bËLi¡
[qt.
äomLi¡Num
-1].
mfc_li¡
[
i
].
Ën
%4 != 0)

70 
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
Ën
 = 
qt
.
bËLi¡
[qt.
äomLi¡Num
-1].
mfc_li¡
[
i
].len+ 4 - (qt.tableList[qt.fromListNum-1].mfc_list[i].len%4);

73 
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
Ën
 = 
qt
.
bËLi¡
[qt.
äomLi¡Num
-1].
mfc_li¡
[
i
].len;

75 
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
off£tInTu¶e
 = 
off£t
;

76 
off£t
 +ğ
·¹s
->
f›ldLi¡
[
f›ldCursÜ
].
Ën
;

77 
f›ldCursÜ
++;

79 
·¹s
->
Ãxt
 = 0;

83 
bË
->
	`upd©eTabËM‘a
();

84 
bË
 -> 
	`şo£
();

85 
d–‘e
 
bË
;

86 
bË
 = 0;

87 
	`£tStus
(1);

88  
	`g‘Stus
();

89 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/CreateExecutor.h

1 #iâdeà
CREATEEXECUTOR_H_INCLUDED


2 
	#CREATEEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

5 şas 
	cC»©eExecutÜ
: 
Qu”yExecutÜ


7 
public
:

8 
C»©eExecutÜ
();

9 ~
C»©eExecutÜ
();

10 
execu‹
(
qu”y_Œ“
 
qt
);

11 
£tStus
(
a
);

12 
g‘Stus
();

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/DeleteExecutor.cpp

1 
	~"D–‘eExecutÜ.h
"

2 
	~<io¡»am
>

5 
	gD–‘eExecutÜ
::
	$D–‘eExecutÜ
()

7 
chdNum
 = 0;

8 
cÚdCursÜ
 = 0;

9 
Qu”yExecutÜ
::
	`£tStus
(0);

10 
	`¡rıy
(
Qu”yExecutÜ
::
wÜkDœ
,"workspace/");

11 
	}
}

13 
	gD–‘eExecutÜ
::~
	$D–‘eExecutÜ
()

15 
chdNum
 = 0;

16 
cÚdCursÜ
 = 0;

17 
Qu”yExecutÜ
::
	`£tStus
(0);

18 
	`mem£t
(
Qu”yExecutÜ
::
wÜkDœ
,'\0',
	`¡¾’
(workDir));

19 
	}
}

20 
	gD–‘eExecutÜ
::
	$£tStus
(
a
)

22 
Qu”yExecutÜ
::
	`£tStus
(
a
);

23 
	}
}

25 
	gD–‘eExecutÜ
::
	$g‘Stus
()

27  
Qu”yExecutÜ
::
	`g‘Stus
();

28 
	}
}

30 
	gD–‘eExecutÜ
::
	$£tChdNum
(
a
)

32 
chdNum
 = 
a
;

33 
	}
}

35 
	gD–‘eExecutÜ
::
	$g‘ChdNum
()

37  
chdNum
;

38 
	}
}

40 
boŞ
 
	gD–‘eExecutÜ
::
	$decÜ©e
(
cursÜ
)

42 
sdTy³
.
	`tİ
())

46 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 2;

47 
cÚd
[
cursÜ
].
v®ue
 = 
sd
.
	`tİ
();

48 
cÚd
[
cursÜ
].
Ën
 = 
	`¡¾’
(
sd
.
	`tİ
());

49 
sd
.
	`pİ
();

50 
sdTy³
.
	`pİ
();

51 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

52 
sd
.
	`pİ
();

53 
sdTy³
.
	`pİ
();

58 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 1;

59 *
‹mp
 = 
Ãw
 [1];

60 
‹mp
[0]=
	`©oi
(
sd
.
	`tİ
());

61 
cÚd
[
cursÜ
].
v®ue
 = 
‹mp
;

62 
cÚd
[
cursÜ
].
D©aTy³
 = 
D©aTy³FÏg
::
INTEGER
;

63 
sd
.
	`pİ
();

64 
sdTy³
.
	`pİ
();

65 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

66 
sd
.
	`pİ
();

67 
sdTy³
.
	`pİ
();

72 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 1;

73 *
‹mp
 = 
Ãw
 [1];

74 
‹mp
[0]ğ
	`©of
(
sd
.
	`tİ
());

75 
cÚd
[
cursÜ
].
v®ue
 = 
‹mp
;

77 
cÚd
[
cursÜ
].
D©aTy³
 = 
D©aTy³FÏg
::
FLOAT
;

78 
sd
.
	`pİ
();

79 
sdTy³
.
	`pİ
();

80 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

81 
sd
.
	`pİ
();

82 
sdTy³
.
	`pİ
();

87 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 1;

88 
cÚd
[
cursÜ
].
v®ue
 =
sd
.
	`tİ
();

89 
cÚd
[
cursÜ
].
D©aTy³
 = 
D©aTy³FÏg
::
VARCHAR
;

90 
cÚd
[
cursÜ
].
Ën
ğ
	`¡¾’
(
sd
.
	`tİ
());

98 
sd
.
	`pİ
();

99 
sdTy³
.
	`pİ
();

100 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

101 
sd
.
	`pİ
();

102 
sdTy³
.
	`pİ
();

106  
Œue
;

107 
	}
}

108 
boŞ
 
	gD–‘eExecutÜ
::
	$·r£
()

110 
i
 =0; i < 
dw
.
wh”eCursÜ
; i++)

112 if(
dw
.
ty³
[
i
] == 0)

114 
sd
.
	`push
(
dw
.
wh”e
[
i
]);

115 
sdTy³
.
	`push
(
dw
.
ty³
[
i
]);

117 if(
dw
.
ty³
[
i
] < 4)

119 
sd
.
	`push
(
dw
.
wh”e
[
i
]);

120 
sdTy³
.
	`push
(
dw
.
ty³
[
i
]);

121 }if((
dw
.
ty³
[
i
]>=12)&&(dw.type[i]<=15))

123 
dw
.
ty³
[
i
])

127 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
LESS
;

128 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

130 if(
decCÜ»ù
 =ğ
çl£
)

132  
decCÜ»ù
;

134 
cÚdCursÜ
 ++;

139 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
GREATER
;

140 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

141 if(
decCÜ»ù
 =ğ
çl£
)

143  
decCÜ»ù
;

145 
cÚdCursÜ
++;

150 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
NOTEQUAL
;

151 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

152 if(
decCÜ»ù
 =ğ
çl£
)

154  
decCÜ»ù
;

156 
cÚdCursÜ
++;

161 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
EQUAL
;

162 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

163 if(
decCÜ»ù
 =ğ
çl£
)

165  
decCÜ»ù
;

167 
cÚdCursÜ
++;

174 if(
dw
.
ty³
[
i
] == 24)

176 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
LESSEQUAL
;

177 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

178 if(
decCÜ»ù
 =ğ
çl£
)

180  
decCÜ»ù
;

182 
cÚdCursÜ
++;

184 if(
dw
.
ty³
[
i
] == 25)

186 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
GREATEREQUAL
;

187 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

188 if(
decCÜ»ù
 =ğ
çl£
)

190  
decCÜ»ù
;

192 
cÚdCursÜ
 ++;

193 }if(
dw
.
ty³
[
i
] == 9|| dw.type[i] == 10)

197 if(
dw
.
ty³
[
i
] == 11)

207  
Œue
;

208 
	}
}

210 
	gD–‘eExecutÜ
::
	$d–‘eAÎ
(* 
dœ
)

212 
Addr
 
‹mpTu¶eAddr
 = 0u;

213 
TabË
* 
bË
 = 
Ãw
 
	`TabË
();

214 
bË
->
	`İ’
(
dœ
,
çl£
);

215 
TabËM‘a
 * 
m‘a
 = 
bË
->
	`g‘TabËM‘a
();

216 
Tu¶e
* 
tu¶e
 = 
bË
 ->
	`budEm±yTu¶e
();

217 
bË
->
	`fšdFœ¡Tu¶e
(
tu¶e
);

218 if(
tu¶e
->
tu¶eAddr
 =ğ
‹mpTu¶eAddr
)

220 
bË
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

221 
bË
->
	`şo£
();

222 
	`£tStus
(-27);

223  
	`g‘Stus
();

225 
tu¶e
->
tu¶eAddr
 !ğ
‹mpTu¶eAddr
)

227 
‹mpTu¶eAddr
 = 
tu¶e
->
tu¶eAddr
;

228 
bË
->
	`d–‘eTu¶e
(
tu¶e
);

229 
bË
->
	`fšdNextTu¶e
(
tu¶e
,tuple);

231 
bË
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

232 
bË
->
	`şo£
();

233 
d–‘e
 
bË
;

234 
	`£tStus
(1);

235  
	`g‘Stus
();

236 
	}
}

412 
	gD–‘eExecutÜ
::
	$execu‹
(
qu”y_Œ“
 
qt
)

414 
dœ
[64];

415 
	`¡rıy
(
dœ
,
Qu”yExecutÜ
::
wÜkDœ
);

416 
	`¡rÿt
(
dœ
,
dw
.
bËName
);

417 
	`¡rÿt
(
dœ
,".tb");

418 
FILE
 *
f
 = 
	`fİ’
(
dœ
,"r");

419 if(
f
 =ğ
NULL
)

421 
	`£tStus
(-26);

422  
	`g‘Stus
();

424 if(
dw
.
wh”eCursÜ
 == 0)

426  
	`d–‘eAÎ
(
dœ
);

429 
boŞ
 
·r£CÜ»ù
 = 
	`·r£
();

430 if(
·r£CÜ»ù
 =ğ
çl£
)

432 
	`£tStus
(-28);

433  
	`g‘Stus
();

436 
TabË
 * 
bË
 = 
Ãw
 
	`TabË
();

437 
bË
->
	`İ’
(
dœ
,
çl£
);

438 
S–eùiÚ
 *
¥j
 = 
Ãw
 
	`S–eùiÚ
(
O³¿tÜTy³
::
SELECTION
,
SPJ
::
TABLEINITIAL
);

439 
CÚd™iÚ
 * 
cÚd™iÚ
 = 
Ãw
 CÚd™iÚ[
cÚdCursÜ
];

440 
i
 = 0; i < 
cÚdCursÜ
; i ++)

443 
cÚd™iÚ
[
i
].
com·»
 = 
cÚd
[i].compare;

444 
cÚd™iÚ
[
i
].
cÚd™iÚTy³
 = 
cÚd
[i].conditionType;

445 
cÚd™iÚ
[
i
].
D©aTy³
 = 
cÚd
[i].DataType;

446 
cÚd™iÚ
[
i
].
fedName
 = 
cÚd
[i].filedName;

447 
cÚd™iÚ
[
i
].
Ën
 = 
cÚd
[i].len;

448 
cÚd™iÚ
[
i
].
v®ue
 = 
cÚd
[i].value;

456 
¥j
->
	`š™S–eùiÚ
(
bË
,
cÚd™iÚ
,
cÚdCursÜ
);

457 
SPJI‹m
 * 
™em
 = 
¥j
->
	`budSPJI‹m
();

458 
‹mp
 = 
¥j
->
	`¥jFÜD–‘e
(
™em
);

459 if(
‹mp
 == 0)

461 
	`£tStus
(-29);

462  
	`g‘Stus
();

465 
	`£tChdNum
(
‹mp
);

467 
bË
->
	`şo£
();

468 
d–‘e
 
¥j
;

469 
d–‘e
 
™em
;

484 
	`£tStus
(1);

485  
	`g‘Stus
();

486 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/DeleteExecutor.h

1 #iâdeà
DELETEEXECUTOR_H_INCLUDED


2 
	#DELETEEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

4 
	~<¡ack
>

6 şas 
	cD–‘eExecutÜ
:
Qu”yExecutÜ


8 
public
:

9 
D–‘eExecutÜ
();

10 ~
D–‘eExecutÜ
();

11 
execu‹
(
qu”y_Œ“
 
qt
);

12 
d–‘eAÎ
(*
bËName
);

13 
£tStus
(
a
);

14 
g‘Stus
();

15 
£tChdNum
(
a
);

16 
g‘ChdNum
();

18 
	m´iv©e
:

19 
chdNum
;

20 
	mcÚdCursÜ
;

21 
	m¡ack
<*> 
	msd
;

22 
	m¡ack
 <> 
	msdTy³
;

23 
CÚd™iÚ
 
	mcÚd
[
MAX_CONDITION_LEN
];

24 
boŞ
 
·r£
();

25 
boŞ
 
decÜ©e
(
cursÜ
);

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/DropExecutor.cpp

1 
	~"DrİExecutÜ.h
"

3 
	gDrİExecutÜ
::
	$DrİExecutÜ
()

5 
Qu”yExecutÜ
::
	`£tStus
(0);

6 
	`¡rıy
(
Qu”yExecutÜ
::
wÜkDœ
,"workspace/");

7 
	}
}

9 
	gDrİExecutÜ
::~
	$DrİExecutÜ
()

11 
Qu”yExecutÜ
::
	`£tStus
(0);

12 
	`mem£t
(
Qu”yExecutÜ
::
wÜkDœ
,'\0',
	`¡¾’
(workDir));

13 
	}
}

15 
	gDrİExecutÜ
::
	$£tStus
(
a
)

17 
Qu”yExecutÜ
::
	`£tStus
(
a
);

18 
	}
}

20 
	gDrİExecutÜ
::
	$g‘Stus
()

22  
Qu”yExecutÜ
::
	`g‘Stus
();

23 
	}
}

25 
	gDrİExecutÜ
::
	$execu‹
(
qu”y_Œ“
 
qt
)

27 if(
ùå
.
cu¼’tFp
 =ğ
NULL
)

29 
	`£tStus
(-6);

30  
	`g‘Stus
();

32 if(
	`»move
(
ùå
.
Çme
) == 0)

34 
	`£tStus
(1);

38 
	`£tStus
(-7);

40  
	`g‘Stus
();

41 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/DropExecutor.h

1 #iâdeà
DROPEXECUTOR_H_INCLUDED


2 
	#DROPEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

5 şas 
	cDrİExecutÜ
:
Qu”yExecutÜ


7 
public
:

8 
DrİExecutÜ
();

9 ~
DrİExecutÜ
();

10 
execu‹
(
qu”y_Œ“
 
qt
);

11 
£tStus
(
a
);

12 
g‘Stus
();

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/InsertExecutor.cpp

1 
	~"In£¹ExecutÜ.h
"

2 
	~<io¡»am
>

3 
usšg
 
Çme¥aû
 
	g¡d
;

4 
	gIn£¹ExecutÜ
::
	$In£¹ExecutÜ
()

6 
chdNum
 = 0;

7 
Qu”yExecutÜ
::
	`£tStus
(0);

8 
	`¡rıy
(
Qu”yExecutÜ
::
wÜkDœ
,"workspace/");

9 
	}
}

11 
	gIn£¹ExecutÜ
::~
	$In£¹ExecutÜ
()

13 
chdNum
 = 0;

14 
Qu”yExecutÜ
::
	`£tStus
(0);

15 
	`mem£t
(
Qu”yExecutÜ
::
wÜkDœ
,'\0',
	`¡¾’
(workDir));

16 
	}
}

18 
	gIn£¹ExecutÜ
::
	$£tChdNum
(
a
)

20 
chdNum
 = 
a
;

21 
	}
}

23 
	gIn£¹ExecutÜ
::
	$g‘ChdNum
()

25  
chdNum
;

26 
	}
}

28 
	gIn£¹ExecutÜ
::
	$£tStus
(
a
)

30 
Qu”yExecutÜ
::
	`£tStus
(
a
);

31 
	}
}

33 
	gIn£¹ExecutÜ
::
	$g‘Stus
()

35  
Qu”yExecutÜ
::
	`g‘Stus
();

36 
	}
}

38 
	gIn£¹ExecutÜ
::
	$execu‹
(
qu”y_Œ“
 
qt
)

40 
štCursÜ
 = 0;

41 
æßtCursÜ
 = 0;

42 
¡ršgCursÜ
 = 0;

43 
dœ
[64];

44 
	`¡rıy
(
dœ
,
Qu”yExecutÜ
::
wÜkDœ
);

45 
	`¡rÿt
(
dœ
,
‰™
.
bËName
);

46 
	`¡rÿt
(
dœ
,".tb");

47 
FILE
 *
f
 = 
	`fİ’
(
dœ
,"r");

48 if(
f
 =ğ
NULL
)

50 
	`£tStus
(-18);

51  
	`g‘Stus
();

53 
TabË
* 
bË
 = 
Ãw
 
	`TabË
();

54 
bË
->
	`İ’
(
dœ
,
çl£
);

55 
TabËM‘a
 * 
m‘a
 = 
bË
->
	`g‘TabËM‘a
();

56 
Tu¶e
 * 
tu¶e
 = 
bË
 ->
	`budEm±yTu¶e
();

57 
F›ldP¬t
* 
å
 = 
m‘a
->
h—d
;

60 if(
å
->
·¹Num
!=
‰™
.
f›ldNum
)

62 
bË
 -> 
	`»Ëa£Em±yTu¶e
(
tu¶e
);

63 
bË
 ->
	`şo£
();

64 
d–‘e
 
bË
;

65 
bË
 = 0;

66 
	`£tStus
(-16);

67  
	`g‘Stus
();

69 
i
 = 0; i < 
å
->
·¹Num
; i ++)

71 
tu¶e
->
cŞumn
[
i
].
f›ld
->
d©aTy³
)

73 
D©aTy³FÏg
::
INTEGER
:

74 
TabËUt
::
	`wr™eCŞumn
(&
‰™
.
štF›ld
[
štCursÜ
],&
tu¶e
->
cŞumn
[
i
]);

75 
štCursÜ
 ++;

77 
D©aTy³FÏg
::
FLOAT
:

78 
TabËUt
::
	`wr™eCŞumn
(&
‰™
.
æßtF›ld
[
æßtCursÜ
],&
tu¶e
->
cŞumn
[
i
]);

79 
æßtCursÜ
++;

81 
D©aTy³FÏg
::
CHAR
:

82 
D©aTy³FÏg
::
VARCHAR
:

83 
D©aTy³FÏg
::
DATE
:

86 if(
	`¡¾’
(
‰™
.
¡ršgF›ld
[
¡ršgCursÜ
]è> 
å
->
f›ldLi¡
[
i
].
Ën
)

88 
bË
 -> 
	`»Ëa£Em±yTu¶e
(
tu¶e
);

89 
bË
 ->
	`şo£
();

90 
d–‘e
 
bË
;

91 
bË
 = 0;

92 
cout
<<
‰™
.
¡ršgF›ld
[
¡ršgCursÜ
]<<
’dl
;

93 
	`£tStus
(-17);

94  
	`g‘Stus
();

96 
D©aUt
::
	`¡r2cŞ
(
‰™
.
¡ršgF›ld
[
¡ršgCursÜ
],
tu¶e
->
cŞumn
[
i
]);

97 
¡ršgCursÜ
++;

103 
Addr
 
w
 = 
bË
 -> 
	`š£¹Tu¶e
(
tu¶e
);

104 
bË
 -> 
	`»Ëa£Em±yTu¶e
(
tu¶e
);

105 
bË
 ->
	`şo£
();

106 
d–‘e
 
bË
;

107 
bË
 = 0;

108 
	`£tStus
(1);

109 
	`£tChdNum
(1);

110  
	`g‘Stus
();

111 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/InsertExecutor.h

1 #iâdeà
INSERTEXECUTOR_H_INCLUDED


2 
	#INSERTEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

5 şas 
	cIn£¹ExecutÜ
:
Qu”yExecutÜ


7 
public
:

8 
In£¹ExecutÜ
();

9 ~
In£¹ExecutÜ
();

10 
execu‹
(
qu”y_Œ“
 
qt
);

11 
£tStus
(
a
);

12 
g‘Stus
();

13 
£tChdNum
(
a
);

14 
g‘ChdNum
();

15 
	m´iv©e
:

16 
chdNum
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/JoinExecutor.cpp

1 
	~"JošExecutÜ.h
"

3 
	gJošExecutÜ
::
	$JošExecutÜ
()

5 
chdNum
 = 0;

6 
cÚdCursÜ
 = 0;

7 
bËSeqCursÜ
 = 0;

8 
Qu”yExecutÜ
::
	`£tStus
(0);

9 
	`¡rıy
(
Qu”yExecutÜ
::
wÜkDœ
,"workspace/");

10 
	`mem£t
(
bËSeq
, 0, (tableSeq));

11 
	}
}

13 
	gJošExecutÜ
::~
	$JošExecutÜ
()

15 
chdNum
 = 0;

16 
cÚdCursÜ
 = 0;

17 
bËSeqCursÜ
 = 0;

18 
Qu”yExecutÜ
::
	`£tStus
(0);

19 
	`mem£t
(
Qu”yExecutÜ
::
wÜkDœ
,'\0',
	`¡¾’
(workDir));

20 
	`mem£t
(
bËSeq
, 0, (tableSeq));

21 
	}
}

23 
	gJošExecutÜ
::
	$£tStus
(
a
)

25 
Qu”yExecutÜ
::
	`£tStus
(
a
);

26 
	}
}

28 
	gJošExecutÜ
::
	$g‘Stus
()

30 
Qu”yExecutÜ
::
	`g‘Stus
();

31 
	}
}

33 
	gJošExecutÜ
::
	$£tChdNum
(
a
)

35 
chdNum
 = 
a
;

36 
	}
}

38 
	gJošExecutÜ
::
	$g‘ChdNum
()

40  
chdNum
;

41 
	}
}

43 
	gJošExecutÜ
::
	$fšdCh¬
(*
¡r
, 
a
)

45 
£q
 = 0;

46 
i
 = 0; i < 
	`¡¾’
(
¡r
); i ++ )

48 ià(
¡r
[
i
] =ğ
a
)

50 
£q
 = 
i
;

54  
£q
;

55 
	}
}

57 
	gJošExecutÜ
::
	$»çùÜSŒšg
(* 
tb
, *
f›ld
, * 
¡r
, 
£q
)

59 
j
 = 0; j<
£q
; j++)

60 
tb
[
j
] = 
¡r
[j];

62 
j
 =
£q
+1; j<
	`¡¾’
(
¡r
); j++)

63 
f›ld
[
j
-
£q
-1] = 
¡r
[j];

64 
	}
}

66 
boŞ
 
	gJošExecutÜ
::
	$decÜ©e
(
cursÜ
)

68  
Œue
;

69 
	}
}

70 
boŞ
 
	gJošExecutÜ
::
	$·r£
()

72 
i
 =0; i < 
jw
.
wh”eCursÜ
; i++)

74 if(
jw
.
ty³
[
i
] == 0)

76 
£q
 = 
	`fšdCh¬
(
jw
.
wh”e
[
i
], '.');

77 if(
£q
 == 0)

79 
	`£tStus
(-32);

80  
çl£
;

82 * 
tb
;

83 * 
f›ld
;

84 
	`»çùÜSŒšg
(
tb
, 
f›ld
, 
jw
.
wh”e
[
i
], 
£q
);

85 
	`¡rıy
(
bËSeq
[
bËSeqCursÜ
], 
tb
);

86 
bËSeqCursÜ
 ++;

87 
sd
.
	`push
(
f›ld
);

88 
sdTy³
.
	`push
(
jw
.
ty³
[
i
]);

90 if(
jw
.
ty³
[
i
] < 4)

93 
sd
.
	`push
(
jw
.
wh”e
[
i
]);

94 
sdTy³
.
	`push
(
jw
.
ty³
[
i
]);

95 }if((
jw
.
ty³
[
i
]>=12)&&(jw.type[i]<=15))

97 
jw
.
ty³
[
i
])

101 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
LESS
;

102 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

104 if(
decCÜ»ù
 =ğ
çl£
)

106  
decCÜ»ù
;

108 
cÚdCursÜ
 ++;

113 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
GREATER
;

114 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

115 if(
decCÜ»ù
 =ğ
çl£
)

117  
decCÜ»ù
;

119 
cÚdCursÜ
++;

124 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
NOTEQUAL
;

125 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

126 if(
decCÜ»ù
 =ğ
çl£
)

128  
decCÜ»ù
;

130 
cÚdCursÜ
++;

135 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
EQUAL
;

136 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

137 if(
decCÜ»ù
 =ğ
çl£
)

139  
decCÜ»ù
;

141 
cÚdCursÜ
++;

148 if(
jw
.
ty³
[
i
] == 24)

150 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
LESSEQUAL
;

151 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

152 if(
decCÜ»ù
 =ğ
çl£
)

154  
decCÜ»ù
;

156 
cÚdCursÜ
++;

158 if(
jw
.
ty³
[
i
] == 25)

160 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
GREATEREQUAL
;

161 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

162 if(
decCÜ»ù
 =ğ
çl£
)

164  
decCÜ»ù
;

166 
cÚdCursÜ
 ++;

167 }if(
jw
.
ty³
[
i
] == 9|| jw.type[i] == 10)

171 if(
jw
.
ty³
[
i
] == 11)

181  
Œue
;

182 
	}
}

185 
	gJošExecutÜ
::
	$£ËùAÎ
()

188 
	}
}

190 
JošExecutÜ
::
	$execu‹
(
qu”y_Œ“
 
qt
)

192 
FILE
 * 
å
;

193 
dœ
[64] = "workspace/";

194 
i
=0; i < 
jw
.
bËCursÜ
;i++)

196 
	`¡rıy
(
dœ
,"workspace/");

197 
	`¡rÿt
(
dœ
,
jw
.
bËLi¡
[
i
]);

198 
	`¡rÿt
(
dœ
,".tb");

199 
å
 = 
	`fİ’
(
dœ
,"r");

200 if(
å
 =ğ
NULL
)

202 
	`£tStus
(-31);

203  
	`g‘Stus
();

205 
	`fşo£
(
å
);

206 
å
 = 
NULL
;

207 
	`¡rıy
(
dœ
, "\0");

210 
boŞ
 
·r£CÜ»ù
 = 
	`·r£
();

212 
TabË
 ** 
bË
 = 
Ãw
 TabË *[
jw
.
bËCursÜ
];

213 
i
 = 0; i < 
jw
.
bËCursÜ
; i++)

215 
	`¡rıy
(
dœ
,"workspace/");

216 
	`¡rÿt
(
dœ
,
jw
.
bËLi¡
[
i
]);

217 
	`¡rÿt
(
dœ
,".tb");

218 
bË
[
i
]->
	`İ’
(
dœ
,
çl£
);

219 
	`¡rıy
(
dœ
,"\0");

223 
Još
 *
j¥j
 = 
Ãw
 
	`Još
(
O³¿tÜTy³
::
JOIN
,
SPJ
::
TABLEINITIAL
,
JošTy³
::
NESTLOOPJOIN
);

228  
	`g‘Stus
();

229 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/JoinExecutor.h

1 #iâdeà
JOINEXECUTOR_H_INCLUDED


2 
	#JOINEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

4 
	~<¡ack
>

5 
	~<io¡»am
>

7 şas 
	cJošExecutÜ
:
Qu”yExecutÜ


9 
public
:

10 
JošExecutÜ
();

11 ~
JošExecutÜ
();

12 
execu‹
(
qu”y_Œ“
 
qt
);

13 
£tStus
(
a
);

14 
g‘Stus
();

15 
£tChdNum
(
a
);

16 
g‘ChdNum
();

18 
	m´iv©e
:

19 
chdNum
;

20 
	mcÚdCursÜ
;

21 
	mbËSeq
[2*
MAX_CONDITION_LEN
][
MAX_TABLE_NAME_LEN
];

22 
	mbËSeqCursÜ
;

23 
	m¡ack
<*> 
	msd
;

24 
	m¡ack
<> 
	msdTy³
;

25 
CÚd™iÚ
 
	mcÚd
[
MAX_CONDITION_LEN
];

26 
boŞ
 
·r£
();

27 
boŞ
 
decÜ©e
(
cursÜ
);

28 
£ËùAÎ
();

29 
fšdCh¬
(* 
¡r
, 
a
);

30 
»çùÜSŒšg
Ğ*
tb
, * 
f›ld
, *
¡r
, 
£q
);

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/QueryExecutor.cpp

1 #iâdeà
SQLEXECUTOR_CPP_INCLUDED


2 
	#SQLEXECUTOR_CPP_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

5 
	gQu”yExecutÜ
::
	$Qu”yExecutÜ
(){

6 
¡©us
 = 0;

7 
	`¡rıy
(
wÜkDœ
,"workspace/");

8 
	}
}

10 
	gQu”yExecutÜ
::~
	$Qu”yExecutÜ
(){

11 
¡©us
 = 0;

12 
	`mem£t
(
wÜkDœ
,'\0',
	`¡¾’
(workDir));

13 
	}
}

15 
	gQu”yExecutÜ
::
	$execu‹
(){

16  
¡©us
;

17 
	}
}

19 
	gQu”yExecutÜ
::
	$£tStus
(
a
)

21 
¡©us
 = 
a
;

22 
	}
}

24 
	gQu”yExecutÜ
::
	$g‘Stus
()

26  
¡©us
;

27 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/QueryExecutor.h

1 #iâdeà
QUERYEXECUTOR_H_INCLUDED


2 
	#QUERYEXECUTOR_H_INCLUDED


	)

3 
	~<m­
>

4 
	~"../commÚ.h
"

5 
	~"../·r£r/·r£r.h
"

6 
	~"../bË/TabË.h
"

7 
	~"../bË/m‘a.h
"

8 
	~"../ut/D©aUt.h
"

9 
	~"../SPJ/SPJ.h
"

10 
	~"../SPJ/S–eùiÚ.h
"

11 
	~"../SPJ/Još.h
"

12 
	~"../SPJ/ProjeùiÚ.h
"

14 
	#MAX_CONDITION_LEN
 64

	)

16 
usšg
 
Çme¥aû
 
	g¡d
;

17 
qu”y_Œ“
 
qu”yT»e
;

18 
m‘a_f›ld
 
mfLi¡
[
MAX_MF_LIST
];

19 
m‘a_f›ld_ch¬
 
mfcLi¡
[
MAX_MFC_LIST
];

20 
mfLi¡CursÜ
;

21 
mfcLi¡CursÜ
;

24 
cu¼’tTabËFp
 
ùå
;

25 
cu¼’tTabËLi¡Num
;

26 
äomLi¡
 
cu¼’tTabËLi¡
[
MAX_TABLE_LIST
];

27 
‹mpTu¶e
 
‰™
;

28 
d–‘eWh”e
 
dw
;

29 
upd©eWh”e
 
uw
;

30 
£ËùWh”e
 
sw
;

31 
jošWh”e
 
jw
;

33 şas 
	cQu”yExecutÜ


35 
	mpublic
:

36 
Qu”yExecutÜ
();

37 ~
Qu”yExecutÜ
();

38 
execu‹
();

39 
£tStus
(
a
);

40 
g‘Stus
();

41 
	mwÜkDœ
[64];

42 
	m´iv©e
:

43 
¡©us
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/SelectExecutor.cpp

1 
	~"S–eùExecutÜ.h
"

2 
usšg
 
Çme¥aû
 
	g¡d
;

4 
	gS–eùExecutÜ
::
	$S–eùExecutÜ
()

6 
chdNum
 = 0;

7 
cÚdCursÜ
 = 0;

8 
Qu”yExecutÜ
::
	`£tStus
(0);

9 
	`¡rıy
(
Qu”yExecutÜ
::
wÜkDœ
,"workspace/");

10 
	}
}

12 
	gS–eùExecutÜ
::~
	$S–eùExecutÜ
()

14 
chdNum
 = 0;

15 
cÚdCursÜ
 = 0;

16 
Qu”yExecutÜ
::
	`£tStus
(0);

17 
	`mem£t
(
Qu”yExecutÜ
::
wÜkDœ
,'\0',
	`¡¾’
(workDir));

18 
	}
}

20 
	gS–eùExecutÜ
::
	$£tStus
(
a
)

22 
Qu”yExecutÜ
::
	`£tStus
(
a
);

23 
	}
}

25 
	gS–eùExecutÜ
::
	$g‘Stus
()

27  
Qu”yExecutÜ
::
	`g‘Stus
();

28 
	}
}

30 
	gS–eùExecutÜ
::
	$£tChdNum
(
a
)

32 
chdNum
 = 
a
;

33 
	}
}

35 
	gS–eùExecutÜ
::
	$g‘ChdNum
()

37  
chdNum
;

38 
	}
}

40 
boŞ
 
	gS–eùExecutÜ
::
	$decÜ©e
(
cursÜ
)

42 
sdTy³
.
	`tİ
())

46 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 2;

47 
cÚd
[
cursÜ
].
v®ue
 = 
sd
.
	`tİ
();

48 
cÚd
[
cursÜ
].
Ën
 = 
	`¡¾’
(
sd
.
	`tİ
());

49 
sd
.
	`pİ
();

50 
sdTy³
.
	`pİ
();

51 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

52 
sd
.
	`pİ
();

53 
sdTy³
.
	`pİ
();

58 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 1;

59 *
‹mp
 = 
Ãw
 [1];

60 
‹mp
[0]=
	`©oi
(
sd
.
	`tİ
());

61 
cÚd
[
cursÜ
].
v®ue
 = 
‹mp
;

62 
cÚd
[
cursÜ
].
D©aTy³
 = 
D©aTy³FÏg
::
INTEGER
;

63 
sd
.
	`pİ
();

64 
sdTy³
.
	`pİ
();

65 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

66 
sd
.
	`pİ
();

67 
sdTy³
.
	`pİ
();

72 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 1;

73 *
‹mp
 = 
Ãw
 [1];

74 
‹mp
[0]ğ
	`©of
(
sd
.
	`tİ
());

75 
cÚd
[
cursÜ
].
v®ue
 = 
‹mp
;

77 
cÚd
[
cursÜ
].
D©aTy³
 = 
D©aTy³FÏg
::
FLOAT
;

78 
sd
.
	`pİ
();

79 
sdTy³
.
	`pİ
();

80 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

81 
sd
.
	`pİ
();

82 
sdTy³
.
	`pİ
();

87 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 1;

88 
cÚd
[
cursÜ
].
v®ue
 =
sd
.
	`tİ
();

89 
cÚd
[
cursÜ
].
D©aTy³
 = 
D©aTy³FÏg
::
VARCHAR
;

90 
cÚd
[
cursÜ
].
Ën
ğ
	`¡¾’
(
sd
.
	`tİ
());

97 
sd
.
	`pİ
();

98 
sdTy³
.
	`pİ
();

99 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

100 
sd
.
	`pİ
();

101 
sdTy³
.
	`pİ
();

105  
Œue
;

106 
	}
}

108 
boŞ
 
	gS–eùExecutÜ
::
	$·r£
()

110 
i
 =0; i < 
sw
.
wh”eCursÜ
; i++)

112 if(
sw
.
ty³
[
i
] == 0)

114 
sd
.
	`push
(
sw
.
wh”e
[
i
]);

115 
sdTy³
.
	`push
(
sw
.
ty³
[
i
]);

117 if(
sw
.
ty³
[
i
] < 4)

119 
sd
.
	`push
(
sw
.
wh”e
[
i
]);

120 
sdTy³
.
	`push
(
sw
.
ty³
[
i
]);

121 }if((
sw
.
ty³
[
i
]>=12)&&(sw.type[i]<=15))

123 
sw
.
ty³
[
i
])

127 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
LESS
;

128 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

130 if(
decCÜ»ù
 =ğ
çl£
)

132  
decCÜ»ù
;

134 
cÚdCursÜ
 ++;

139 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
GREATER
;

140 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

141 if(
decCÜ»ù
 =ğ
çl£
)

143  
decCÜ»ù
;

145 
cÚdCursÜ
++;

150 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
NOTEQUAL
;

151 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

152 if(
decCÜ»ù
 =ğ
çl£
)

154  
decCÜ»ù
;

156 
cÚdCursÜ
++;

161 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
EQUAL
;

162 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

163 if(
decCÜ»ù
 =ğ
çl£
)

165  
decCÜ»ù
;

167 
cÚdCursÜ
++;

174 if(
sw
.
ty³
[
i
] == 24)

176 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
LESSEQUAL
;

177 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

178 if(
decCÜ»ù
 =ğ
çl£
)

180  
decCÜ»ù
;

182 
cÚdCursÜ
++;

184 if(
sw
.
ty³
[
i
] == 25)

186 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
GREATEREQUAL
;

187 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

188 if(
decCÜ»ù
 =ğ
çl£
)

190  
decCÜ»ù
;

192 
cÚdCursÜ
 ++;

193 }if(
sw
.
ty³
[
i
] == 9|| sw.type[i] == 10)

197 if(
sw
.
ty³
[
i
] == 11)

207  
Œue
;

208 
	}
}

210 
	gS–eùExecutÜ
::
	$£ËùAÎ
()

212 
TabË
* 
bË
 = 
Ãw
 
	`TabË
();

213 
bË
->
	`İ’
(
ùå
.
Çme
,
çl£
);

214 
TabËM‘a
 * 
m‘a
 = 
bË
->
	`g‘TabËM‘a
();

215 
F›ldP¬t
 * 
å
 = 
m‘a
->
h—d
;

216 
Tu¶e
*
tu¶e
 = 
bË
->
	`budEm±yTu¶e
();

217 
¡ršg
* 
cŞumn
 = 
Ãw
 sŒšg[
å
->
·¹Num
];

218 
i
 =0; i < 
å
->
·¹Num
; i ++)

220 
cŞumn
[
i
] = 
tu¶e
->cŞumn[i].
f›ld
->
âame
;

223 
boŞ
 
·r£CÜ»ù
 = 
	`·r£
();

224 if(
·r£CÜ»ù
 =ğ
çl£
)

226 
	`£tStus
(-13);

229 
CÚd™iÚ
 * 
cÚd™iÚ
 = 
Ãw
 CÚd™iÚ[
cÚdCursÜ
];

230 
i
 =0; i < 
cÚdCursÜ
; i ++)

232 
cÚd™iÚ
[
i
].
com·»
 = 
cÚd
[i].compare;

233 
cÚd™iÚ
[
i
].
cÚd™iÚTy³
 = 
cÚd
[i].conditionType;

234 
cÚd™iÚ
[
i
].
D©aTy³
 = 
cÚd
[i].DataType;

235 
cÚd™iÚ
[
i
].
fedName
 = 
cÚd
[i].filedName;

236 
cÚd™iÚ
[
i
].
Ën
 = 
cÚd
[i].len;

237 
cÚd™iÚ
[
i
].
v®ue
 = 
cÚd
[i].value;

240 
S–eùiÚ
 * 
s¥j
 = 
Ãw
 
	`S–eùiÚ
(
O³¿tÜTy³
::
PROJECTION
,
SPJ
::
TABLEINITIAL
);

241 
s¥j
->
	`š™S–eùiÚ
(
bË
,
cÚd™iÚ
, 
cÚdCursÜ
);

243 
ProjeùiÚ
 *
´oj
 = 
Ãw
 
	`ProjeùiÚ
(
O³¿tÜTy³
::
PROJECTION
, 
SPJ
::
ITERATORINITIAL
);

244 
´oj
->
	`š™ProjeùiÚ
(
s¥j
, 
cŞumn
, 
å
->
·¹Num
);

246 
út
 = 0;

247 
SPJI‹m
 * 
™em
 = 
´oj
->
	`budSPJI‹m
();

248 
´oj
->
	`g‘Fœ¡
(
™em
);

249 
i
 = 0; i < 
™em
->
f›ldNum
; i++)

251 
cout
<<"|\t"<<
™em
->
f›ldName
[
i
]<<"\t|";

253 
cout
<<
’dl
;

254 
™em
->
u£
!=0)

256 *
¡r
 = 
Ãw
 [1000];

257 
i
 =0; i< 
™em
->
f›ldNum
 && i‹m->
u£
 != 0; i ++)

259 
D©aUt
::
	`toSŒšg
(
¡r
,
™em
->
d©a
[
i
], i‹m->
d©aTy³
[i]);

260 
	`´štf
("|\t%s\t|", 
¡r
);

262 
	`´štf
("\n");

263 
út
 ++;

264 
´oj
->
	`g‘Next
(
™em
);

265 
d–‘e
 
¡r
;

267 if(
út
 == 0)

269 
	`£tStus
(-12);

273 
	`£tChdNum
(
út
);

274 
	`£tStus
(1);

279 
d–‘e
 [] 
cÚd™iÚ
;

280 
d–‘e
[] 
cŞumn
;

281 
d–‘e
 
´oj
;

282 
bË
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

283 
bË
->
	`şo£
();

285 
	}
}

287 
	gS–eùExecutÜ
::
	$execu‹
(
qu”y_Œ“
 
qt
)

290 if(
sw
.
isAÎ
 == 1)

292 if(
ùå
.
cu¼’tFp
 =ğ
NULL
)

294 
	`£tStus
(-11);

295  
	`g‘Stus
();

297 
	`£ËùAÎ
();

298  
	`g‘Stus
();

301 if(
ùå
.
cu¼’tFp
 =ğ
NULL
)

303 
	`£tStus
(-11);

304  
	`g‘Stus
();

306 
boŞ
 
·r£CÜ»ù
 = 
	`·r£
();

307 if(
·r£CÜ»ù
 =ğ
çl£
)

309 
	`£tStus
(-13);

310  
	`g‘Stus
();

313 
TabË
* 
bË
 = 
Ãw
 
	`TabË
();

314 
bË
->
	`İ’
(
ùå
.
Çme
,
çl£
);

315 
TabËM‘a
 * 
m‘a
 = 
bË
->
	`g‘TabËM‘a
();

316 
F›ldP¬t
 * 
å
 = 
m‘a
->
h—d
;

317 
Tu¶e
*
tu¶e
 = 
bË
->
	`budEm±yTu¶e
();

318 
¡ršg
* 
cŞumn
 = 
Ãw
 sŒšg[
sw
.
f›ldNum
];

319 
i
 =0; i <
sw
.
f›ldNum
; i++)

321 
cŞumn
[
i
] = 
sw
.
f›ldLi¡
[i];

323 
CÚd™iÚ
 * 
cÚd™iÚ
 = 
Ãw
 CÚd™iÚ[
cÚdCursÜ
];

324 
i
 =0; i < 
cÚdCursÜ
; i ++)

326 
cÚd™iÚ
[
i
].
com·»
 = 
cÚd
[i].compare;

327 
cÚd™iÚ
[
i
].
cÚd™iÚTy³
 = 
cÚd
[i].conditionType;

328 
cÚd™iÚ
[
i
].
D©aTy³
 = 
cÚd
[i].DataType;

329 
cÚd™iÚ
[
i
].
fedName
 = 
cÚd
[i].filedName;

330 
cÚd™iÚ
[
i
].
Ën
 = 
cÚd
[i].len;

331 
cÚd™iÚ
[
i
].
v®ue
 = 
cÚd
[i].value;

334 
S–eùiÚ
 * 
s¥j
 = 
Ãw
 
	`S–eùiÚ
(
O³¿tÜTy³
::
PROJECTION
,
SPJ
::
TABLEINITIAL
);

335 
s¥j
->
	`š™S–eùiÚ
(
bË
,
cÚd™iÚ
, 
cÚdCursÜ
);

337 
ProjeùiÚ
 *
´oj
 = 
Ãw
 
	`ProjeùiÚ
(
O³¿tÜTy³
::
PROJECTION
, 
SPJ
::
ITERATORINITIAL
);

338 
´oj
->
	`š™ProjeùiÚ
(
s¥j
, 
cŞumn
, 
sw
.
f›ldNum
);

340 
út
 = 0;

341 
SPJI‹m
 * 
™em
 = 
´oj
->
	`budSPJI‹m
();

342 
´oj
->
	`g‘Fœ¡
(
™em
);

344 
i
 = 0; i< 
sw
.
f›ldNum
; i++)

346 
cout
<<"|\t"<<
™em
->
f›ldName
[
i
]<<"\t|";

349 
cout
<<
’dl
;

351 
™em
->
u£
!=0)

353 *
¡r
 = 
Ãw
 [1000];

354 
i
 =0; i< 
sw
.
f›ldNum
 && 
™em
->
u£
 != 0; i ++)

356 
D©aUt
::
	`toSŒšg
(
¡r
,
™em
->
d©a
[
i
], i‹m->
d©aTy³
[i]);

357 
	`´štf
("|\t%s\t|", 
¡r
);

359 
	`´štf
("\n");

360 
út
 ++;

361 
´oj
->
	`g‘Next
(
™em
);

362 
d–‘e
 
¡r
;

364 if(
út
 == 0)

366 
	`£tStus
(-12);

370 
	`£tChdNum
(
út
);

371 
	`£tStus
(1);

374 
d–‘e
 [] 
cÚd™iÚ
;

375 
d–‘e
 [] 
cŞumn
;

376 
bË
->
	`şo£
();

377  
	`g‘Stus
();

378 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/SelectExecutor.h

1 #iâdeà
SELECTEXECUTOR_H_INCLUDED


2 
	#SELECTEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

4 
	~<¡ack
>

5 
	~<io¡»am
>

7 şas 
	cS–eùExecutÜ
:
Qu”yExecutÜ


9 
public
:

10 
S–eùExecutÜ
();

11 ~
S–eùExecutÜ
();

12 
execu‹
(
qu”y_Œ“
 
qt
);

13 
£tStus
(
a
);

14 
g‘Stus
();

15 
£tChdNum
(
a
);

16 
g‘ChdNum
();

18 
	m´iv©e
:

19 
chdNum
;

20 
	mcÚdCursÜ
;

21 
	m¡ack
<*> 
	msd
;

22 
	m¡ack
<> 
	msdTy³
;

23 
CÚd™iÚ
 
	mcÚd
[
MAX_CONDITION_LEN
];

24 
boŞ
 
·r£
();

25 
boŞ
 
decÜ©e
(
cursÜ
);

26 
£ËùAÎ
();

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/UpdateExecutor.cpp

1 
	~"Upd©eExecutÜ.h
"

2 
usšg
 
Çme¥aû
 
	g¡d
;

4 
	gUpd©eExecutÜ
::
	$Upd©eExecutÜ
()

6 
chdNum
 = 0;

7 
cÚdCursÜ
 = 0;

8 
assCursÜ
 = 0;

9 
Qu”yExecutÜ
::
	`£tStus
(0);

10 
	`¡rıy
(
Qu”yExecutÜ
::
wÜkDœ
,"workspace/");

12 
štV®ue
 = 0;

13 
æßtV®ue
 = 0.0;

14 
	`mem£t
(
¡r
,'\0', (str));

15 
	`mem£t
(
f›ldName
,'\0',(fieldName));

16 
æag
 = 0;

17 
	}
}

19 
	gUpd©eExecutÜ
::~
	$Upd©eExecutÜ
()

21 
chdNum
 = 0;

22 
cÚdCursÜ
 = 0;

23 
assCursÜ
 = 0;

24 
Qu”yExecutÜ
::
	`£tStus
(0);

25 
	`mem£t
(
Qu”yExecutÜ
::
wÜkDœ
,'\0',
	`¡¾’
(workDir));

27 
štV®ue
 = 0;

28 
æßtV®ue
 = 0.0;

29 
	`mem£t
(
¡r
,'\0', (str));

30 
	`mem£t
(
f›ldName
,'\0',(fieldName));

31 
æag
 = 0;

32 
	}
}

34 
	gUpd©eExecutÜ
::
	$£tStus
(
a
)

36 
Qu”yExecutÜ
::
	`£tStus
(
a
);

37 
	}
}

39 
	gUpd©eExecutÜ
::
	$g‘Stus
()

41  
Qu”yExecutÜ
::
	`g‘Stus
();

42 
	}
}

44 
	gUpd©eExecutÜ
::
	$£tChdNum
(
a
)

46 
chdNum
 = 
a
;

47 
	}
}

49 
	gUpd©eExecutÜ
::
	$g‘ChdNum
()

51  
chdNum
;

52 
	}
}

55 
	gUpd©eExecutÜ
::
	$·r£Ass
()

57 
i
 = 0; i <=
uw
.
assCursÜ
; i++)

59 
uw
.
assTy³
[
i
])

67 
štV®ue
 = 
	`©oi
(
uw
.
assWh”e
[
i
]);

68 
æag
 = 0;

71 
æßtV®ue
 = 
	`©of
(
uw
.
assWh”e
[
i
]);

72 
æag
 = 1;

75 
	`¡rıy
(
¡r
, 
uw
.
assWh”e
[
i
]);

76 
æag
 = 2;

79 
	`¡rıy
(
f›ldName
,
uw
.
assWh”e
[
i
]);

85 
	}
}

87 
boŞ
 
	gUpd©eExecutÜ
::
	$decÜ©e
(
cursÜ
)

89 
sdTy³
.
	`tİ
())

93 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 2;

94 
cÚd
[
cursÜ
].
v®ue
 = 
sd
.
	`tİ
();

95 
cÚd
[
cursÜ
].
Ën
 = 
	`¡¾’
(
sd
.
	`tİ
());

96 
sd
.
	`pİ
();

97 
sdTy³
.
	`pİ
();

98 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

99 
sd
.
	`pİ
();

100 
sdTy³
.
	`pİ
();

105 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 1;

106 *
‹mp
 = 
Ãw
 [1];

107 
‹mp
[0]=
	`©oi
(
sd
.
	`tİ
());

108 
cÚd
[
cursÜ
].
v®ue
 = 
‹mp
;

109 
cÚd
[
cursÜ
].
D©aTy³
 = 
D©aTy³FÏg
::
INTEGER
;

110 
sd
.
	`pİ
();

111 
sdTy³
.
	`pİ
();

112 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

113 
sd
.
	`pİ
();

114 
sdTy³
.
	`pİ
();

119 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 1;

120 *
‹mp
 = 
Ãw
 [1];

121 
‹mp
[0]ğ
	`©of
(
sd
.
	`tİ
());

122 
cÚd
[
cursÜ
].
v®ue
 = 
‹mp
;

124 
cÚd
[
cursÜ
].
D©aTy³
 = 
D©aTy³FÏg
::
FLOAT
;

125 
sd
.
	`pİ
();

126 
sdTy³
.
	`pİ
();

127 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

128 
sd
.
	`pİ
();

129 
sdTy³
.
	`pİ
();

134 
cÚd
[
cursÜ
].
cÚd™iÚTy³
 = 1;

135 
cÚd
[
cursÜ
].
v®ue
 =
sd
.
	`tİ
();

136 
cÚd
[
cursÜ
].
D©aTy³
 = 
D©aTy³FÏg
::
VARCHAR
;

137 
cÚd
[
cursÜ
].
Ën
ğ
	`¡¾’
(
sd
.
	`tİ
());

145 
sd
.
	`pİ
();

146 
sdTy³
.
	`pİ
();

147 
cÚd
[
cursÜ
].
fedName
 = 
sd
.
	`tİ
();

148 
sd
.
	`pİ
();

149 
sdTy³
.
	`pİ
();

153  
Œue
;

154 
	}
}

156 
boŞ
 
	gUpd©eExecutÜ
::
	$·r£
()

158 
i
 =0; i < 
uw
.
wh”eCursÜ
; i++)

160 if(
uw
.
ty³
[
i
] == 0)

162 
sd
.
	`push
(
uw
.
wh”e
[
i
]);

163 
sdTy³
.
	`push
(
uw
.
ty³
[
i
]);

165 if(
uw
.
ty³
[
i
] < 4)

167 
sd
.
	`push
(
uw
.
wh”e
[
i
]);

168 
sdTy³
.
	`push
(
uw
.
ty³
[
i
]);

169 }if((
uw
.
ty³
[
i
]>=12)&&(uw.type[i]<=15))

171 
uw
.
ty³
[
i
])

175 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
LESS
;

176 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

178 if(
decCÜ»ù
 =ğ
çl£
)

180  
decCÜ»ù
;

182 
cÚdCursÜ
 ++;

187 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
GREATER
;

188 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

189 if(
decCÜ»ù
 =ğ
çl£
)

191  
decCÜ»ù
;

193 
cÚdCursÜ
++;

198 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
NOTEQUAL
;

199 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

200 if(
decCÜ»ù
 =ğ
çl£
)

202  
decCÜ»ù
;

204 
cÚdCursÜ
++;

209 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
EQUAL
;

210 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

211 if(
decCÜ»ù
 =ğ
çl£
)

213  
decCÜ»ù
;

215 
cÚdCursÜ
++;

222 if(
uw
.
ty³
[
i
] == 24)

224 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
LESSEQUAL
;

225 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

226 if(
decCÜ»ù
 =ğ
çl£
)

228  
decCÜ»ù
;

230 
cÚdCursÜ
++;

232 if(
uw
.
ty³
[
i
] == 25)

234 
cÚd
[
cÚdCursÜ
].
com·»
 = 
Com·»Ty³
::
GREATEREQUAL
;

235 
boŞ
 
decCÜ»ù
 = 
	`decÜ©e
(
cÚdCursÜ
);

236 if(
decCÜ»ù
 =ğ
çl£
)

238  
decCÜ»ù
;

240 
cÚdCursÜ
 ++;

241 }if(
uw
.
ty³
[
i
] == 9|| uw.type[i] == 10)

245 if(
uw
.
ty³
[
i
] == 11)

255  
Œue
;

256 
	}
}

258 
	gUpd©eExecutÜ
::
	$execu‹
(
qu”y_Œ“
 
qt
)

260 
dœ
[64];

261 
	`¡rıy
(
dœ
,
uw
.
bËName
);

262 
FILE
 *
f
 = 
	`fİ’
(
dœ
,"r");

263 if(
f
 =ğ
NULL
)

265 
	`£tStus
(-21);

266  
	`g‘Stus
();

268 
	`·r£Ass
();

269 
boŞ
 
·r£CÜ»ù
 = 
	`·r£
();

270 if(
·r£CÜ»ù
 =ğ
çl£
)

272 
	`£tStus
(-22);

273  
	`g‘Stus
();

276 
TabË
 * 
bË
 = 
Ãw
 
	`TabË
();

277 
bË
->
	`İ’
(
dœ
, 
çl£
);

278 
S–eùiÚ
 *
¥j
 = 
Ãw
 
	`S–eùiÚ
(
O³¿tÜTy³
::
SELECTION
, 
SPJ
::
TABLEINITIAL
);

279 
CÚd™iÚ
 * 
cÚd™iÚ
 = 
Ãw
 CÚd™iÚ[
cÚdCursÜ
];

280 
i
 =0; i < 
cÚdCursÜ
; i ++)

282 
cÚd™iÚ
[
i
].
com·»
 = 
cÚd
[i].compare;

283 
cÚd™iÚ
[
i
].
cÚd™iÚTy³
 = 
cÚd
[i].conditionType;

284 
cÚd™iÚ
[
i
].
D©aTy³
 = 
cÚd
[i].DataType;

285 
cÚd™iÚ
[
i
].
fedName
 = 
cÚd
[i].filedName;

286 
cÚd™iÚ
[
i
].
Ën
 = 
cÚd
[i].len;

287 
cÚd™iÚ
[
i
].
v®ue
 = 
cÚd
[i].value;

289 
¥j
->
	`š™S–eùiÚ
(
bË
, 
cÚd™iÚ
, 
cÚdCursÜ
);

290 
SPJI‹m
 * 
™em
 = 
¥j
->
	`budSPJI‹m
();

291 
‹mp
 = 
¥j
->
	`¥jFÜUpd©e
(
™em
, 
f›ldName
, 
štV®ue
, 
æßtV®ue
, 
¡r
, 
æag
);

292 if(
‹mp
 == 0)

294 
	`£tStus
(-23);

295  
	`g‘Stus
();

299 
	`£tChdNum
(
‹mp
);

302 
d–‘e
[] 
cÚd™iÚ
;

303 
bË
->
	`şo£
();

304 
d–‘e
 
¥j
;

305 
d–‘e
 
™em
;

306 
	`£tStus
(1);

307  
	`g‘Stus
();

308 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/execution/UpdateExecutor.h

1 #iâdeà
UPDATEEXECUTOR_H_INCLUDED


2 
	#UPDATEEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

4 
	~<¡ack
>

5 
	~<io¡»am
>

9 şas 
	cUpd©eExecutÜ
:
Qu”yExecutÜ


11 
public
:

12 
Upd©eExecutÜ
();

13 ~
Upd©eExecutÜ
();

14 
execu‹
(
qu”y_Œ“
 
qt
);

15 
£tStus
(
a
);

16 
g‘Stus
();

17 
£tChdNum
(
a
);

18 
g‘ChdNum
();

20 
	m´iv©e
:

21 
chdNum
;

22 
	mcÚdCursÜ
;

23 
	massCursÜ
;

24 
	m¡ack
<*> 
	msd
;

25 
	m¡ack
<> 
	msdTy³
;

26 
CÚd™iÚ
 
	mcÚd
[
MAX_CONDITION_LEN
];

27 
boŞ
 
·r£
();

28 
boŞ
 
decÜ©e
(
cursÜ
);

29 
·r£Ass
();

30 
	m¡r
[
MAX_FIELD_NAME_LEN
];

31 
	mf›ldName
[
MAX_FIELD_NAME_LEN
];

32 
	mštV®ue
;

33 
	mæßtV®ue
;

34 
	mæag
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/global.h

1 #iâdeà
GLOBAL_H_INCLUDED


2 
	#GLOBAL_H_INCLUDED


	)

3 
	~<¡dio.h
>

4 
	~"·r£r/·r£r.h
"

6 
qu”y_Œ“
 
	gqu”yT»e
;

7 
m‘a_f›ld
 
	gmfLi¡
[
MAX_MF_LIST
];

8 
m‘a_f›ld_ch¬
 
	gmfcLi¡
[
MAX_MFC_LIST
];

10 
	gmfLi¡CursÜ
;

11 
	gmfcLi¡CursÜ
;

13 
	gcu¼’tTabËLi¡Num
;

15 
cu¼’tTabËFp
 
	gùå
;

16 
äomLi¡
 
	gcu¼’tTabËLi¡
[
MAX_TABLE_LIST
];

17 
‹mpTu¶e
 
	g‰™
;

18 
d–‘eWh”e
 
	gdw
;

19 
upd©eWh”e
 
	guw
;

20 
£ËùWh”e
 
	gsw
;

21 
jošWh”e
 
	gjw
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/index/BPTree.cpp

1 
	~"BPT»e.h
"

2 
	~"../£gm’t/IndexSegm’t.h
"

3 
	~"../ut/D©aUt.h
"

4 
	gBPT»e
::
BPTI‹¿tÜ
::
	$fšdFœ¡
(
IndexI‹m
* 
™em
)

7 if(
knownEm±y
) ;

8 if(
this
->
cu¼’tNode
==0éhis->cu¼’tNodğ
Ãw
 
	`BPTNode
();

9 
this
->
cursÜ
 = 
h—d
;

10 
Œ“
->
	`g‘BPTNode
(
cu¼’tNode
 ,
this
->
begš
);

11 if(
this
->
cursÜ
>=
cu¼’tNode
->
keyNum
)

13 if(
this
->
cu¼’tNode
->
Ãxt
!=0)

15 
Œ“
->
	`g‘BPTNode
(
this
->
cu¼’tNode
,this->cu¼’tNode->
Ãxt
);

16 
this
->
cursÜ
=0;

23 
	`memıy
(
™em
->
key
,
cu¼’tNode
->
keys
[
this
->
cursÜ
],8);

24 
™em
->
addr
 = 
cu¼’tNode
->
chd»n
[
this
->
cursÜ
++];

25 
	`´štf
("»ached h”e!‡dd¸ğ%Îx\n",
™em
->
addr
);

26 
	}
}

27 
	gBPT»e
::
BPTI‹¿tÜ
::
	$fšdNext
(
IndexI‹m
* 
™em
)

29 if(
knownEm±y
) ;

30 if(
cu¼’tNode
->
·geNo
==
	`PAGE_ID
(
this
->
’d
)&&this->
cursÜ
>=

)

34 if(
this
->
cursÜ
>ñhis->
cu¼’tNode
->
keyNum
)

36 if(
this
->
cu¼’tNode
->
Ãxt
!=0)

38 
Œ“
->
	`g‘BPTNode
(
this
->
cu¼’tNode
,this->cu¼’tNode->
Ãxt
);

39 
this
->
cursÜ
=0;

46 
	`memıy
(
™em
->
key
,
cu¼’tNode
->
keys
[
this
->
cursÜ
],8);

47 
™em
->
addr
 = 
cu¼’tNode
->
chd»n
[
this
->
cursÜ
++];

48 
	}
}

49 
boŞ
 
	gBPT»e
::
BPTI‹¿tÜ
::
	$hasNext
()

52 if(
knownEm±y
) 
çl£
;

53 if(
cu¼’tNode
->
·geNo
==
	`PAGE_ID
(
this
->
’d
)&&this->
cursÜ
>=

)

55  
çl£
;

57 if(
this
->
cursÜ
>ñhis->
cu¼’tNode
->
keyNum
&&this->cu¼’tNode->
Ãxt
<=0) 
çl£
;

58  
Œue
;

59 
	}
}

60 
	gBPT»e
::
BPTI‹¿tÜ
::
	$BPTI‹¿tÜ
(
Addr
 
addr1
,
off£t1
,Add¸
addr2
,
off£t2
,
BPT»e
* 
b±»e
)

62 
knownEm±y
 = 
çl£
;

63 
this
->
begš
 = 
addr1
;

64 
this
->
cursÜ
=0;

65 
this
->
h—d
 = 
off£t1
;

66 
this
->
’d
 = 
addr2
;

67 
this
->

 = 
off£t2
;

68 
this
->
cu¼’tNode
 = 0;

69 
this
->
cursÜ
=
off£t1
;

70 #ifdeà
DEBUG_INDEX


71 
	`´štf
("cÚ¡ruù‡À™”©Ü w™h begš %Îx off£ˆ%dƒnd %Îx off£ˆ%d\n",
begš
,
h—d
,
’d
,

);

73 
this
->
Œ“
 = 
b±»e
;

74 if(
this
->
Œ“
->
šdexRoÙAddr
==
’d
&&

<=0)

76 
knownEm±y
 = 
Œue
;

78 
	}
}

79 
	gBPT»e
::
BPTI‹¿tÜ
::~
	$BPTI‹¿tÜ
()

81 if(
this
->
cu¼’tNode
!=0)

83 
d–‘e
 
cu¼’tNode
;

84 
cu¼’tNode
 = 0;

86 
	}
}

87 
	gBPT»e
::
	$BPT»e
(
IndexSegm’t
* 
idx
,
By‹
 
fid
,
Addr
 
addr
,
IndexM‘aI‹m
* 
™m
):
	`Index
(idx,fid,addr),
	$™em
(
™m
)

89 
út
= 0;

90 
¥l™Time
 = 0;

91 
ü—‹d
ğ
çl£
;
lßded
=false;

92 
this
->
roÙ
 = 0;

93 
this
->
d©aTy³
 =his->
mts
->
	`g‘M‘aD©a
()->
h—d
->
f›ldLi¡
[
fid
].dataType;

94 if(
this
->
šdexRoÙAddr
==0)

96 
this
->
šdexRoÙAddr
 =his->
drs
->
	`®loÿ‹Block
(
Segm’tTy³
::
IndexSeg
,
PageStus
::
FuÎPage
);

97 
this
->
roÙ
 = 0;

98 
	`ü—‹
();

102 
	`lßd
();

104 
	}
}

105 
	gBPT»e
::
	$ü—‹
()

107 if(!
ü—‹d
)

109 
BufãrF¿me
* 
äame
 = 
this
->
mªag”
->
	`»que¡PageFÜWr™e
Ñhis->
šdexRoÙAddr
,
çl£
);

110 if(
this
->
roÙ
!=0)
d–‘e
„oot;

111 
this
->
roÙ
 = 
Ãw
 
	`BPTNode
();

112 
roÙ
->
fid
 = 
this
->
f›ldId
;

113 
roÙ
->
nodeTy³
=
BPTNodeTy³
::
hasD©a
|BPTNodeTy³::
isRoÙ
;

114 
roÙ
->
keyNum
=0;

115 
roÙ
->
·»ÁAddr
=0;

116 
roÙ
->
´evious
=0;

117 
roÙ
->
Ãxt
=0;

118 
roÙ
->
·geNo
 = 
äame
->pageNo;

119 
	`ŒªsNodeToF¿me
(
roÙ
,
äame
);

120 
äame
->
ed™
 = 
Œue
;

121 
this
->
mªag”
->
	`fšishWr™e
(
äame
);

122 
Tu¶e
* 
tu¶e
 = 
this
->
dts
->
	`budEm±yTu¶e
();

123 
IndexI‹m
* 
™em
 = 
this
->
	`budI‹m
();

124 
this
->
dts
->
	`fšdFœ¡Tu¶e
(
tu¶e
);

126 
tu¶e
->
tu¶eAddr
>0)

128 
út
++;

129 
Addr
 
Şd
 = 
tu¶e
->
tu¶eAddr
;

130 
™em
->
addr
 = 
Şd
;

131 
	`memıy
(
™em
->
key
,
tu¶e
->
cŞumn
[
this
->
f›ldId
].
d©a
,this->
šdexL’
);

132 
this
->
	`š£¹EËm
(
™em
,
çl£
);

133 
this
->
dts
->
	`fšdNextTu¶e
(
tu¶e
,tuple);

134 if(
tu¶e
->
tu¶eAddr
==
Şd
)

138 if(
út
==300)

145 
this
->
	`´štT»eBFS
();

147 
this
->
	`»Ëa£IndexI‹m
(
™em
);

148 
™em
 = 0;

149 
this
->
dts
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

150 
ü—‹d
 = 
Œue
;

151 
lßded
 = 
Œue
;

153 
	}
}

154 
	gBPT»e
::
	$lßd
()

156 if(!
lßded
)

158 if(
this
->
roÙ
!=0)
d–‘e
„oot;

159 
this
->
roÙ
 = 
Ãw
 
	`BPTNode
();

160 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜR—d
(
this
->
šdexRoÙAddr
);

161 
»ad
 = 
	`ŒªsF¿meToNode
(
äame
,
roÙ
);

162 
mªag”
->
	`fšishR—d
(
äame
);

163 if(
»ad
<=32)

165 
d–‘e
 
this
->
roÙ
;

166 
this
->
roÙ
=0;

167 
	`ü—‹
();

169 
ü—‹d
 = 
Œue
;

170 
lßded
 = 
Œue
;

172 
	}
}

173 
	gBPT»e
::
	$de¡royMyS–f
()

176 
	}
}

177 
IndexI‹¿tÜ
* 
BPT»e
::
	$fšdByKey
(* 
key
)

179 
By‹
 
d©a
[8];

180 
chr
[255];

181 
	`memıy
(
d©a
,
key
,
this
->
šdexL’
);

183 
BPTNode
* 
node
 = 
Ãw
 
	`BPTNode
();

184 
	`£¬chBPTNode
(
node
,
d©a
);

185 
pos2
 = 
	`fšdUpBound
(
d©a
,
node
);

186 
pos2
++;

187 
Addr
 
addr2
 = 
	`PAGE_ADDR
(
node
->
·geNo
);

188 
	`£¬chBPTNode2
(
node
,
d©a
);

189 
pos1
 = 
	`fšdLowBound
(
d©a
,
node
);

190 
Addr
 
addr1
 = 
	`PAGE_ADDR
(
node
->
·geNo
);

191 
d–‘e
 
node
;node = 0;

192  
Ãw
 
BPT»e
::
	`BPTI‹¿tÜ
(
addr1
,
pos1
,
addr2
,
pos2
,
this
);

193 
	}
}

194 
IndexI‹¿tÜ
* 
	gBPT»e
::
	$fšdByRªge
(* 
key1
,* 
key2
){

196 
jd
 = 
D©aUt
::
	`cmpD©a
(
»š‹½»t_ÿ¡
<
By‹
*>(
key1
),»š‹½»t_ÿ¡<By‹*>(
key2
),
this
->
d©aTy³
,this->
šdexL’
);

197 if(
jd
>0)

199 * 
b
 = 
key1
;

200 
key1
 = 
key2
;

201 
key2
 = 
b
;

203 
By‹
 
d©a
[8];

204 
	`memıy
(
d©a
,
key2
,
this
->
šdexL’
);

205 
BPTNode
* 
node
 = 
Ãw
 
	`BPTNode
();

206 
	`£¬chBPTNode
(
node
,
d©a
);

207 
pos2
 = 
	`fšdUpBound
(
d©a
,
node
);

208 
pos2
++;

209 if(
this
->
d©aTy³
==
D©aTy³FÏg
::
FLOAT
)

213 
Addr
 
addr2
 = 
	`PAGE_ADDR
(
node
->
·geNo
);

214 
	`memıy
(
d©a
,
key1
,
this
->
šdexL’
);

215 
	`£¬chBPTNode2
(
node
,
d©a
);

216 
pos1
 = 
	`fšdLowBound
(
d©a
,
node
);

217 
Addr
 
addr1
 = 
	`PAGE_ADDR
(
node
->
·geNo
);

218 
d–‘e
 
node
;

219  
Ãw
 
BPT»e
::
	`BPTI‹¿tÜ
(
addr1
,
pos1
,
addr2
,
pos2
,
this
);

220 
	}
}

221 
	gBPT»e
::
	$de¡ÜyI‹¿tÜ
(
IndexI‹¿tÜ
* 
™”©Ü
){

222 
d–‘e
 
™”©Ü
;

223 
	}
}

224 
	gBPT»e
::
	$š£¹NÚL—fAtPos
(
IndexI‹m
* 
™em
,
BPTNode
* 
node
,
pos
)

226 
keyNum
 = 
node
->keyNum;

227 if(
keyNum
>=
MAX_KEY_SIZE
)keyNum=MAX_KEY_SIZE-1;

228 
i
=
keyNum
;i>
pos
;i--)

230 
	`memıy
(
node
->
keys
[
i
],node->keys[i-1],8);

231 
node
->
chd»n
[
i
+1]=node->children[i];

233 
	`memıy
(
node
->
keys
[
pos
],
™em
->
key
,8);

234 
node
->
chd»n
[
pos
+1]=
™em
->
addr
;

235 
node
->
keyNum
++;

236 
	}
}

237 
	gBPT»e
::
	$š£¹EËmAtPos
(
IndexI‹m
* 
™em
,
BPTNode
* 
node
,
pos
)

239 
keyNum
 = 
node
->keyNum;

240 if(
keyNum
>=
MAX_KEY_SIZE
)keyNum=MAX_KEY_SIZE-1;

241 
i
=
keyNum
;i>
pos
;i--)

243 
	`memıy
(
node
->
keys
[
i
],node->keys[i-1],8);

244 
node
->
chd»n
[
i
]=node->children[i-1];

246 
	`memıy
(
node
->
keys
[
pos
],
™em
->
key
,8);

247 
node
->
chd»n
[
pos
]=
™em
->
addr
;

248 
node
->
keyNum
++;

249 
	}
}

250 
Addr
 
	gBPT»e
::
	$g‘NewBPTNode
(
BPTNode
* 
node
,
By‹
 
nodeTy³
)

252 
Addr
 
addr
 = 
drs
->
	`®loÿ‹Block
(
Segm’tTy³
::
IndexSeg
,
PageStus
::
FuÎPage
);

253 
BufãrF¿me
* 
äame
 = 
this
->
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

255 
node
->
fid
 = 
this
->
f›ldId
;

256 
node
->
nodeTy³
=nodeType;

257 
node
->
keyNum
=0;

258 
node
->
·»ÁAddr
=0;

259 
node
->
´evious
=0;

260 
node
->
Ãxt
=0;

261 
node
->
·geNo
 = 
äame
->pageNo;

262 
	`ŒªsNodeToF¿me
(
roÙ
,
äame
);

263 
äame
->
ed™
 = 
Œue
;

264 
this
->
mªag”
->
	`fšishWr™e
(
äame
);

265  
addr
;

266 
	}
}

267 
	gBPT»e
::
	$g‘BPTNode
(
BPTNode
* 
node
,
Addr
 
addr
)

269 
BufãrF¿me
* 
äame
 = 
this
->
mªag”
->
	`»que¡PageFÜR—d
(
addr
);

270 if(
äame
->
·geNo
==0||
addr
==0)

272 
	`´štf
("e™h” oÃ i z”Ø%Îx %Îx\n",
äame
->
·geNo
,
addr
);

274 
	`ŒªsF¿meToNode
(
äame
,
node
);

275 
mªag”
->
	`fšishR—d
(
äame
);

276 
	}
}

277 
	gBPT»e
::
	$æushNode
(
BPTNode
* 
node
)

279 if(
node
->
·geNo
==0);

280 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜWr™e
(
	`PAGE_ADDR
(
node
->
·geNo
),
çl£
);

281 
	`ŒªsNodeToF¿me
(
node
,
äame
);

282 
äame
->
ed™
 = 
Œue
;

283 
mªag”
->
	`fšishWr™e
(
äame
);

284 
	}
}

285 
	gBPT»e
::
	$nÚËafıy
(
BPTNode
* 
de¡
,BPTNode* 
¤c
,
de¡_off£t
,
¤c_off£t
,
Ën
)

287 
i
=0;i<
Ën
;i++)

289 
	`memıy
(
de¡
->
keys
[
de¡_off£t
+
i
],
¤c
->keys[
¤c_off£t
+i],8);

290 
de¡
->
chd»n
[
de¡_off£t
+
i
]=
¤c
->chd»n[
¤c_off£t
+i];

292 
de¡
->
chd»n
[
de¡_off£t
+
Ën
]=
¤c
->chd»n[
¤c_off£t
+len];

293 
	}
}

294 
	gBPT»e
::
	$Ëafıy
(
BPTNode
* 
de¡
,BPTNode* 
¤c
,
de¡_off£t
,
¤c_off£t
,
Ën
)

296 
i
=0;i<
Ën
;i++)

298 
	`memıy
(
de¡
->
keys
[
de¡_off£t
+
i
],
¤c
->keys[
¤c_off£t
+i],8);

299 
de¡
->
chd»n
[
de¡_off£t
+
i
]=
¤c
->chd»n[
¤c_off£t
+i];

301 
	}
}

302 
Addr
 
	gBPT»e
::
	$£¬chBPTNode
(
BPTNode
* 
node
,
By‹
* 
d©a
)

304 
pos
 = 
	`fšdUpBound
(
d©a
,
roÙ
);

305 if((
roÙ
->
nodeTy³
&
BPTNodeTy³
::
hasD©a
)!=0){

306 #ifdeà
DEBUG_INDEX


310 
	`g‘BPTNode
(
node
,
	`PAGE_ADDR
(
roÙ
->
·geNo
));

311  
roÙ
->
·geNo
;

313 #ifdeà
DEBUG_INDEX


317 
Addr
 
addr
 = 
roÙ
->
chd»n
[
pos
+1];

320 
	`g‘BPTNode
(
node
,
addr
);

321 
node
->
·»ÁAddr
 = 
	`PAGE_ADDR
(
roÙ
->
·geNo
);

322 
	`æushNode
(
node
);

323 
Addr
 
·»Á
 = 
	`PAGE_ADDR
(
node
->
·geNo
);

324 #ifdeà
DEBUG_INDEX


327 (
node
->
nodeTy³
&
BPTNodeTy³
::
hasD©a
)==0)

330 #ifdeà
DEBUG_INDEX


333 
pos
 = 
	`fšdUpBound
(
d©a
,
node
);

338 #ifdeà
DEBUG_INDEX


341 if(
node
->
chd»n
[
pos
+1]<
PAGE_SIZE
)

343 
	`´štNode
(
node
);

346 
Addr
 
addr
 = 
node
->
chd»n
[
pos
+1];

348 
	`g‘BPTNode
(
node
,
addr
);

349 
node
->
·»ÁAddr
 = 
·»Á
;

350 
	`æushNode
(
node
);

351 
·»Á
 = 
	`PAGE_ADDR
(
node
->
·geNo
);

354 if((
node
->
nodeTy³
&
BPTNodeTy³
::
hasD©a
)!=0)

356 #ifdeà
DEBUG_INDEX


360  
node
->
·geNo
;

361 
	}
}

362 
Addr
 
	gBPT»e
::
	$£¬chBPTNode2
(
BPTNode
* 
node
,
By‹
* 
d©a
)

364 
pos
 = 
	`fšdLowBound
(
d©a
,
roÙ
);

365 #ifdeà
DEBUG_INDEX


369 if((
roÙ
->
nodeTy³
&
BPTNodeTy³
::
hasD©a
)!=0){

370 #ifdeà
DEBUG_INDEX


371 
	`´štf
("root has Data\n");;

374 
	`g‘BPTNode
(
node
,
	`PAGE_ADDR
(
roÙ
->
·geNo
));

375  
roÙ
->
·geNo
;

377 if(
D©aUt
::
	`cmpD©a
(
d©a
,
roÙ
->
keys
[
pos
],
this
->
d©aTy³
,this->
šdexL’
)==0)pos++;

378 
Addr
 
addr
 = 
roÙ
->
chd»n
[
pos
];

380 
	`g‘BPTNode
(
node
,
addr
);

381 
node
->
·»ÁAddr
 = 
	`PAGE_ADDR
(
roÙ
->
·geNo
);

382 
	`æushNode
(
node
);

383 
Addr
 
·»Á
 = 
	`PAGE_ADDR
(
node
->
·geNo
);

385 (
node
->
nodeTy³
&
BPTNodeTy³
::
hasD©a
)==0)

387 #ifdeà
DEBUG_INDEX


390 
pos
 = 
	`fšdLowBound
(
d©a
,
node
);

391 if(
D©aUt
::
	`cmpD©a
(
d©a
,
node
->
keys
[
pos
],
this
->
d©aTy³
,this->
šdexL’
)==0)pos++;

396 
Addr
 
addr
 = 
node
->
chd»n
[
pos
];

398 
	`g‘BPTNode
(
node
,
addr
);

399 
node
->
·»ÁAddr
 = 
·»Á
;

400 
	`æushNode
(
node
);

401 
·»Á
 = 
	`PAGE_ADDR
(
node
->
·geNo
);

403 if((
node
->
nodeTy³
&
BPTNodeTy³
::
hasD©a
)!=0)

405 #ifdeà
DEBUG_INDEX


409  
node
->
·geNo
;

410 
	}
}

411 
	gBPT»e
::
	$š£¹NodeRecursiv–y
(
Addr
 
addr
,
IndexI‹m
* 
™em
)

413 
BPTNode
* 
node
 = 
Ãw
 
	`BPTNode
();

415 
	`g‘BPTNode
(
node
,
addr
);

416 if((
node
->
nodeTy³
&
BPTNodeTy³
::
hasD©a
)!=0)

419 
BPTNode
* 
sm®Ër
 = 
node
;

420 
BPTNode
* 
bigg”
 = 
Ãw
 
	`BPTNode
();

421 
this
->
	`g‘NewBPTNode
(
bigg”
,
BPTNodeTy³
::
hasD©a
);

422 
mid
 = 
sm®Ër
->
keyNum
/2;

423 
cmpk
 = 
D©aUt
::
	`cmpD©a
(
sm®Ër
->
keys
[
mid
],
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
),
this
->
d©aTy³
,this->
šdexL’
);

424 if(
cmpk
>0)

427 
mËn
 = 
sm®Ër
->
keyNum
-
mid
;

428 
	`Ëafıy
(
bigg”
,
sm®Ër
,0,
mid
,
mËn
);

429 
sm®Ër
->
keyNum
 = 
mid
;

430 
bigg”
->
keyNum
=
mËn
;

431 
pos
 = 
	`fšdUpBound
(
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
),
sm®Ër
);

432 
	`š£¹EËmAtPos
(
™em
,
sm®Ër
,
pos
+1);

436 
mËn
 = 
sm®Ër
->
keyNum
-
mid
-1;

437 
	`Ëafıy
(
bigg”
,
sm®Ër
,0,
mid
+1,
mËn
);

438 
sm®Ër
->
keyNum
=
mid
+1;

439 
bigg”
->
keyNum
=
mËn
;

440 
pos
 = 
	`fšdUpBound
(
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
),
bigg”
);

441 
	`š£¹EËmAtPos
(
™em
,
bigg”
,
pos
+1);

443 
bigg”
->
Ãxt
=
sm®Ër
->next;

444 
sm®Ër
->
Ãxt
 = 
	`PAGE_ADDR
(
bigg”
->
·geNo
);

445 
bigg”
->
´evious
ğ
	`PAGE_ADDR
(
sm®Ër
->
·geNo
);

446 
bigg”
->
·»ÁAddr
=
sm®Ër
->parentAddr;

447 if(
bigg”
->
Ãxt
!=0)

449 
BPTNode
* 
tmp
 = 
Ãw
 
	`BPTNode
();

451 
	`g‘BPTNode
(
tmp
,
bigg”
->
Ãxt
);

452 
tmp
->
´evious
=
	`PAGE_ADDR
(
bigg”
->
·geNo
);

453 
	`æushNode
(
tmp
);

454 
d–‘e
 
tmp
;

456 
	`æushNode
(
bigg”
);

457 
	`æushNode
(
sm®Ër
);

459 
IndexI‹m
* 
ÃwI‹m
 = 
this
->
	`budI‹m
();

460 #ifdeà
DEBUG_INDEX


461 
chr
[255];

462 
D©aUt
::
	`toSŒšg
(
chr
,
bigg”
->
keys
[0],
this
->
d©aTy³
);

465 
	`memıy
(
ÃwI‹m
->
key
,
bigg”
->
keys
[0],8);

466 
ÃwI‹m
->
addr
=
sm®Ër
->
Ãxt
;

467 
d–‘e
 
bigg”
;

468 
	`š£¹NodeRecursiv–y
(
sm®Ër
->
·»ÁAddr
,
ÃwI‹m
);

469 
this
->
	`»Ëa£IndexI‹m
(
ÃwI‹m
);

470 
d–‘e
 
node
;

473 
BPTNode
* 
tmpNode
 = 
node
;

474 if(
this
->
šdexRoÙAddr
==
	`PAGE_ADDR
(
node
->
·geNo
))
tmpNode
 = 
roÙ
;

475 if(
tmpNode
->
keyNum
<
MAX_KEY_SIZE
)

477 
pos
 = 
	`fšdUpBound
(
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
),
tmpNode
);

478 
	`š£¹NÚL—fAtPos
(
™em
,
tmpNode
,
pos
+1);

479 
	`æushNode
(
tmpNode
);

484 
BPTNode
* 
sm®Ër
 = 
tmpNode
;

485 
BPTNode
* 
bigg”
 = 
Ãw
 
	`BPTNode
();

486 
this
->
	`g‘NewBPTNode
(
bigg”
,0);

487 
pos
 = 
	`fšdUpBound
(
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
),
sm®Ër
);

489 
By‹
 
bigKey
[8];

490 
Addr
 
bigAddr
;

491 
	`memıy
(
bigKey
,
sm®Ër
->
keys
[sm®Ër->
keyNum
-1],8);

492 
bigAddr
 = 
sm®Ër
->
chd»n
[sm®Ër->
keyNum
];

493 
Addr
 
a0
 = 
sm®Ër
->
chd»n
[0];

494 
	`š£¹NÚL—fAtPos
(
™em
,
tmpNode
,
pos
+1);

495 
sm®Ër
->
chd»n
[0]=
a0
;

498 
num
 = (
sm®Ër
->
keyNum
+1)/2;

499 
mËn
 = 
sm®Ër
->
keyNum
-
num
-1;

500 
	`nÚËafıy
(
bigg”
,
sm®Ër
,0,
num
+1,
mËn
);

501 
sm®Ër
->
keyNum
ğ
num
;

502 
bigg”
->
keyNum
=
num
-1;

503 
	`memıy
(
bigg”
->
keys
[bigg”->
keyNum
-1],
bigKey
,8);

504 
bigg”
->
chd»n
[bigg”->
keyNum
]=
bigAddr
;

505 
IndexI‹m
* 
ÃwI‹m
 = 
this
->
	`budI‹m
();

506 
	`memıy
(
ÃwI‹m
->
key
,
sm®Ër
->
keys
[
num
],8);

507 
ÃwI‹m
->
addr
=
	`PAGE_ADDR
(
bigg”
->
·geNo
);

508 
bigg”
->
·»ÁAddr
 =
sm®Ër
->parentAddr;

509 
	`æushNode
(
sm®Ër
);

510 
	`æushNode
(
bigg”
);

511 
	`´štf
("aá” s¶™ %d\n",
¥l™Time
++);

514 if(
sm®Ër
->
·»ÁAddr
!=0)

516 
d–‘e
 
bigg”
;

517 
	`š£¹NodeRecursiv–y
(
sm®Ër
->
·»ÁAddr
,
ÃwI‹m
);

522 
BPTNode
* 
Şd¹
 = 
roÙ
;

523 
BPTNode
* 
¹
 = 
Ãw
 
	`BPTNode
();

524 
this
->
	`g‘NewBPTNode
(
¹
,
BPTNodeTy³
::
isRoÙ
);

525 
sm®Ër
->
·»ÁAddr
=
	`PAGE_ADDR
(
¹
->
·geNo
);

526 
bigg”
->
·»ÁAddr
=
sm®Ër
->parentAddr;

527 
sm®Ër
->
nodeTy³
=0;

528 
	`æushNode
(
sm®Ër
);

529 
	`æushNode
(
bigg”
);

530 
¹
->
keyNum
=1;

531 
	`memıy
(
¹
->
keys
[0],
sm®Ër
->keys[
num
-1],8);

532 
¹
->
chd»n
[0]=
	`PAGE_ADDR
(
sm®Ër
->
·geNo
);

533 
¹
->
chd»n
[1]=
	`PAGE_ADDR
(
bigg”
->
·geNo
);

535 
	`æushNode
(
¹
);

536 
	`chªgeRoÙ
(
¹
);

540 
d–‘e
 
Şd¹
;

541 
d–‘e
 
bigg”
;

544 
d–‘e
 
node
;

546 
	}
}

547 
	gBPT»e
::
	$´štNode
(
BPTNode
* 
node
)

549 
i
=0;i<50;i++)

551 
	`´štf
("_");

553 
	`´štf
("\n");

554 
	`´štf
("%Îx‚odšfo:‚odeTy³:%x…¬’ˆ%Îx…»viou %Îx‚exˆ%Îx keyNum %d\n",
	`PAGE_ADDR
(
node
->
·geNo
),node->
nodeTy³
,node->
·»ÁAddr
,node->
´evious
,node->
Ãxt
,node->
keyNum
);

555 
i
=0;i<50;i++)

557 
	`´štf
("_");

559 
chr
[255];

560 
	`´štf
("\n");

561 
	`´štf
("[%Îx] ",
node
->
chd»n
[0]);

562 
i
=0;i<
node
->
keyNum
;i++)

564 
D©aUt
::
	`toSŒšg
(
chr
,
node
->
keys
[
i
],
this
->
d©aTy³
);

565 
	`´štf
("(%sè",
chr
);

566 
	`´štf
("[%Îx] ",
node
->
chd»n
[
i
+1]);

567 if((
i
+1)%20==0)
	`´štf
("\n");

569 
	`´štf
("\n\n\n");

570 
	}
}

571 
	gBPT»e
::
	$´štT»eBFS
()

573 
¡d
::
queue
<
Addr
> 
que
;

574 
Addr
 
tmp
=
	`PAGE_ADDR
(
roÙ
->
·geNo
);

576 
que
.
	`push
(
tmp
);

577 
	`´štf
("š queu%Îx…ageNØ%Îx\n",
tmp
,
roÙ
->
·geNo
);

578 
BPTNode
* 
node
 = 
Ãw
 
	`BPTNode
();

580 !
que
.
	`em±y
())

582 
tmp
 = 
que
.
	`äÚt
();

583 
	`´štf
("ouˆqueu%Îx\n",
tmp
);

585 
	`g‘BPTNode
(
node
,
tmp
);

586 
que
.
	`pİ
();

587 if((
node
->
nodeTy³
&
BPTNodeTy³
::
hasD©a
)==0)

589 
i
=0;i<
node
->
keyNum
+1;i++)

591 
que
.
	`push
(
node
->
chd»n
[
i
]);

592 
	`´štf
("š queu%Îx…¬’ˆ%Îx\n",
node
->
chd»n
[
i
],
tmp
);

597 #ifdeà
DEBUG_INDEX


598 
	`´štf
("nod%Îx ha d©a\n",
	`PAGE_ADDR
(
node
->
·geNo
));

601 
	`´štNode
(
node
);

603 
d–‘e
 
node
;

604 
	}
}

605 
	gBPT»e
::
	$chªgeRoÙ
(
BPTNode
* 
node
)

607 
this
->
roÙ
 = 
node
;

608 
this
->
šdexRoÙAddr
=
	`PAGE_ADDR
(
node
->
·geNo
);

609 
this
->
™em
->
šdexAddr
ñhis->
šdexRoÙAddr
;

610 #ifdeà
DEBUG_INDEX


611 
	`´štf
("®loÿ‹‚ew„oÙ‡dd¸%Îx\n",
	`PAGE_ADDR
(
node
->
·geNo
));

613 
	}
}

614 
Addr
 
	gBPT»e
::
	$š£¹EËm
(
IndexI‹m
* 
™em
,
boŞ
 
check
){

615 if(
check
)

619 if((
roÙ
->
nodeTy³
&
BPTNodeTy³
::
hasD©a
)!=0)

621 if(
roÙ
->
keyNum
<
MAX_KEY_SIZE
)

624 
By‹
 
bkey
[8];

625 
	`memıy
(
bkey
,
™em
->
key
,8);

626 
pos
 = 
	`fšdUpBound
(
bkey
,
roÙ
);

627 #ifdeà
DEBUG_INDEX


632 
	`š£¹EËmAtPos
(
™em
,
roÙ
,
pos
+1);

637 
BPTNode
* 
sm®Ër
 = 
roÙ
;

638 
BPTNode
* 
bigg”
 = 
Ãw
 
	`BPTNode
();

639 
this
->
	`g‘NewBPTNode
(
bigg”
,
BPTNodeTy³
::
hasD©a
);

640 
BPTNode
* 
¹
 = 
Ãw
 
	`BPTNode
();

641 
this
->
	`g‘NewBPTNode
(
¹
,
BPTNodeTy³
::
isRoÙ
);

642 
mid
 = 
sm®Ër
->
keyNum
/2;

643 
cmpk
 = 
D©aUt
::
	`cmpD©a
(
sm®Ër
->
keys
[
mid
],
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
),
this
->
d©aTy³
,this->
šdexL’
);

644 if(
cmpk
>0)

647 
mËn
 = 
sm®Ër
->
keyNum
-
mid
;

648 
	`Ëafıy
(
bigg”
,
sm®Ër
,0,
mid
,
mËn
);

649 
sm®Ër
->
keyNum
 = 
mid
;

650 
bigg”
->
keyNum
=
mËn
;

651 
pos
 = 
	`fšdUpBound
(
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
),
sm®Ër
);

652 
	`š£¹EËmAtPos
(
™em
,
sm®Ër
,
pos
+1);

656 
mËn
 = 
sm®Ër
->
keyNum
-
mid
-1;

657 
	`Ëafıy
(
bigg”
,
sm®Ër
,0,
mid
+1,
mËn
);

658 
sm®Ër
->
keyNum
=
mid
+1;

659 
bigg”
->
keyNum
=
mËn
;

660 
pos
 = 
	`fšdUpBound
(
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
),
bigg”
);

661 
	`š£¹EËmAtPos
(
™em
,
bigg”
,
pos
+1);

663 
¹
->
keyNum
=1;

664 #ifdeà
DEBUG_INDEX


665 
chr
[255];

666 
D©aUt
::
	`toSŒšg
(
chr
,
bigg”
->
keys
[0],
this
->
d©aTy³
);

669 
	`memıy
(
¹
->
keys
[0],
bigg”
->keys[0],8);

670 
¹
->
chd»n
[0]=
	`PAGE_ADDR
(
sm®Ër
->
·geNo
);

671 
¹
->
chd»n
[1]=
	`PAGE_ADDR
(
bigg”
->
·geNo
);

672 
sm®Ër
->
Ãxt
 = 
	`PAGE_ADDR
(
bigg”
->
·geNo
);

673 
bigg”
->
´evious
ğ
	`PAGE_ADDR
(
sm®Ër
->
·geNo
);

674 
sm®Ër
->
·»ÁAddr
 = 
	`PAGE_ADDR
(
¹
->
·geNo
);

675 
bigg”
->
·»ÁAddr
 =
	`PAGE_ADDR
(
¹
->
·geNo
);

676 
sm®Ër
->
nodeTy³
=
BPTNodeTy³
::
hasD©a
;

677 
	`chªgeRoÙ
(
¹
);

678 
	`æushNode
(
sm®Ër
);

679 
	`æushNode
(
bigg”
);

680 
	`æushNode
(
roÙ
);

681 
d–‘e
 
sm®Ër
;

682 #ifdeà
DEBUG_INDEX


683 
	`´štf
("\nbigg” %Îx\n\n",
bigg”
);

686 
d–‘e
 
bigg”
;

687 #ifdeà
DEBUG_INDEX


688 
	`´štf
("\nbigg”2 %Îx\n\n",
bigg”
);

695 
BPTNode
* 
node
 = 
Ãw
 
	`BPTNode
();

696 
	`£¬chBPTNode
(
node
,
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
));

697 if(
node
->
keyNum
<
MAX_KEY_SIZE
)

699 
pos
 = 
	`fšdUpBound
(
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
),
node
);

700 
	`š£¹EËmAtPos
(
™em
,
node
,
pos
+1);

701 
	`æushNode
(
node
);

705 
	`š£¹NodeRecursiv–y
(
	`PAGE_ADDR
(
node
->
·geNo
),
™em
);

709 
d–‘e
 
node
;

711 
	}
}

713 
	gBPT»e
::
	$fšdLowBound
(
By‹
* 
d©a
,
BPTNode
* 
node
)

723 
Ëá
 = 0;

724 
right
 = 
node
->
keyNum
-1;

725 if(
right
<0) 0;

726 
jd
 = 
D©aUt
::
	`cmpD©a
(
node
->
keys
[
Ëá
],
d©a
,
this
->
d©aTy³
,this->
šdexL’
);

728 if(
jd
>=0) 
Ëá
;

729 
jd
 = 
D©aUt
::
	`cmpD©a
(
node
->
keys
[
right
],
d©a
,
this
->
d©aTy³
,this->
šdexL’
);

731 if(
jd
<0) 
right
+1;

732 
Ëá
<=
right
)

734 
mid
 = (
Ëá
+
right
)/2;

735 
k
 = 
D©aUt
::
	`cmpD©a
(
node
->
keys
[
mid
],
d©a
,
this
->
d©aTy³
,this->
šdexL’
);

737 if(
k
<0)

739 
Ëá
 = 
mid
 +1;

743 
right
 = 
mid
-1;

748 
Ëá
>0)

750 
k
 = 
D©aUt
::
	`cmpD©a
(
node
->
keys
[
Ëá
-1],
d©a
,
this
->
d©aTy³
,this->
šdexL’
);

751 if(
k
<0) 
Ëá
;

752 
Ëá
--;

754  
Ëá
;

756 
	}
}

758 
	gBPT»e
::
	$fšdUpBound
(
By‹
* 
d©a
,
BPTNode
* 
node
)

768 
Ëá
 = 0;

769 
right
 = 
node
->
keyNum
-1;

770 if(
right
<0)„ight;

771 
jd
 = 
D©aUt
::
	`cmpD©a
(
node
->
keys
[
Ëá
],
d©a
,
this
->
d©aTy³
,this->
šdexL’
);

773 if(
jd
>0) -1;

774 
jd
 = 
D©aUt
::
	`cmpD©a
(
node
->
keys
[
right
],
d©a
,
this
->
d©aTy³
,this->
šdexL’
);

776 if(
jd
<=0) 
right
;

777 
Ëá
<=
right
)

779 
mid
 = (
Ëá
+
right
)/2;

780 
k
 = 
D©aUt
::
	`cmpD©a
(
node
->
keys
[
mid
],
d©a
,
this
->
d©aTy³
,this->
šdexL’
);

782 if(
k
<=0)

784 
Ëá
 = 
mid
 +1;

788 
right
 = 
mid
-1;

792 
right
<
node
->
keyNum
-1)

794 
k
 = 
D©aUt
::
	`cmpD©a
(
node
->
keys
[
right
+1],
d©a
,
this
->
d©aTy³
,this->
šdexL’
);

795 if(
k
>0) 
right
;

796 
right
++;

798  
right
;

800 
	}
}

801 
	gBPT»e
::
	$ed™I‹m
(
Addr
 
addr
,
IndexI‹m
* 
™em
,IndexI‹m* 
™em2
)

803 
BPTNode
* 
node
 = 
Ãw
 
	`BPTNode
();

804 
	`g‘BPTNode
(
node
,
addr
);

805 
i
=0;i<
node
->
keyNum
;i++)

807 if(
node
->
chd»n
[
i
]==
™em
->
addr
)

809 if(
™em2
!=0)
	`memıy
(™em2->
key
,
node
->
keys
[
i
],
this
->
šdexL’
);

810 
	`memıy
(
node
->
keys
[
i
],
™em
->
key
,
this
->
šdexL’
);

813 
	`æushNode
(
node
);

814 
d–‘e
 
node
;node = 0;

815 
	}
}

817 
	gBPT»e
::
	$d–‘eEËm’tFromNode
(
Addr
 
addr
,
IndexI‹m
* 
™em
)

819 
BPTNode
* 
node
 = 
Ãw
 
	`BPTNode
();

820 
	`g‘BPTNode
(
node
,
addr
);

821 
pos
 = 
	`£¬chBPTNode
(
node
,
»š‹½»t_ÿ¡
<
By‹
*>(
™em
->
key
));

822 
D©aUt
::
	`cmpD©a
(
node
->
keys
[
pos
],
»š‹½»t_ÿ¡
<
By‹
*>Òode,
™em
->
key
),
this
->
d©aTy³
,this->
šdexL’
)==0)

824 if(
node
->
chd»n
[
pos
]==
™em
->
addr
);

825 
pos
--;

826 if(
pos
<0);

828 if(
node
->
chd»n
[
pos
]==
™em
->
addr
)

830 
i
 = 
pos
;i<
node
->
keyNum
;i++)

832 
	`memıy
(
node
->
keys
[
i
],node->keys[i+1],
this
->
šdexL’
);

833 
node
->
chd»n
[
i
]=node->children[i+1];

835 
node
->
keyNum
--;

839 if(
node
->
keyNum
<(
MAX_KEY_SIZE
+1)/2)

841 
Addr
 
ËáAddr
 = 
node
->
´evious
;

842 
Addr
 
rightAddr
 = 
node
->
Ãxt
;

843 
BPTNode
* 
nod•»
 = 
Ãw
 
	`BPTNode
();

844 
boŞ
 
ËáAvaabË
 = 
çl£
;

845 
boŞ
 
rightAvaabË
 = 
çl£
;

846 if(
ËáAddr
!=0){

847 
	`g‘BPTNode
(
nod•»
,
node
->
´evious
);

848 if(
nod•»
->
·»ÁAddr
==
node
->·»ÁAddr)
ËáAvaabË
ğ
Œue
;

850 if(
ËáAvaabË
&&
nod•»
->
keyNum
>(
MAX_KEY_SIZE
+1)/2)

852 
i
 = 
node
->
keyNum
;i>0;i--)

854 
	`memıy
(
node
->
keys
[
i
],node->keys[i-1],
this
->
šdexL’
);

855 
node
->
chd»n
[
i
]=node->children[i-1];

857 
	`memıy
(
node
->
keys
[0],
nod•»
->keys[nod•»->
keyNum
-1],
this
->
šdexL’
);

858 
node
->
chd»n
[0]=
nod•»
->chd»n[nod•»->
keyNum
-1];

859 
node
->
keyNum
++;

860 
nod•»
->
keyNum
--;

861 
	`æushNode
(
node
);

862 
	`æushNode
(
nod•»
);

864 
IndexI‹m
* 
ed™I‹m
 = 
this
->
	`budI‹m
();

865 
IndexI‹m
* 
k™em
 = 
this
->
	`budI‹m
();

866 
	`memıy
(
ed™I‹m
->
key
,
node
->
keys
[0],
this
->
šdexL’
);

867 
ed™I‹m
->
addr
 = 
	`PAGE_ADDR
(
nod•»
->
·geNo
);

868 
this
->
	`ed™I‹m
(
node
->
·»ÁAddr
,
ed™I‹m
,0);

869 
this
->
	`»Ëa£IndexI‹m
(
ed™I‹m
);

870 
this
->
	`»Ëa£IndexI‹m
(
k™em
);

873 
BPTNode
* 
nod’ext
 = 
nod•»
;

874 if(
rightAddr
!=0){

875 
	`g‘BPTNode
(
nod’ext
,
node
->
Ãxt
);

876 if(
nod’ext
->
·»ÁAddr
==
node
->·»ÁAddr)
rightAvaabË
 = 
Œue
;

878 if(
rightAvaabË
&&
nod’ext
->
keyNum
>(
MAX_KEY_SIZE
+1)/2)

880 
	`memıy
(
node
->
keys
[node->
keyNum
],
nod’ext
->keys[0],
this
->
šdexL’
);

881 
node
->
chd»n
[node->
keyNum
] = 
nod’ext
->children[0];

882 
node
->
keyNum
++;

883 
i
 = 0;i<
node
->
keyNum
-1;i++)

885 
	`memıy
(
nod’ext
->
keys
[
i
],nod’ext->keys[i+1],
this
->
šdexL’
);

886 
nod’ext
->
chd»n
[
i
]=nodenext->children[i+1];

888 
nod’ext
->
keyNum
--;

889 
	`æushNode
(
node
);

890 
	`æushNode
(
nod’ext
);

892 
IndexI‹m
* 
ed™I‹m
 = 
this
->
	`budI‹m
();

893 
	`memıy
(
ed™I‹m
->
key
,
nod’ext
->
keys
[0],
this
->
šdexL’
);

894 
ed™I‹m
->
addr
 = 
	`PAGE_ADDR
(
node
->
·geNo
);

895 
this
->
	`ed™I‹m
(
node
->
·»ÁAddr
,
ed™I‹m
,0);

896 
this
->
	`»Ëa£IndexI‹m
(
ed™I‹m
);

899 if(
ËáAvaabË
)

901 
	`m”geTwo
(
node
->
´evious
,
	`PAGE_ADDR
Òode->
·geNo
));

903 if(
rightAvaabË
)

905 
	`m”geTwo
(
	`PAGE_ADDR
(
node
->
·geNo
),node->
Ãxt
);

913 
d–‘e
 
nod•»
;nodepre=0;

916 
	`æushNode
(
node
);

919 
d–‘e
 
node
;node = 0;

920 
	}
}

921 
	gBPT»e
::
	$ä“Node
(
Addr
 
·geAddr
)

923 
BufãrF¿me
* 
äame
 = 
Ãw
 
	`BufãrF¿me
();

924 
äame
->
·geNo
 = 
	`PAGE_ID
(
·geAddr
);

925 
this
->
drs
->
	`upd©eS·ûM¬k
(
äame
,
Segm’tTy³
::
Em±ySeg
,
PageStus
::
Em±yPage
);

926 
d–‘e
 
äame
;

927 
	}
}

928 
	gBPT»e
::
	$fšdAdd»ssPos™iÚ
(
BPTNode
* 
node
,
Addr
 
addr
)

930 
pos
 = 
node
->
keyNum
;

931 ;
pos
>=0;pos--)

933 if(
node
->
chd»n
[
pos
]==
addr
)

938  
pos
;

939 
	}
}

952 
	gBPT»e
::
	$g‘SiblšgAdd»ss
(
BPTNode
* 
node
,
Addr
& 
ËáAddr
,Addr& 
rightAddr
)

954 
BPTNode
* 
·»Á
 = 
Ãw
 
	`BPTNode
();

955 
	`g‘BPTNode
(
·»Á
,
node
->
·»ÁAddr
);

956 
pos
 = 
	`fšdAdd»ssPos™iÚ
(
·»Á
,
	`PAGE_ADDR
(
node
->
·geNo
));

957 if(
pos
<0||pos>
·»Á
->
keyNum
)

959 #ifdeà
DEBUG_INDEX


960 
	`´štf
("we cannot gethe‡ddr in current‚ode,sibling‡ddr\n");

963 if(
pos
>0)
ËáAddr
 = 
·»Á
->
chd»n
[pos-1];

964 if(
pos
<
·»Á
->
keyNum
)
rightAddr
õ¬’t->
chd»n
[pos+1];

965 
d–‘e
 
·»Á
;

966 
	}
}

970 
	gBPT»e
::
	$d–‘eEËm’tFromNÚL—fNodeByAdd»ss
(
Addr
 
addr
,
IndexI‹m
* 
™ems
)

972 
BPTNode
 *
node
=
Ãw
 
	`BPTNode
();

973 
	`g‘BPTNode
(
node
,
addr
);

974 
pos
 = 
	`fšdAdd»ssPos™iÚ
(
node
,
™ems
->
addr
);

975 if(
pos
<=0)

977 #ifdeà
DEBUG_INDEX


978 
	`´štf
("warning: deletehe†eftestƒlement.\n");

982 
	`memıy
(
™ems
->
key
,
node
->
keys
[
pos
-1],
this
->
šdexL’
);

983 
	`ä“Node
(
™ems
->
addr
);

984 
i
 = 
pos
-1;i<
node
->
keyNum
-1;i++)

986 
	`memıy
(
node
->
keys
[
i
],node->keys[i+1],
this
->
šdexL’
);

987 
node
->
chd»n
[
i
+1]=node->children[i+2];

989 
node
->
keyNum
--;

990 if(
node
->
keyNum
<(
MAX_KEY_SIZE
-1)/2)

992 if((
node
->
nodeTy³
&
BPTNodeTy³
::
isRoÙ
)!=0)

994 if(
node
->
keyNum
==0)

996 
BPTNode
* 
ÃwNode
 = 
node
;

997 
node
 = 
roÙ
;

998 
	`g‘BPTNode
(
ÃwNode
,
roÙ
->
chd»n
[0]);

999 
ÃwNode
->
nodeTy³
|=
BPTNodeTy³
::
isRoÙ
;

1000 
	`chªgeRoÙ
(
ÃwNode
);

1001 
	`æushNode
(
ÃwNode
);

1002 
roÙ
 = 
ÃwNode
;

1003 
	`ä“Node
(
	`PAGE_ADDR
(
node
->
·geNo
));

1007 
Addr
 
ËáAddr
 = 0, 
rightAddr
 = 0;

1008 
	`g‘SiblšgAdd»ss
(
node
,
ËáAddr
,
rightAddr
);

1009 
BPTNode
* 
nod•»
 = 
Ãw
 
	`BPTNode
();

1010 
boŞ
 
ËáAvaabË
 = 
çl£
;

1011 
boŞ
 
rightAvaabË
 = 
çl£
;

1012 if(
ËáAddr
>0){

1013 
	`g‘BPTNode
(
nod•»
,
ËáAddr
);

1014 
ËáAvaabË
ğ
Œue
;

1015 
nod•»
->
·»ÁAddr
 = 
node
->parentAddr;

1017 if(
ËáAvaabË
&&
nod•»
->
keyNum
>(
MAX_KEY_SIZE
-1)/2)

1019 
node
->
chd»n
[node->
keyNum
+1]=node->children[node->keyNum];

1020 
i
 = 
node
->
keyNum
;i>0;i--)

1022 
	`memıy
(
node
->
keys
[
i
],node->keys[i-1],
this
->
šdexL’
);

1023 
node
->
chd»n
[
i
]=node->children[i-1];

1025 
	`memıy
(
node
->
keys
[0],
nod•»
->keys[nod•»->
keyNum
-1],
this
->
šdexL’
);

1026 
node
->
chd»n
[0]=
nod•»
->chd»n[nod•»->
keyNum
-1];

1027 
node
->
keyNum
++;

1028 
nod•»
->
keyNum
--;

1030 
IndexI‹m
* 
ed™I‹m
 = 
this
->
	`budI‹m
();

1031 
IndexI‹m
* 
k™em
 = 
this
->
	`budI‹m
();

1032 
	`memıy
(
ed™I‹m
->
key
,
node
->
keys
[0],
this
->
šdexL’
);

1033 
ed™I‹m
->
addr
 = 
	`PAGE_ADDR
(
nod•»
->
·geNo
);

1034 
this
->
	`ed™I‹m
(
node
->
·»ÁAddr
,
ed™I‹m
,
k™em
);

1035 
	`memıy
(
node
->
keys
[0],
k™em
->
key
,
this
->
šdexL’
);

1036 
	`æushNode
(
node
);

1037 
	`æushNode
(
nod•»
);

1038 
this
->
	`»Ëa£IndexI‹m
(
ed™I‹m
);

1039 
this
->
	`»Ëa£IndexI‹m
(
k™em
);

1042 
BPTNode
* 
nod’ext
 = 
nod•»
;

1043 if(
rightAddr
>0){

1044 
	`g‘BPTNode
(
nod’ext
,
rightAddr
);

1045 
rightAvaabË
 = 
Œue
;

1047 
nod’ext
->
·»ÁAddr
 = 
node
->parentAddr;

1049 if(
rightAvaabË
&&
nod’ext
->
keyNum
>(
MAX_KEY_SIZE
-1)/2)

1051 
	`memıy
(
node
->
keys
[node->
keyNum
],
nod’ext
->keys[0],
this
->
šdexL’
);

1052 
node
->
chd»n
[node->
keyNum
+1] = 
nod’ext
->children[0];

1053 
node
->
keyNum
++;

1054 
i
 = 0;i<
node
->
keyNum
-1;i++)

1056 
	`memıy
(
nod’ext
->
keys
[
i
],nod’ext->keys[i+1],
this
->
šdexL’
);

1057 
nod’ext
->
chd»n
[
i
]=nodenext->children[i+1];

1059 
nod’ext
->
chd»n
[
node
->
keyNum
-1]=nodenext->children[node->keyNum];

1060 
nod’ext
->
keyNum
--;

1062 
IndexI‹m
* 
ed™I‹m
 = 
this
->
	`budI‹m
();

1063 
	`memıy
(
ed™I‹m
->
key
,
nod’ext
->
keys
[0],
this
->
šdexL’
);

1064 
IndexI‹m
* 
k™em
 = 
this
->
	`budI‹m
();

1065 
ed™I‹m
->
addr
 = 
	`PAGE_ADDR
(
node
->
·geNo
);

1066 
this
->
	`ed™I‹m
(
node
->
·»ÁAddr
,
ed™I‹m
,
k™em
);

1067 
	`memıy
(
node
->
keys
[node->
keyNum
-1],
k™em
->
key
,
this
->
šdexL’
);

1068 
	`æushNode
(
node
);

1069 
	`æushNode
(
nod’ext
);

1070 
this
->
	`»Ëa£IndexI‹m
(
ed™I‹m
);

1071 
this
->
	`»Ëa£IndexI‹m
(
k™em
);

1074 if(
ËáAvaabË
)

1076 
	`m”geTwo
(
ËáAddr
,
	`PAGE_ADDR
(
node
->
·geNo
));

1078 if(
rightAvaabË
)

1080 
	`m”geTwo
(
	`PAGE_ADDR
(
node
->
·geNo
),
rightAddr
);

1088 
d–‘e
 
nod•»
;nodepre=0;

1093 
	`æushNode
(
node
);

1097 
d–‘e
 
node
;node = 0;

1099 
	}
}

1105 
	gBPT»e
::
	$m”geTwo
(
Addr
 
ËáAddr
,Add¸
rightAddr
)

1107 
BPTNode
* 
Êode
 = 
Ãw
 
	`BPTNode
();

1108 
BPTNode
* 
ºode
 = 
Ãw
 
	`BPTNode
();

1109 
this
->
	`g‘BPTNode
(
Êode
,
ËáAddr
);

1110 
this
->
	`g‘BPTNode
(
ºode
,
rightAddr
);

1111 
boŞ
 
isL—f
 = ((
Êode
->
nodeTy³
&
BPTNodeTy³
::
hasD©a
)!=0);

1112 
boŞ
 
ÿnM”ge
 = 
Œue
;

1113 if(
Êode
->
·»ÁAddr
!=
ºode
->parentAddr)

1115 
ÿnM”ge
 = 
çl£
;

1116 #ifdeà
DEBUG_INDEX


1117 
	`´štf
("error:wo‚ode has different…arent‡ddr!\n");

1120 if(
isL—f
&&
Êode
->
Ãxt
!=
	`PAGE_ADDR
(
ºode
->
·geNo
))

1122 
ÿnM”ge
 = 
çl£
;

1123 #ifdeà
DEBUG_INDEX


1124 
	`´štf
("error:wo‚odes‡re‚ot siblings!\n");

1127 if(
ÿnM”ge
)

1129 
keyOff£t
 = 0;

1130 if(!
isL—f
)
keyOff£t
 = 1;

1131 
i
=0;i<
ºode
->
keyNum
;i++)

1133 
	`memıy
(
Êode
->
keys
[Êode->
keyNum
+
i
+
keyOff£t
],
ºode
->keys[i],
this
->
šdexL’
);

1134 
Êode
->
chd»n
[Êode->
keyNum
+
i
]=
ºode
->children[i];

1137 
IndexI‹m
* 
™ems
 = 
this
->
	`budI‹m
();

1139 
™ems
->
addr
 = 
	`PAGE_ADDR
(
ºode
->
·geNo
);

1140 
this
->
	`d–‘eEËm’tFromNÚL—fNodeByAdd»ss
(
Êode
->
·»ÁAddr
,
™ems
);

1141 if(!
isL—f
)

1143 
	`memıy
(
Êode
->
keys
[Êode->
keyNum
],
™ems
->
key
,
this
->
šdexL’
);

1145 
this
->
	`»Ëa£IndexI‹m
(
™ems
);

1146 if(!
isL—f
)

1148 
Êode
->
chd»n
[Êode->
keyNum
+
ºode
->keyNum]=rnode->children[rnode->keyNum];

1150 
Êode
->
keyNum
+=
ºode
->keyNum;

1151 
	`æushNode
(
Êode
);

1153 
d–‘e
 
Êode
;

1154 
d–‘e
 
ºode
;

1155 
	}
}

1156 
Addr
 
	gBPT»e
::
	$d–‘eEËm
(
IndexI‹m
* 
™em
){

1157 
IndexI‹m
 *
™
 = 
this
->
	`budI‹m
();

1158 
BPTI‹¿tÜ
 *
™”©Ü
 = 0;

1159 
Addr
 
cu¼’Šod—ddr
 = 0;

1160 
BPTNode
* 
úode
 = 
Ãw
 
	`BPTNode
();

1161 
™”©Ü
=
dyÇmic_ÿ¡
<
BPTI‹¿tÜ
*>(
	`fšdByKey
(
™em
->
key
));

1162 
Addr
 
Şd
 = 0;

1163 
™”©Ü
->
	`fšdFœ¡
(
™
);
Œue
;™”©Ü->
	`fšdNext
(it))

1165 if(
Şd
==
™
->
addr
);

1166 
Şd
 = 
™
->
addr
;

1167 if(
™
->
addr
==
™em
->addr)

1169 
cu¼’Šod—ddr
=
	`PAGE_ADDR
(
™”©Ü
->
cu¼’tNode
->
·geNo
);

1170 
	`g‘BPTNode
(
úode
,
cu¼’Šod—ddr
);

1174 
this
->
	`de¡ÜyI‹¿tÜ
(
™”©Ü
);

1175 
d–‘e
 
úode
;cnode = 0;

1176 if(
cu¼’Šod—ddr
!=0)

1178 
	`d–‘eEËm’tFromNode
(
cu¼’Šod—ddr
,
™em
);

1184 
	}
}

1185 
IndexI‹m
* 
	gBPT»e
::
	$budI‹m
(){

1186 
IndexI‹m
* 
™em
 = 
Ãw
 
	`IndexI‹m
();

1187 
™em
->
key
=
Ãw
 
By‹
[8];

1188  
™em
;

1189 
	}
}

1190 
	gBPT»e
::
	$»Ëa£IndexI‹m
(
IndexI‹m
* 
™em
){

1191 if(
™em
!=0)

1193 
d–‘e
[] 
™em
->
key
;

1194 
™em
->
key
=0;

1196 
d–‘e
 
™em
;

1197 
	}
}

1198 
	gBPT»e
::
	$»Ëa£AÎ
(){

1199 
	`æushNode
(
roÙ
);

1200 
	}
}

1201 
	gBPT»e
::~
	$BPT»e
(){

1202 if(
roÙ
!=0)

1204 
	`æushNode
(
roÙ
);

1205 
d–‘e
 
roÙ
;

1206 
roÙ
 = 0;

1208 
	}
}

1210 
	gBPT»e
::
	$ŒªsNodeToF¿me
(
BPTNode
* 
node
,
BufãrF¿me
* 
äame
)

1212 
Page
* 
·ge
 = 
äame
->page;

1213 
By‹
* 
d©a
 = 
·ge
->data;

1214 
·ge
->
u£dBy‹
 = 
PAGE_BODY_LEN
;

1215 
·ge
->
u£dL’
=0;

1216 
·ge
->
u£dBy‹Li¡
[0].
addr
=0;

1217 
·ge
->
u£dBy‹Li¡
[0].
Ën
=0;

1218 
ushÜt
 
æag
 = 
·ge
->flag;

1219 
æag
 = fÏg&(~
Segm’tTy³
::
mask
)|Segm’tTy³::
IndexSeg
&(~
PageStus
::mask)|PageStus::
FuÎPage
;

1220 
·ge
->
æag
 = flag;

1221 
d©a
+=
PAGE_HEAD_LEN
;

1222 
d©a
+=
PAGE_ALIGN
;

1223 
By‹
* 
Şd
 = 
d©a
;

1224 
pos
 = 0;

1225 
d©a
[
pos
++]=
BPTNODE_MAGIC
;

1226 
d©a
[
pos
++]=
node
->
fid
;

1227 
d©a
[
pos
++]=
node
->
nodeTy³
;

1228 
d©a
[
pos
++]=
BPTNODE_MAGIC
;

1229 
d©a
+=
pos
;

1230 
	`memıy
(
d©a
,&
node
->
keyNum
,());

1231 
d©a
+=();

1232 
	`memıy
(
d©a
,&
node
->
·»ÁAddr
,(
Addr
));

1233 
d©a
+=(
Addr
);

1234 
	`memıy
(
d©a
,&
node
->
´evious
,(
Addr
));

1235 
d©a
+=(
Addr
);

1236 
	`memıy
(
d©a
,&
node
->
Ãxt
,(
Addr
));

1237 
d©a
+=(
Addr
);

1239 
	`memıy
(
d©a
,&
node
->
chd»n
[0],(
Addr
));

1240 
d©a
+=(
Addr
);

1241 
i
=0;i<
node
->
keyNum
;i++)

1243 
	`memıy
(
d©a
,
node
->
keys
[
i
],8);

1244 
d©a
+=8;

1245 
	`memıy
(
d©a
,&
node
->
chd»n
[
i
+1],(
Addr
));

1246 
d©a
+=(
Addr
);

1248  
d©a
-
Şd
;

1249 
	}
}

1250 
	gBPT»e
::
	$ŒªsF¿meToNode
(
BufãrF¿me
* 
äame
,
BPTNode
* 
node
)

1252 
Page
* 
·ge
 = 
äame
->page;

1253 
ushÜt
 
æag
 = 
·ge
->æag&
Segm’tTy³
::
mask
;

1254 if(
æag
!=
Segm’tTy³
::
IndexSeg
)

1256 #ifdeà
DEBUG_INDEX


1257 
	`´štf
("w¬nšg:hi ·gi nÙ‡ index segm’ˆ·ge!…ageAdd¸%Îx\n",
äame
->
·geNo
);

1258 
	`´štf
("æag %d\n",
æag
);

1262 
By‹
* 
d©a
 = 
·ge
->data;

1264 
d©a
+=
PAGE_HEAD_LEN
;

1265 
d©a
+=
PAGE_ALIGN
;

1266 
By‹
* 
Şd
 = 
d©a
;

1267 
pos
 = 0;

1268 if(
d©a
[
pos
++]!=
BPTNODE_MAGIC
)

1270 #ifdeà
DEBUG_INDEX


1271 
	`´štf
("w¬nšg:hi pos™iÚ i nÙ‡ BPTNODE index! cÁ = %d\n",
út
);

1272 
i
=0;i<64;i++)

1274 
	`´štf
("%x ",
d©a
[
i
]);

1275 if((
i
+1)%16==0)
	`´štf
("\n");

1277 
	`ex™
(0);

1279  
d©a
-
Şd
;

1281 
node
->
fid
=
d©a
[
pos
++];

1282 
node
->
nodeTy³
=
d©a
[
pos
++];

1283 if(
d©a
[
pos
++]!=
BPTNODE_MAGIC
)

1285 #ifdeà
DEBUG_INDEX


1286 
	`´štf
("warning:his…osition is‚ot‡ BPTNODE index2!\n");

1288  
d©a
-
Şd
;

1291 
d©a
+=
pos
;

1292 
	`memıy
(&
node
->
keyNum
,
d©a
,());

1293 
d©a
+=();

1294 
	`memıy
(&
node
->
·»ÁAddr
,
d©a
,(
Addr
));

1295 
d©a
+=(
Addr
);

1296 
	`memıy
(&
node
->
´evious
,
d©a
,(
Addr
));

1297 
d©a
+=(
Addr
);

1298 
	`memıy
(&
node
->
Ãxt
,
d©a
,(
Addr
));

1299 
d©a
+=(
Addr
);

1300 
	`memıy
(&
node
->
chd»n
[0],
d©a
,(
Addr
));

1301 
d©a
+=(
Addr
);

1302 
i
=0;i<
node
->
keyNum
;i++)

1304 
	`memıy
(
node
->
keys
[
i
],
d©a
,8);

1305 
d©a
+=8;

1306 
	`memıy
(&
node
->
chd»n
[
i
+1],
d©a
,(
Addr
));

1307 
d©a
+=(
Addr
);

1309 
node
->
·geNo
 = 
äame
->pageNo;

1310  
d©a
-
Şd
;

1311 
	}
}

1313 
	gBPT»e
::
	$d–‘eäomnŞ—f
(
BPTNode
* 
node
)

1316 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/index/BPTree.h

1 #iâdeà
BPTREE_H_INCLUDED


2 
	#BPTREE_H_INCLUDED


	)

3 
	~<queue
>

4 
	~"../commÚ.h
"

5 
	~"Index.h
"

6 
	#MAX_KEY_SIZE
 451

7 
	#MAX_ADDR_SIZE
 452

8 
	#BPTNODE_MAGIC
 0x63

	)

9 
IndexM‘aI‹m
 
	tIndexM‘aI‹m
;

10 şas 
	cBPTNodeTy³


12 
	mpublic
:

13 cÚ¡ 
By‹
 
hasD©a
 = 0x01;

14 cÚ¡ 
By‹
 
	misRoÙ
 = 0x02;

20 
	sBPTNode


23 
By‹
 
	mfid
;

24 
By‹
 
	mnodeTy³
;

26 
	mkeyNum
;

28 
Addr
 
	m·»ÁAddr
;

29 
Addr
 
	m´evious
;

30 
Addr
 
	mÃxt
;

31 
By‹
 
	mkeys
[
MAX_KEY_SIZE
][8];

34 
Addr
 
	mchd»n
[
MAX_ADDR_SIZE
];

36 
BPTNode
* 
	m·»Á
;

37 
BPTNode
* 
	mchd
;

38 
Addr
 
	m·geNo
;

39 } 
	tBPTNode
;

41 şas 
	cBPT»e
:
public
 
Index


43 
public
:

44 
BPT»e
(
IndexSegm’t
* IndexSegm’t,
By‹
 
fid
,
Addr
 
addr
,
IndexM‘aI‹m
* 
™m
);

45 
ü—‹
();

46 
lßd
();

47 
de¡royMyS–f
();

48 
IndexI‹¿tÜ
* 
fšdByKey
(* 
key
);

49 
IndexI‹¿tÜ
* 
fšdByRªge
(* 
key1
,* 
key2
);

50 
de¡ÜyI‹¿tÜ
(
IndexI‹¿tÜ
* 
™”©Ü
);

51 
Addr
 
š£¹EËm
(
IndexI‹m
* 
™em
,
boŞ
 
check
 = 
Œue
);

52 
Addr
 
d–‘eEËm
(
IndexI‹m
* 
™em
);

53 
IndexI‹m
* 
budI‹m
();

54 
»Ëa£IndexI‹m
(
IndexI‹m
* 
™em
);

55 
»Ëa£AÎ
();

56 
d–‘eäomnŞ—f
(
BPTNode
* 
node
);

57 
´štNode
(
BPTNode
* 
node
);

58 
´štT»eBFS
();

59 
š£¹EËmAtPos
(
IndexI‹m
* 
™em
,
BPTNode
* 
node
,
pos
);

60 
š£¹NÚL—fAtPos
(
IndexI‹m
* 
™em
,
BPTNode
* 
node
,
pos
);

61 
Addr
 
£¬chBPTNode
(
BPTNode
* 
node
,
By‹
* 
d©a
);

62 
Addr
 
£¬chBPTNode2
(
BPTNode
* 
node
,
By‹
* 
d©a
);

63 
fšdLowBound
(
By‹
* 
d©a
,
BPTNode
* 
node
);

64 
fšdUpBound
(
By‹
* 
d©a
,
BPTNode
* 
node
);

65 ~
BPT»e
();

69 şas 
	cBPTI‹¿tÜ
:
public
 
IndexI‹¿tÜ


71 
public
:

72 
fšdFœ¡
(
IndexI‹m
* 
™em
);

73 
fšdNext
(
IndexI‹m
* 
™em
);

74 
boŞ
 
hasNext
();

75 
ä›nd
 
şass
 
	mBPT»e
;

76 
	m´iv©e
:

77 
BPTI‹¿tÜ
(
Addr
 
addr1
,
off£t1
,Add¸
addr2
,
off£t2
,
BPT»e
* 
b±»e
);

78 ~
BPTI‹¿tÜ
();

79 
Addr
 
	mbegš
;

80 
Addr
 
	m’d
;

81 
	mh—d
;

82 
	m
;

83 
BPTNode
* 
	mcu¼’tNode
;

84 
	mcursÜ
;

85 
BPT»e
* 
	mŒ“
;

86 
boŞ
 
	mknownEm±y
;

89 
	g´Ùeùed
:

90 
IndexM‘aI‹m
* 
™em
;

91 
BPTNode
* 
	groÙ
;

92 
By‹
 
	gd©aTy³
;

93 
	g´iv©e
:

94 
ŒªsNodeToF¿me
(
BPTNode
* 
node
,
BufãrF¿me
* 
äame
);

95 
ŒªsF¿meToNode
(
BufãrF¿me
* 
äame
,
BPTNode
* 
node
);

96 
ä“Node
(
Addr
 
·geAddr
);

97 
Addr
 
g‘NewBPTNode
(
BPTNode
* 
node
,
By‹
 
nodeTy³
);

98 
g‘BPTNode
(
BPTNode
* 
node
,
Addr
 
addr
);

99 
Ëafıy
(
BPTNode
* 
de¡
,BPTNode* 
¤c
,
de¡_off£t
,
¤c_off£t
,
Ën
);

100 
nÚËafıy
(
BPTNode
* 
de¡
,BPTNode* 
¤c
,
de¡_off£t
,
¤c_off£t
,
Ën
);

101 
š£¹NodeRecursiv–y
(
Addr
 
addr
,
IndexI‹m
* 
™em
);

102 
d–‘eEËm’tFromNode
(
Addr
 
addr
,
IndexI‹m
* 
™em
);

103 
d–‘eEËm’tFromNÚL—fNodeByAdd»ss
(
Addr
 
addr
,
IndexI‹m
* 
™em
);

104 
m”geTwo
(
Addr
 
ËáAddr
,Add¸
rightAddr
);

105 
ed™I‹m
(
Addr
 
addr
,
IndexI‹m
* 
™em
,IndexI‹m* 
™em2
);

106 
fšdAdd»ssPos™iÚ
(
BPTNode
* 
node
,
Addr
 
addr
);

107 
g‘SiblšgAdd»ss
(
BPTNode
* 
node
,
Addr
& 
ËáAddr
,Addr& 
rightAddr
);

109 
æushNode
(
BPTNode
* 
node
);

110 
chªgeRoÙ
(
BPTNode
* 
node
);

111 
boŞ
 
	gü—‹d
;

112 
boŞ
 
	glßded
;

113 
	gút
;

114 
Addr
 
	g¥l™Time
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/index/Index.cpp

1 
	~"Index.h
"

2 
	~"../£gm’t/IndexSegm’t.h
"

3 
	gIndex
::~
	$Index
()

6 
	}
}

7 
Index
::
	$Index
(
IndexSegm’t
* 
idx
,
By‹
 
fid
,
Addr
 
addr
)

9 
this
->
f›ldId
 = 
fid
;

10 
this
->
idxs
 = 
idx
;

11 
this
->
drs
 = 
idxs
->drs;

12 
this
->
dts
 = 
idxs
->dts;

13 
this
->
mts
 = 
idxs
->mts;

14 
this
->
mªag”
 =his->
idxs
->manager;

15 
this
->
šdexL’
 = 
mts
->
	`g‘M‘aD©a
()->
h—d
->
f›ldLi¡
[
fid
].
Ën
;

16 
this
->
šdexRoÙAddr
 = 
addr
;

17 
this
->
šdexTy³
 = 0;

18 
	}
}

20 
	gIndex
::
	$ü—‹
()

23 
	}
}

24 
Index
::
	$lßd
()

27 
	}
}

28 
Index
::
	$de¡royMyS–f
()

31 
	}
}

32 
IndexI‹¿tÜ
* 
Index
::
	$fšdByKey
(* 
key
)

35 
	}
}

36 
Index
::
	$de¡ÜyI‹¿tÜ
(
IndexI‹¿tÜ
* 
™”©Ü
)

39 
	}
}

40 
Addr
 
Index
::
	$š£¹EËm
(
IndexI‹m
* 
™em
)

43 
	}
}

44 
Addr
 
Index
::
	$d–‘eEËm
(
IndexI‹m
* 
™em
)

47 
	}
}

48 
IndexI‹m
* 
Index
::
	$budI‹m
()

51 
	}
}

52 
Index
::
	$»Ëa£IndexI‹m
(
IndexI‹m
* 
™em
)

55 
	}
}

56 
By‹
 
Index
::
	$g‘IndexTy³
()

58  
this
->
šdexTy³
;

59 
	}
}

60 
By‹
 
	gIndex
::
	$g‘IndexL’
()

62  
this
->
šdexL’
;

63 
	}
}

64 
By‹
 
	gIndex
::
	$g‘F›ldId
()

66  
this
->
f›ldId
;

67 
	}
}

68 
	gIndex
::
	$»Ëa£AÎ
()

71 
	}
}

72 
Addr
 
Index
::
	$g‘RoÙAddr
()

74  
this
->
šdexRoÙAddr
;

75 
	}
}

76 
IndexI‹¿tÜ
*
	gIndex
::
	$fšdByRªge
(*
v®ue1
,*
v®ue2
){
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/index/Index.h

1 #iâdeà
INDEX_H_INCLUDED


2 
	#INDEX_H_INCLUDED


	)

3 
	~"../commÚ.h
"

4 
	~"../bË/m‘a.h
"

5 
	~"../£gm’t/D©aSegm’t.h
"

6 
	~"../£gm’t/M‘aD©aSegm’t.h
"

7 
şass
 
	gIndexSegm’t
;

8 şas 
	cIndexTy³


10 
	mpublic
:

11 cÚ¡ 
By‹
 
•tidx
 = 0xff;

12 cÚ¡ 
By‹
 
	mb±idx
=0x01;

13 cÚ¡ 
By‹
 
	mhashidx
 = 0x02;

16 
	sIndexI‹m


18 * 
	mkey
;

19 
Addr
 
	maddr
;

20 } 
	tIndexI‹m
;

22 şas 
	cIndexI‹¿tÜ


24 
	mpublic
:

25 
vœtu®
 
fšdFœ¡
(
IndexI‹m
* 
™em
)=0;

26 
vœtu®
 
fšdNext
(
IndexI‹m
* 
™em
)=0;

27 
vœtu®
 
boŞ
 
hasNext
()=0;

30 şas 
	cIndex


32 
	mpublic
:

33 
Index
(
IndexSegm’t
* IndexSegm’t,
By‹
 
fid
,
Addr
 
addr
);

35 
vœtu®
 
ü—‹
();

36 
vœtu®
 
lßd
();

37 
vœtu®
 
de¡royMyS–f
();

38 
vœtu®
 
IndexI‹¿tÜ
* 
fšdByKey
(* 
key
);

39 
vœtu®
 
de¡ÜyI‹¿tÜ
(
IndexI‹¿tÜ
* 
™”©Ü
);

40 
vœtu®
 
Addr
 
š£¹EËm
(
IndexI‹m
* 
™em
);

41 
vœtu®
 
Addr
 
d–‘eEËm
(
IndexI‹m
* 
™em
);

42 
vœtu®
 
IndexI‹m
* 
budI‹m
();

43 
vœtu®
 
»Ëa£IndexI‹m
(
IndexI‹m
* 
™em
);

44 
vœtu®
 
By‹
 
g‘IndexTy³
();

45 
vœtu®
 
By‹
 
g‘IndexL’
();

46 
vœtu®
 
By‹
 
g‘F›ldId
();

47 
vœtu®
 
Addr
 
g‘RoÙAddr
();

48 
vœtu®
 
»Ëa£AÎ
();

49 
vœtu®
 
IndexI‹¿tÜ
*
fšdByRªge
(*
v®ue1
,*
v®ue2
);

50 ~
Index
();

51 
	m´Ùeùed
:

52 
DœeùÜySegm’t
* 
drs
;

53 
D©aSegm’t
* 
	mdts
;

54 
M‘aD©aSegm’t
* 
	mmts
;

55 
IndexSegm’t
* 
	midxs
;

56 
BufãrMªag”
* 
	mmªag”
;

57 
By‹
 
	mf›ldId
;

58 
Addr
 
	mšdexRoÙAddr
;

59 
By‹
 
	mšdexL’
;

60 
By‹
 
	mšdexTy³
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/index/PrimaryHashIndex.cpp

1 
	~"Prim¬yHashIndex.h
"

2 
	~"../£gm’t/IndexSegm’t.h
"

3 
	~<c¡dio
>

4 
	~<c¡dlib
>

5 
	~<cm©h
>

6 
	~<®gÜ™hm
>

8 
IndexI‹¿tÜ
*
	gPrim¬yHashIndex
::
	$fšdByRªge
(*
v®ue1
,*
v®ue2
){
	}
}

9 
	gPrim¬yHashIndex
::~
	$Prim¬yHashIndex
()

11 if(
this
->
hashIndex
!=0){

12 
BufãrF¿me
* 
äame
=
mªag”
->
	`»que¡PageFÜWr™e
(
this
->
šdexRoÙAddr
,
çl£
);

13 
	`ŒªsHashIndexToF¿me
(
this
->
hashIndex
,
äame
);

14 
äame
->
ed™
=
Œue
;

15 
mªag”
->
	`fšishWr™e
(
äame
);

16 
d–‘e
 
this
->
hashIndex
;

17 
this
->
hashIndex
=0;

19 
	}
}

20 
	gPrim¬yHashIndex
::
	$Prim¬yHashIndex
(
IndexSegm’t
* 
idx
,
By‹
 
fid
,
Addr
 
addr
):
	$Index
(
idx
,
fid
,
addr
)

24 
this
->
hashIndex
=0;

25 
this
->
šdexRoÙAddr
 = 
addr
;

26 
this
->
šdexTy³
 = 
IndexTy³
::
hashidx
;

27 
this
->
buck‘Size
=2;

28 
this
->
hashSize
=1;

29 
this
->
»cÜdSize
=0;

30 
this
->
¥l™R©e
=
Prim¬yHashIndex
::
BUCKET_SPLIT_RATE
;

31 
this
->
m”geR©e
=
Prim¬yHashIndex
::
BUCKET_MERGE_RATE
;

32 
this
->
ÃxtAddr
=0;

33 
this
->
keySize
=0;

34 
this
->
d©aTy³
ñhis->
mts
->
	`g‘M‘aD©a
()->
h—d
->
f›ldLi¡
[
fid
].dataType;

35 
ü—‹d
=
çl£
;

36 
lßded
=
çl£
;

37 if(
addr
==0){

38 
this
->
šdexRoÙAddr
ñhis->
drs
->
	`®loÿ‹Block
(
Segm’tTy³
::
IndexSeg
,
PageStus
::
H®fPage
);

39 
	`ü—‹
();

41 
	`lßd
();

43 
	}
}

45 
	gPrim¬yHashIndex
::
	$ü—‹
()

47 if(!
ü—‹d
){

48 
BufãrF¿me
* 
äame
=
this
->
mªag”
->
	`»que¡PageFÜWr™e
Ñhis->
šdexRoÙAddr
,
çl£
);

49 
HashIndex
*
hashIndex
=
Ãw
 
	`HashIndex
();

50 
hashIndex
->
šdexTy³
=
IndexTy³
::
hashidx
;

51 
hashIndex
->
buck‘Size
=2;

52 
hashIndex
->
hashSize
=1;

53 
hashIndex
->
»cÜdSize
=0;

54 
hashIndex
->
¥l™R©e
=
Prim¬yHashIndex
::splitRate;

55 
hashIndex
->
ÃxtAddr
=0;

56 
hashIndex
->
keySize
=0;

57 
	`ŒªsHashIndexToF¿me
(
hashIndex
,
äame
);

58 
this
->
hashIndex
=hashIndex;

59 
äame
->
ed™
=
Œue
;

60 
this
->
mªag”
->
	`fšishWr™e
(
äame
);

61 
Tu¶e
* 
tu¶e
 = 
this
->
dts
->
	`budEm±yTu¶e
();

62 
IndexI‹m
* 
™em
 = 
this
->
	`budI‹m
();

63 
this
->
dts
->
	`fšdFœ¡Tu¶e
(
tu¶e
);

64 
út
 = 0;

66 
tu¶e
->
tu¶eAddr
>0)

68 
út
++;

69 
Addr
 
Şd
 = 
tu¶e
->
tu¶eAddr
;

70 
™em
->
addr
 = 
Şd
;

71 
	`memıy
(
™em
->
key
,
tu¶e
->
cŞumn
[
this
->
f›ldId
].
d©a
,this->
šdexL’
);

72 
hh
=0;

73 
	`memıy
(&
hh
,
™em
->
key
,());

74 
mykey
;

75 
	`memıy
(&
mykey
,&
hh
,());

76 
	`´štf
("v®ues::%à %Îd\n",
hh
,
mykey
);

77 
this
->
	`š£¹EËm
(
™em
);

80 
this
->
dts
->
	`fšdNextTu¶e
(
tu¶e
,tuple);

81 if(
tu¶e
->
tu¶eAddr
==
Şd
)

85 if(
út
==20)

104 
	`´štf
("»cÜd size::%Îd buck‘ size:: %Îd",
this
->
hashIndex
->
»cÜdSize
,this->hashIndex->
buck‘Size
);

105 
this
->
	`»Ëa£IndexI‹m
(
™em
);

106 
™em
 = 0;

107 
this
->
dts
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

109 
	}
}

110 
Addr
 
	gPrim¬yHashIndex
::
	$ü—‹
(
buck‘Size
,
»cÜdSize
,
¥l™R©e
){

111 
Addr
 
addr
=
this
->
drs
->
	`®loÿ‹Block
(
Segm’tTy³
::
IndexSeg
,
PageStus
::
H®fPage
);

112 
BufãrF¿me
* 
äame
=
this
->
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

113 
HashIndex
*
hashIndex
=
Ãw
 
	`HashIndex
();

114 
hashIndex
->
šdexTy³
=
IndexTy³
::
hashidx
;

115 
hashIndex
->
buck‘Size
=bucketSize;

116 
hashIndex
->
hashSize
=1;

117 
hashIndex
->
»cÜdSize
=recordSize;

118 
hashIndex
->
¥l™R©e
=splitRate;

119 
hashIndex
->
ÃxtAddr
=0;

120 
hashIndex
->
keySize
=0;

121 
	`ŒªsHashIndexToF¿me
(
hashIndex
,
äame
);

122 
äame
->
ed™
=
Œue
;

123 
this
->
mªag”
->
	`fšishWr™e
(
äame
);

124 
ü—‹d
=
Œue
;

126  
addr
;

127 
	}
}

128 
	gPrim¬yHashIndex
::
	$lßd
()

130 if(!
lßded
){

131 
HashIndex
*
hashIndex
=
Ãw
 
	`HashIndex
();

132 
BufãrF¿me
 * 
äame
=
mªag”
->
	`»que¡PageFÜR—d
(
this
->
šdexRoÙAddr
);

133 
	`ŒªsF¿meToHashIndex
(
äame
,
hashIndex
);

134 
this
->
hashIndex
=hashIndex;

135 
mªag”
->
	`fšishR—d
(
äame
);

136 
lßded
=
Œue
;

137 
	`´štf
("lßd‚ow!%d",
this
->
hashIndex
);

139 
	}
}

140 
	gPrim¬yHashIndex
::
	$de¡royMyS–f
()

143 
	}
}

144 
IndexI‹¿tÜ
* 
Prim¬yHashIndex
::
	$fšdByKey
(* 
key
)

146 
Buck‘V®ue
=
Prim¬yHashIndex
::
	`g‘Buck‘V®ue
(
key
,
this
->
hashIndex
->
hashSize
,this->hashIndex->
buck‘Size
);

147 
Addr
 
addr
=
	`fšdBuck‘ByV®ue
(
Buck‘V®ue
,
this
->
hashIndex
);

148 
hh
=0;

149 
	`memıy
(&
hh
,
key
,());

151 
d©a
=0;

152 
	`memıy
(&
d©a
,&
hh
,());

153 
	`´štf
("thv®u::%à %Îd\n",
hh
,
d©a
);

154 
veùÜ
<
Addr
>
add¾i¡
;

155 
	`sÿnBuck‘
(
d©a
,
addr
,
add¾i¡
);

156 
Prim¬yHashIndex
*
£lf
=
this
;

157 
IndexI‹¿tÜ
 *
myI‹¿tÜ
=
Ãw
 
	`HashIndexI‹¿tÜ
(
£lf
,
key
,
add¾i¡
);

158 
	`´štf
("thsizoàkey:: %d\n",
add¾i¡
.
	`size
());

159  
myI‹¿tÜ
;

160 
	}
}

161 
	gPrim¬yHashIndex
::
sÿnBuck‘
(
key
,
Addr
 
addr
,
veùÜ
<Addr>&
add¾i¡
){

162 
BufãrF¿me
*
	gäame
=
this
->
mªag”
->
»que¡PageFÜR—d
(
addr
);

163 
HashIndexI‹m
*
	g™em
=
Ãw
 HashIndexItem();

164 
ŒªsF¿meToHashIndexI‹m
(
™em
,
äame
);

165 if(
	g™em
->
	gmp
.
couÁ
(
key
)>0){

166 
	gi
=0;i<
	g™em
->
	gmp
[
key
].
size
();i++){

167 
	gadd¾i¡
.
push_back
(
™em
->
mp
[
key
][
i
]);

170 if(
	g™em
->
	gÃxtAddr
!=0){

171 
mªag”
->
fšishR—d
(
äame
);

172 
sÿnBuck‘
(
key
,
™em
->
ÃxtAddr
,
add¾i¡
);

174 
	gmªag”
->
fšishR—d
(
äame
);

177 
	gPrim¬yHashIndex
::
	$sÿnIndex
(
Addr
 
addr
){

178 
BufãrF¿me
*
äame
=
this
->
mªag”
->
	`»que¡PageFÜR—d
(
addr
);

179 
HashIndex
*
hashIndex
=
Ãw
 
	`HashIndex
();

180 
	`ŒªsF¿meToHashIndex
(
äame
,
hashIndex
);

181 
mªag”
->
	`fšishR—d
(
äame
);

182 
	`´štf
("thšdex size::%d\n",
hashIndex
->
keySize
);

183 
m­
<,
Addr
>::
™”©Ü
 
™
=
hashIndex
->
mp
.
	`begš
();

184 
veùÜ
<
Addr
>
ff
;

185 
™
!=
hashIndex
->
mp
.
	`’d
()){

186 
	`´štf
("key-v®u%Îd %Îd ",
™
->
fœ¡
,™->
£cÚd
);

187 
	`sÿnAÎBuck‘
(
™
->
£cÚd
,
ff
);

188 
™
++;

190 if(
hashIndex
->
ÃxtAddr
!=0){

191 
	`´štf
("next index");

192 
	`sÿnIndex
(
hashIndex
->
ÃxtAddr
);

194 
	}
}

195 
	gPrim¬yHashIndex
::
sÿnAÎBuck‘
(
Addr
 
addr
,
veùÜ
<Addr>&
add¾i¡
){

196 
BufãrF¿me
*
	gäame
=
this
->
mªag”
->
»que¡PageFÜR—d
(
addr
);

197 
HashIndexI‹m
*
	g™em
=
Ãw
 HashIndexItem();

198 
ŒªsF¿meToHashIndexI‹m
(
™em
,
äame
);

199 
	gmªag”
->
fšishR—d
(
äame
);

200 
´štf
("keynum:%d\n",
™em
->
KeyNum
);

201 
	gm­
< ,
	gveùÜ
<
	gAddr
> >::
™”©Ü
 
™
;

202 
	g™
=
™em
->
mp
.
begš
();

203 
	g™
!=
™em
->
mp
.
’d
()){

204 
´štf
("key %d :",
™
->
fœ¡
);

205 
	gi
=0;i<
	g™
->
	g£cÚd
.
size
();i++){

206 
´štf
("%Îd ",
™
->
£cÚd
[
i
]);

208 
	g™
++;

210 if(
	g™em
->
	gÃxtAddr
!=0){

211 
´štf
("next bucket\n");

212 
sÿnAÎBuck‘
(
™em
->
ÃxtAddr
,
add¾i¡
);

216 
	gPrim¬yHashIndex
::
HashIndexI‹¿tÜ
::HashIndexI‹¿tÜ(
Prim¬yHashIndex
* 
´im¬yHashIndex
,*
key
,
veùÜ
<
Addr
>
ve
){

217 
	gthis
->
	g´im¬yHashIndex
=
´im¬yHashIndex
;

218 
	gthis
->
	gkey
=
key
;

219 
	gthis
->
	gcursÜ
=0;

220 
	gthis
->
	gšdexLi¡
=
ve
;

222 
	gPrim¬yHashIndex
::
HashIndexI‹¿tÜ
::
	$fšdFœ¡
(
IndexI‹m
*
™em
){

223 if(
this
->
šdexLi¡
.
	`size
()>0){

224 
	`memıy
(
™em
->
key
,
this
->key,8);

227 
	`memıy
(&
™em
->
addr
,&
this
->
šdexLi¡
[0],(
Addr
));

230 
	}
}

231 
	gPrim¬yHashIndex
::
HashIndexI‹¿tÜ
::
	$fšdNext
(
IndexI‹m
*
™em
){

232 
this
->
cursÜ
++;

233 if(
cursÜ
<
this
->
šdexLi¡
.
	`size
()){

234 
	`memıy
(
™em
->
key
,
this
->key,8);

235 
	`memıy
(&
™em
->
addr
,&
this
->
šdexLi¡
[
cursÜ
],(
Addr
));

237 
	}
}

238 
boŞ
 
	gPrim¬yHashIndex
::
HashIndexI‹¿tÜ
::
	$hasNext
(){

239 if(
this
->
cursÜ
+1>ñhis->
šdexLi¡
.
	`size
()){

240  
çl£
;

242  
Œue
;

244 
	}
}

245 
	gPrim¬yHashIndex
::
	$de¡ÜyI‹¿tÜ
(
IndexI‹¿tÜ
* 
™”©Ü
)

247 
d–‘e
 
™”©Ü
;

248 
	}
}

249 
Addr
 
	gPrim¬yHashIndex
::
	$š£¹EËm
(
IndexI‹m
* 
™em
)

251 
BufãrF¿me
 * 
äame
=
mªag”
->
	`»que¡PageFÜR—d
(
this
->
šdexRoÙAddr
);

252 
	`ŒªsF¿meToHashIndex
(
äame
,
this
->
hashIndex
);

253 
mªag”
->
	`fšishR—d
(
äame
);

254 
By‹
 
d©a
[8];

255 
	`memıy
(
d©a
,
™em
->
key
,8);

256 
hashV®ue
=0;

257 
út
=0;

258 
çùÜ
[16];

259 
round
=3;

260 
i
=0;i<16;i++){

261 if(
i
==0è
çùÜ
[i]=1;

263 
çùÜ
[
i
]=
round
;

264 
round
=round*3;

267 
i
=0;i<8;i++){

268 
By‹
 
myBy‹
=
d©a
[
i
];

269 
hashV®ue
+=(
myBy‹
&15)*
çùÜ
[
út
++];

270 
myBy‹
=
d©a
[
i
];

271 
hashV®ue
+=(
myBy‹
>>4)*
çùÜ
[
út
++];

273 
hashBuck‘
=(2<<(
this
->
hashIndex
->
hashSize
-1))-1;

276 
Buck‘V®ue
=
hashBuck‘
&
hashV®ue
;

278 if(
Buck‘V®ue
>=
this
->
hashIndex
->
buck‘Size
){

279 
Buck‘V®ue
-=()
	`pow
(2,
this
->
hashIndex
->
hashSize
-1);

282 
Addr
 
buck‘Addr
=
	`fšdPageToWr™e
(
Buck‘V®ue
,
this
->
šdexRoÙAddr
,this->
hashIndex
);

284 
mykey
=0;

285 
	`memıy
(&
mykey
,
™em
->
key
,());

286 
	`š£¹Buck‘I‹m
(
buck‘Addr
,
™em
->
addr
,
mykey
);

287 
äame
=
mªag”
->
	`»que¡PageFÜWr™e
(
this
->
šdexRoÙAddr
,
çl£
);

288 
	`ŒªsF¿meToHashIndex
(
äame
,
this
->
hashIndex
);

289 
this
->
hashIndex
->
»cÜdSize
++;

292 if(
this
->
hashIndex
->
»cÜdSize
/this->hashIndex->
buck‘Size
>ñhis->hashIndex->
¥l™R©e
){

294 
this
->
hashIndex
->
buck‘Size
++;

295 if(
this
->
hashIndex
->
buck‘Size
>(2<<Ñhis->hashIndex->
hashSize
-1))){

296 
this
->
hashIndex
->
hashSize
++;

298 
	`ŒªsHashIndexToF¿me
(
this
->
hashIndex
,
äame
);

299 
äame
->
ed™
=
Œue
;

300 
mªag”
->
	`fšishWr™e
(
äame
);

302 
	`HashIndexS¶™
();

304 
	`ŒªsHashIndexToF¿me
(
this
->
hashIndex
,
äame
);

305 
äame
->
ed™
=
Œue
;

306 
mªag”
->
	`fšishWr™e
(
äame
);

309 
	}
}

310 
	gPrim¬yHashIndex
::
	$g‘Buck‘V®ue
(*
key
,
hashSize
,
buck‘Size
){

311 
By‹
 
d©a
[8];

312 
	`memıy
(
d©a
,
key
,8);

313 
hashV®ue
=0;

314 
út
=0;

315 
çùÜ
[16];

316 
round
=3;

317 
i
=0;i<16;i++){

318 if(
i
==0è
çùÜ
[i]=1;

320 
çùÜ
[
i
]=
round
;

321 
round
=round*3;

324 
i
=0;i<8;i++){

325 
By‹
 
myBy‹
=
d©a
[
i
];

326 
hashV®ue
+=(
myBy‹
&15)*
çùÜ
[
út
++];

328 
myBy‹
=
d©a
[
i
];

329 
hashV®ue
+=(
myBy‹
>>4)*
çùÜ
[
út
++];

332 
hashBuck‘
=(2<<(
hashSize
-1))-1;

333 
Buck‘V®ue
=
hashBuck‘
&
hashV®ue
;

334 if(
Buck‘V®ue
>=
buck‘Size
){

335 
Buck‘V®ue
-=2<<(
hashSize
-1);

337  
Buck‘V®ue
;

338 
	}
}

342 
Addr
 
	gPrim¬yHashIndex
::
	$fšdPageToWr™e
(
buck‘V®ue
,
Addr
 
šdexaddr
,
HashIndex
*
šdexHashIndex
){

343 if(
šdexHashIndex
->
mp
.
	`couÁ
(
buck‘V®ue
)>0){

344  
šdexHashIndex
->
mp
[
buck‘V®ue
];

346 if(
šdexHashIndex
->
ÃxtAddr
!=0){

347 
BufãrF¿me
*
äame
=
mªag”
->
	`»que¡PageFÜR—d
(
šdexHashIndex
->
ÃxtAddr
);

348 
HashIndex
 * 
hashIndex
=
Ãw
 
	`HashIndex
();

349 
	`ŒªsF¿meToHashIndex
(
äame
,
hashIndex
);

350 
this
->
mªag”
->
	`fšishR—d
(
äame
);

351  
	`fšdPageToWr™e
(
buck‘V®ue
,
šdexHashIndex
->
ÃxtAddr
,
hashIndex
);

353 if(
šdexHashIndex
->
keySize
==
Prim¬yHashIndex
::
MAX_INDEX_SIZE
){

354 
Addr
 
addr
=
	`ü—‹
(
šdexHashIndex
->
buck‘Size
,šdexHashIndex->
»cÜdSize
,šdexHashIndex->
¥l™R©e
);

355 
HashIndex
*
hashIndex
=
Ãw
 
	`HashIndex
();

358 
BufãrF¿me
*
äame
=
mªag”
->
	`»que¡PageFÜWr™e
(
šdexaddr
,
çl£
);

359 
	`ŒªsF¿meToHashIndex
(
äame
,
hashIndex
);

360 
hashIndex
->
ÃxtAddr
=
addr
;

361 
	`ŒªsHashIndexToF¿me
(
hashIndex
,
äame
);

362 
äame
->
ed™
=
Œue
;

363 
mªag”
->
	`fšishWr™e
(
äame
);

364 
äame
=
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

365 
	`ŒªsF¿meToHashIndex
(
äame
,
hashIndex
);

366 
hashIndex
->
mp
[
buck‘V®ue
]=
	`ü—‹Buck‘
();

367 
hashIndex
->
keySize
++;

368 
	`ŒªsHashIndexToF¿me
(
hashIndex
,
äame
);

369 
äame
->
ed™
=
Œue
;

370 
mªag”
->
	`fšishWr™e
(
äame
);

371  
hashIndex
->
mp
[
buck‘V®ue
];

374 
BufãrF¿me
*
äame
=
mªag”
->
	`»que¡PageFÜWr™e
(
šdexaddr
,
çl£
);

375 
	`ŒªsF¿meToHashIndex
(
äame
,
šdexHashIndex
);

376 
šdexHashIndex
->
mp
[
buck‘V®ue
]=
	`ü—‹Buck‘
();

377 
šdexHashIndex
->
keySize
++;

378 
	`ŒªsHashIndexToF¿me
(
šdexHashIndex
,
äame
);

379 
äame
->
ed™
=
Œue
;

380 
mªag”
->
	`fšishWr™e
(
äame
);

381  
šdexHashIndex
->
mp
[
buck‘V®ue
];

385 
	}
}

386 
Addr
 
	gPrim¬yHashIndex
::
	$fšdBuck‘ByV®ue
(
buck‘V®ue
,
HashIndex
*
šdexhashIndex
){

387 if(
šdexhashIndex
->
mp
.
	`couÁ
(
buck‘V®ue
)>0){

389  
šdexhashIndex
->
mp
[
buck‘V®ue
];

391 if(
šdexhashIndex
->
ÃxtAddr
!=0){

392 
BufãrF¿me
*
äame
=
mªag”
->
	`»que¡PageFÜR—d
(
šdexhashIndex
->
ÃxtAddr
);

393 
HashIndex
*
hashIndex
=
Ãw
 
	`HashIndex
();

394 
	`ŒªsF¿meToHashIndex
(
äame
,
hashIndex
);

395 
mªag”
->
	`fšishR—d
(
äame
);

396  
	`fšdBuck‘ByV®ue
(
buck‘V®ue
,
hashIndex
);

399 
	}
}

400 
Addr
 
	gPrim¬yHashIndex
::
	$upd©eHashIndexM‘a
(
buck‘Size
,
hashSize
,
»cÜdSize
,
Addr
 
addr
){

401 if(
addr
!=0){

402 
BufãrF¿me
*
äame
=
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

403 
HashIndex
*
hashIndex
=
Ãw
 
	`HashIndex
();

404 
	`ŒªsF¿meToHashIndex
(
äame
,
hashIndex
);

405 
hashIndex
->
buck‘Size
=bucketSize;

406 
hashIndex
->
hashSize
=hashSize;

407 
hashIndex
->
»cÜdSize
=recordSize;

410 
	`ŒªsHashIndexToF¿me
(
hashIndex
,
äame
);

411 
äame
->
ed™
=
Œue
;

412 
this
->
mªag”
->
	`fšishWr™e
(
äame
);

413 
	`upd©eHashIndexM‘a
(
buck‘Size
,
hashSize
,
»cÜdSize
,
hashIndex
->
ÃxtAddr
);

415 
	}
}

416 
	gPrim¬yHashIndex
::
	$HashIndexS¶™
(){

417 
v®ue
=
this
->
hashIndex
->
buck‘Size
-1;

418 
buck‘V®ue
=
this
->
hashIndex
->
buck‘Size
-1;

419 
	`upd©eHashIndexM‘a
(
this
->
hashIndex
->
buck‘Size
,this->hashIndex->
hashSize
,this->hashIndex->
»cÜdSize
,this->
šdexRoÙAddr
);

420 
v®ue
=v®ue-()
	`pow
(2,
this
->
hashIndex
->
hashSize
-1);

422 
Addr
 
addr
=
	`fšdBuck‘ByV®ue
(
v®ue
,
this
->
hashIndex
);

423 
m­
<,
veùÜ
<
Addr
> >
mp
;

424 
	`ŒªsBuck‘I‹m
(
addr
,
buck‘V®ue
,
mp
);

425 
addr
=
	`fšdPageToWr™e
(
buck‘V®ue
,
this
->
šdexRoÙAddr
,this->
hashIndex
);

426 
	`š£¹MuÉiBuck‘I‹ms
(
addr
,
mp
);

427 
	}
}

431 
	gPrim¬yHashIndex
:: 
š£¹MuÉiBuck‘I‹ms
(
Addr
 
addr
,
m­
<,
veùÜ
<Addr> >
d©aM­
){

433 
BufãrF¿me
*
	gäame
=
mªag”
->
»que¡PageFÜWr™e
(
addr
,
çl£
);

434 
HashIndexI‹m
*
	ghashIndexI‹m
=
Ãw
 HashIndexItem();

435 
ŒªsF¿meToHashIndexI‹m
(
hashIndexI‹m
,
äame
);

436 
	gm­
<,
	gveùÜ
<
	gAddr
> >::
™”©Ü
 
™
=
d©aM­
.
begš
();

437 
boŞ
 
	gæag
=
çl£
;

438 
	gút
=0;

439 
	g™
!=
d©aM­
.
’d
()){

440 if(
hashIndexI‹m
->
KeyNum
<
Prim¬yHashIndex
::
INDEX_ITEM_SIZE
){

441 
i
=0;
	gi
<
	g™
->
	g£cÚd
.
size
();i++){

442 
	ghashIndexI‹m
->
	gmp
[
™
->
fœ¡
].
push_back
(™->
£cÚd
[
i
]);

443 
	ghashIndexI‹m
->
	gKeyNum
++;

444 if(
	ghashIndexI‹m
->
	gKeyNum
==
Prim¬yHashIndex
::
INDEX_ITEM_SIZE
){

445 
út
=
i
;

446 
	gæag
=
Œue
;

451 if(
	gæag
) ;

452 
	g™
++;

454 if(
	gæag
){

455 
boŞ
 
	gg
=
çl£
;

456 
	gm­
<,
	gveùÜ
<
	gAddr
> >
	gmym­
;

457 
	g™
!=
d©aM­
.
’d
()){

458 if(!
g
){

459 
i
=
út
+1;
	gi
<
	g™
->
	g£cÚd
.
size
();i++){

460 
	gmym­
[
™
->
fœ¡
].
push_back
(™->
£cÚd
[
i
]);

462 
	gg
=
Œue
;

464 
	gi
=0;i<
	g™
->
	g£cÚd
.
size
();i++){

465 
	gmym­
[
™
->
fœ¡
].
push_back
(™->
£cÚd
[
i
]);

468 
	g™
++;

470 if(
	ghashIndexI‹m
->
	gÃxtAddr
==0){

471 
hashIndexI‹m
->
ÃxtAddr
=
ü—‹Buck‘
();

472 
ŒªsHashIndexI‹mToF¿me
(
hashIndexI‹m
,
äame
);

473 
	gäame
->
	ged™
=
Œue
;

474 
	gmªag”
->
fšishWr™e
(
äame
);

475 
š£¹MuÉiBuck‘I‹ms
(
hashIndexI‹m
->
ÃxtAddr
,
mym­
);

477 
ŒªsHashIndexI‹mToF¿me
(
hashIndexI‹m
,
äame
);

478 
	gäame
->
	ged™
=
Œue
;

479 
	gmªag”
->
fšishWr™e
(
äame
);

480 
š£¹MuÉiBuck‘I‹ms
(
hashIndexI‹m
->
ÃxtAddr
,
mym­
);

483 
ŒªsHashIndexI‹mToF¿me
(
hashIndexI‹m
,
äame
);

484 
	gäame
->
	ged™
=
Œue
;

485 
	gmªag”
->
fšishWr™e
(
äame
);

531 
	$g‘HashV®ue
(
key
){

532 
By‹
 
d©a
[8];

533 
	`memıy
(
d©a
,&
key
,8);

534 
hashV®ue
=0;

535 
út
=0;

536 
çùÜ
[16];

537 
round
=3;

538 
i
=0;i<16;i++){

539 if(
i
==0è
çùÜ
[i]=1;

541 
çùÜ
[
i
]=
round
;

542 
round
=round*3;

545 
i
=0;i<8;i++){

546 
By‹
 
myBy‹
=
d©a
[
i
];

547 
hashV®ue
+=(
myBy‹
&15)*
çùÜ
[
út
++];

549 
myBy‹
=
d©a
[
i
];

550 
hashV®ue
+=(
myBy‹
>>4)*
çùÜ
[
út
++];

553  
hashV®ue
;

554 
	}
}

555 
	gPrim¬yHashIndex
::
g‘AÎBuck‘I‹m
(
Addr
 
addr
,
m­
<,
veùÜ
<Addr> >&
mp
){

556 
BufãrF¿me
*
	gäame
=
mªag”
->
»que¡PageFÜR—d
(
addr
);

557 
HashIndexI‹m
* 
	ghashIndexI‹m
=
Ãw
 HashIndexItem();

558 
ŒªsF¿meToHashIndexI‹m
(
hashIndexI‹m
,
äame
);

559 
	gm­
<,
	gveùÜ
<
	gAddr
> >::
™”©Ü
 
™
;

560 
	g™
=
hashIndexI‹m
->
mp
.
begš
();

561 
	g™
!=
hashIndexI‹m
->
mp
.
’d
()){

562 
i
=0;
	gi
<
	g™
->
	g£cÚd
.
size
();i++){

563 
	gmp
[
™
->
fœ¡
].
push_back
(™->
£cÚd
[
i
]);

565 
	g™
++;

567 
	gmªag”
->
fšishR—d
(
äame
);

568 
	gthis
->
	gdrs
->
ä“Block
(
addr
);

569 if(
	ghashIndexI‹m
->
	gÃxtAddr
!=0){

570 
g‘AÎBuck‘I‹m
(
hashIndexI‹m
->
ÃxtAddr
,
mp
);

573 
	gPrim¬yHashIndex
::
ŒªsBuck‘I‹m
(
Addr
 
addr
,
v®ue
,
m­
<,
veùÜ
<Addr> >&
mp
){

574 
BufãrF¿me
*
	gäame
=
mªag”
->
»que¡PageFÜWr™e
(
addr
,
çl£
);

575 
HashIndexI‹m
* 
	ghashIndexI‹m
=
Ãw
 HashIndexItem();

576 
ŒªsF¿meToHashIndexI‹m
(
hashIndexI‹m
,
äame
);

577 
	gm­
<,
	gveùÜ
<
	gAddr
> >::
™”©Ü
 
™
;

578 
	g™
=
hashIndexI‹m
->
mp
.
begš
();

579 
	g™
!=
hashIndexI‹m
->
mp
.
’d
()){

580 
hashV®ue
=
g‘HashV®ue
(
™
->
fœ¡
);

581 if(
	ghashV®ue
&
	gv®ue
==
v®ue
){

582 
i
=0;
	gi
<
	g™
->
	g£cÚd
.
size
();i++){

583 
	gmp
[
™
->
fœ¡
].
push_back
(™->
£cÚd
[
i
]);

585 
	ghashIndexI‹m
->
	gKeyNum
--;

586 
	ghashIndexI‹m
->
	gmp
.
”a£
(
™
);

588 
	g™
++;

590 
ŒªsHashIndexI‹mToF¿me
(
hashIndexI‹m
,
äame
);

591 
	gäame
->
	ged™
=
Œue
;

592 
	gmªag”
->
fšishWr™e
(
äame
);

593 if(
	ghashIndexI‹m
->
	gÃxtAddr
!=0){

594 
ŒªsBuck‘I‹m
(
hashIndexI‹m
->
ÃxtAddr
,
v®ue
,
mp
);

644 
Addr
 
	gPrim¬yHashIndex
::
	$d–‘eEËm
(
IndexI‹m
* 
™em
)

646 
BufãrF¿me
*
äame
=
this
->
mªag”
->
	`»que¡PageFÜWr™e
Ñhis->
šdexRoÙAddr
,
çl£
);

648 
	`ŒªsF¿meToHashIndex
(
äame
,
this
->
hashIndex
);

649 
buck‘V®ue
=
	`g‘Buck‘V®ue
(
™em
->
key
,
this
->
hashIndex
->
hashSize
,this->hashIndex->
buck‘Size
);

650 
Addr
 
addr
=
	`fšdPageToWr™e
(
buck‘V®ue
,
this
->
šdexRoÙAddr
,this->
hashIndex
);

651 
	`d–‘eBuck‘I‹m
(
addr
,
™em
);

652 
this
->
hashIndex
->
»cÜdSize
--;

653 if(
this
->
hashIndex
->
buck‘Size
>2&&this->hashIndex->
»cÜdSize
/this->hashIndex->buck‘Size<ñhis->
m”geR©e
){

655 
this
->
hashIndex
->
buck‘Size
--;

656 if(
this
->
hashIndex
->
buck‘Size
<(2<<Ñhis->hashIndex->
hashSize
-1))){

657 
this
->
hashIndex
->
hashSize
--;

659 
	`ŒªsHashIndexToF¿me
(
this
->
hashIndex
,
äame
);

660 
äame
->
ed™
=
Œue
;

661 
mªag”
->
	`fšishWr™e
(
äame
);

662 
	`´štf
("begino index merge \n");

663 
	`HashIndexM”ge
();

664 
	`d–‘eIndexKey
(
this
->
hashIndex
->
buck‘Size
,this->
šdexRoÙAddr
);

675 
	`ŒªsHashIndexToF¿me
(
this
->
hashIndex
,
äame
);

676 
äame
->
ed™
=
Œue
;

677 
mªag”
->
	`fšishWr™e
(
äame
);

680 
	}
}

681 
	gPrim¬yHashIndex
::
	$d–‘eIndexKey
(
v®ue
,
Addr
 
addr
){

682 
BufãrF¿me
* 
äame
=
this
->
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

683 
HashIndex
*
hashIndex
=
Ãw
 
	`HashIndex
();

684 
	`ŒªsF¿meToHashIndex
(
äame
,
hashIndex
);

685 if(
hashIndex
->
mp
.
	`couÁ
(
v®ue
)>=1){

686 
m­
<,
Addr
>::
™”©Ü
 
™
=
hashIndex
->
mp
.
	`fšd
(
v®ue
);

687 if(
™
!=
hashIndex
->
mp
.
	`’d
()){

688 
hashIndex
->
mp
.
	`”a£
(
™
);

689 
hashIndex
->
keySize
--;

691 
	`ŒªsHashIndexToF¿me
(
hashIndex
,
äame
);

692 
äame
->
ed™
=
Œue
;

693 
mªag”
->
	`fšishWr™e
(
äame
);

695 
äame
->
ed™
=
çl£
;

696 
mªag”
->
	`fšishWr™e
(
äame
);

697 if(
hashIndex
->
ÃxtAddr
!=0){

698 
	`d–‘eIndexKey
(
v®ue
,
hashIndex
->
ÃxtAddr
);

702 
	}
}

703 
	gPrim¬yHashIndex
::
	$HashIndexM”ge
(){

704 
v®ue
=
this
->
hashIndex
->
buck‘Size
;

705 
buck‘V®ue
=
this
->
hashIndex
->
buck‘Size
;

706 
	`upd©eHashIndexM‘a
(
this
->
hashIndex
->
buck‘Size
,this->hashIndex->
hashSize
,this->hashIndex->
»cÜdSize
,this->
šdexRoÙAddr
);

707 
v®ue
=v®ue-()
	`pow
(2,
this
->
hashIndex
->
hashSize
);

709 
Addr
 
addr
=
	`fšdBuck‘ByV®ue
(
buck‘V®ue
,
this
->
hashIndex
);

710 
m­
<,
veùÜ
<
Addr
> >
mp
;

712 
	`g‘AÎBuck‘I‹m
(
addr
,
mp
);

713 
addr
=
	`fšdPageToWr™e
(
v®ue
,
this
->
šdexRoÙAddr
,this->
hashIndex
);

714 
	`š£¹MuÉiBuck‘I‹ms
(
addr
,
mp
);

715 
	}
}

716 
boŞ
 
	gPrim¬yHashIndex
::
	$d–‘eBuck‘I‹m
(
Addr
 
addr
,
IndexI‹m
* 
™em
){

717 
mykey
=0;

718 
	`memıy
(&
mykey
,
™em
->
key
,());

719 
BufãrF¿me
*
äame
=
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

720 
HashIndexI‹m
*
hashIndexI‹m
=
Ãw
 
	`HashIndexI‹m
();

721 
	`ŒªsF¿meToHashIndexI‹m
(
hashIndexI‹m
,
äame
);

722 
veùÜ
<
Addr
>::
™”©Ü
 
™
;

723 if(
hashIndexI‹m
->
mp
.
	`couÁ
(
mykey
)>0){

724 
™
=(
hashIndexI‹m
->
mp
[
mykey
]).
	`begš
();

725 
™
!=(
hashIndexI‹m
->
mp
[
mykey
]).
	`’d
()){

726 
	`´štf
("\n*™ ...%d %d\n",*
™
,
™em
->
addr
);

727 if((*
™
)==
™em
->
addr
){

728 (
hashIndexI‹m
->
mp
[
mykey
]).
	`”a£
(
™
);

729 
hashIndexI‹m
->
KeyNum
--;

730 
	`ŒªsHashIndexI‹mToF¿me
(
hashIndexI‹m
,
äame
);

731 
äame
->
ed™
=
Œue
;

732 
mªag”
->
	`fšishWr™e
(
äame
);

735 
™
++;

738 
äame
->
ed™
=
çl£
;

739 
mªag”
->
	`fšishWr™e
(
äame
);

741 if(
hashIndexI‹m
->
ÃxtAddr
!=0){

742 
	`d–‘eBuck‘I‹m
(
hashIndexI‹m
->
ÃxtAddr
,
™em
);

744 
	}
}

745 
boŞ
 
	gPrim¬yHashIndex
::
	$d–‘eBuck‘I‹mByKey
(
Addr
 
addr
 ,
IndexI‹m
*
™em
){

746 
mykey
=0;

747 
	`memıy
(&
mykey
,
™em
->
key
,());

748 
BufãrF¿me
*
äame
=
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

749 
HashIndexI‹m
*
hashIndexI‹m
=
Ãw
 
	`HashIndexI‹m
();

750 
	`ŒªsF¿meToHashIndexI‹m
(
hashIndexI‹m
,
äame
);

751 if(
hashIndexI‹m
->
mp
.
	`couÁ
(
mykey
)>0){

752 
hashIndexI‹m
->
KeyNum
-=hashIndexI‹m->
mp
[
mykey
].
	`size
();

753 
hashIndexI‹m
->
mp
[
mykey
].
	`ş—r
();

754 
äame
->
ed™
=
Œue
;

755 
mªag”
->
	`fšishWr™e
(
äame
);

757 
äame
->
ed™
=
çl£
;

758 
mªag”
->
	`fšishWr™e
(
äame
);

760 if(
hashIndexI‹m
->
ÃxtAddr
!=0){

761 
addr
=
hashIndexI‹m
->
ÃxtAddr
;

762 
	`d–‘eBuck‘I‹mByKey
(
addr
,
™em
);

764 
	}
}

765 
IndexI‹m
* 
	gPrim¬yHashIndex
::
	$budI‹m
()

767 
IndexI‹m
* 
™em
 = 
Ãw
 
	`IndexI‹m
();

768 
™em
->
key
=
Ãw
 
By‹
[8];

769  
™em
;

771 
	}
}

772 
	gPrim¬yHashIndex
::
	$»Ëa£IndexI‹m
(
IndexI‹m
* 
™em
)

774 if(
™em
!=0)

776 
d–‘e
[] 
™em
->
key
;

777 
™em
->
key
=0;

779 
d–‘e
 
™em
;

781 
	}
}

782 
	gPrim¬yHashIndex
::
	$»Ëa£AÎ
()

784 
BufãrF¿me
 * 
äame
=
mªag”
->
	`»que¡PageFÜWr™e
(
this
->
šdexRoÙAddr
,
çl£
);

785 
	`ŒªsHashIndexToF¿me
(
this
->
hashIndex
,
äame
);

786 
äame
->
ed™
=
Œue
;

787 
mªag”
->
	`fšishWr™e
(
äame
);

788 
	}
}

789 
Addr
 
	gPrim¬yHashIndex
::
	$g‘RoÙAddr
()

791  
this
->
šdexRoÙAddr
;

792 
	}
}

793 
Addr
 
	gPrim¬yHashIndex
::
	$g‘NextAddr
(){

794  
this
->
ÃxtAddr
;

795 
	}
}

796 
	gPrim¬yHashIndex
::
	$æushHashIndex
(){

797 if(
hashIndex
==0){

800 
BufãrF¿me
*
äame
=
mªag”
->
	`»que¡PageFÜWr™e
(
this
->
šdexRoÙAddr
,
çl£
);

801 
	`ŒªsHashIndexToF¿me
(
this
->
hashIndex
,
äame
);

802 
äame
->
ed™
=
Œue
;

803 
mªag”
->
	`fšishWr™e
(
äame
);

804 
	}
}

805 
	gPrim¬yHashIndex
::
	$ŒªsHashIndexToF¿me
(
HashIndex
*
hashIndex
,
BufãrF¿me
 *
äame
)

807 
Page
*
·ge
=
äame
->page;

808 
By‹
*
d©a
=
·ge
->data;

813 
ushÜt
 
æag
=
·ge
->flag;

814 
æag
=æag&(~
Segm’tTy³
::
mask
)|Segm’tTy³::
IndexSeg
&(~
PageStus
::mask)|PageStus::
FuÎPage
;

815 
·ge
->
æag
=flag;

816 
d©a
+=
PAGE_HEAD_LEN
;

817 
d©a
+=
PAGE_ALIGN
;

818 
By‹
* 
Şd
=
d©a
;

819 
	`memıy
(
d©a
,&
hashIndex
->
buck‘Size
,());

820 
d©a
+=();

821 
	`memıy
(
d©a
,&
hashIndex
->
hashSize
,());

822 
d©a
+=();

823 
	`memıy
(
d©a
,&
hashIndex
->
»cÜdSize
,());

824 
d©a
+=();

825 
	`memıy
(
d©a
,&
hashIndex
->
¥l™R©e
,( ));

827 
d©a
+=();

828 
	`memıy
(
d©a
,&
hashIndex
->
keySize
,());

829 
d©a
+=();

830 
	`memıy
(
d©a
,&
hashIndex
->
ÃxtAddr
,(
Addr
));

831 
d©a
+=(
Addr
);

833 
m­
<,
Addr
>::
™”©Ü
 
™
;

834 
™
=
hashIndex
->
mp
.
	`begš
();

835 
™
!=
hashIndex
->
mp
.
	`’d
()){

836 
	`memıy
(
d©a
,&
™
->
fœ¡
,());

837 
d©a
+=();

838 
	`memıy
(
d©a
,&
™
->
£cÚd
,(
Addr
));

839 
d©a
+=(
Addr
);

840 
™
++;

842  
d©a
-
Şd
;

843 
	}
}

844 
	gPrim¬yHashIndex
::
	$ŒªsF¿meToHashIndex
(
BufãrF¿me
*
äame
,
HashIndex
*
hashIndex
){

845 
Page
*
·ge
=
äame
->page;

846 
ushÜt
 
æag
=
·ge
->æag&
Segm’tTy³
::
mask
;

847 if(
æag
!=
Segm’tTy³
::
IndexSeg
){

848 #ifdeà
DEBUG_INDEX


849 
	`´štf
("warning:his…age is‚ot‡ index segment…age");

852 
By‹
*
d©a
=
·ge
->data;

853 
d©a
+=
PAGE_HEAD_LEN
;

854 
d©a
+=
PAGE_ALIGN
;

855 
By‹
*
Şd
=
d©a
;

856 
	`memıy
(&
hashIndex
->
buck‘Size
,
d©a
,());

857 
d©a
+=();

858 
	`memıy
(&
hashIndex
->
hashSize
,
d©a
,());

859 
d©a
+=();

860 
	`memıy
(&
hashIndex
->
»cÜdSize
,
d©a
,());

861 
d©a
+=();

862 
	`memıy
(&
hashIndex
->
¥l™R©e
,
d©a
,( ));

863 
d©a
+=();

864 
	`memıy
(&
hashIndex
->
keySize
,
d©a
,());

865 
d©a
+=();

866 
	`memıy
(&
hashIndex
->
ÃxtAddr
,
d©a
,());

867 
d©a
+=();

868 
key
=0;

869 
Addr
 
addr
=0;

870 
hashIndex
->
mp
.
	`ş—r
();

871 
i
=0;i<
hashIndex
->
keySize
;i++){

872 
	`memıy
(&
key
,
d©a
,());

873 
d©a
+=();

874 
	`memıy
(&
addr
,
d©a
,(
Addr
));

876 
d©a
+=(
Addr
);

877 
hashIndex
->
mp
[
key
]=
addr
;

879  
d©a
-
Şd
;

880 
	}
}

881 
By‹
 
	gPrim¬yHashIndex
::
	$g‘IndexTy³
()

883  
IndexTy³
::
hashidx
;

884 
	}
}

885 
	gPrim¬yHashIndex
::
	$š£¹Buck‘I‹m
(
Addr
 
·geAdd»s
, Add¸
add»ss
, 
key
){

887 if(
key
==31205930107è
	`´štf
("findhe key ..........\n");

888 
BufãrF¿me
* 
äame
=
this
->
mªag”
->
	`»que¡PageFÜWr™e
(
·geAdd»s
,
çl£
);

889 
HashIndexI‹m
* 
hashIndexI‹m
=
Ãw
 
	`HashIndexI‹m
();

890 
	`ŒªsF¿meToHashIndexI‹m
(
hashIndexI‹m
,
äame
);

891 if(
hashIndexI‹m
->
KeyNum
==
Prim¬yHashIndex
::
INDEX_ITEM_SIZE
){

892 if(
hashIndexI‹m
->
ÃxtAddr
==0){

894 
hashIndexI‹m
->
ÃxtAddr
=
	`ü—‹Buck‘
();

895 
	`ŒªsHashIndexI‹mToF¿me
(
hashIndexI‹m
,
äame
);

896 
äame
->
ed™
=
Œue
;

897 
mªag”
->
	`fšishWr™e
(
äame
);

898 
	`š£¹Buck‘I‹m
(
hashIndexI‹m
->
ÃxtAddr
,
add»ss
,
key
);

900 
äame
->
ed™
=
çl£
;

901 
mªag”
->
	`fšishWr™e
(
äame
);

902 
	`š£¹Buck‘I‹m
(
hashIndexI‹m
->
ÃxtAddr
,
add»ss
,
key
);

906 
hashIndexI‹m
->
KeyNum
++;

907 
hashIndexI‹m
->
mp
[
key
].
	`push_back
(
add»ss
);

908 
	`ŒªsHashIndexI‹mToF¿me
(
hashIndexI‹m
,
äame
);

909 
äame
->
ed™
=
Œue
;

910 
mªag”
->
	`fšishWr™e
(
äame
);

944 
	}
}

945 
Addr
 
	gPrim¬yHashIndex
::
	$ü—‹Buck‘
(){

946 
Addr
 
roÙ
=
this
->
drs
->
	`®loÿ‹Block
(
Segm’tTy³
::
IndexSeg
,
PageStus
::
H®fPage
);

947 
BufãrF¿me
* 
äame
=
this
->
mªag”
->
	`»que¡PageFÜWr™e
(
roÙ
,
çl£
);

948 
HashIndexI‹m
 *
hashIndexI‹m
=
Ãw
 
	`HashIndexI‹m
();

949 
hashIndexI‹m
->
ÃxtAddr
=0;

950 
hashIndexI‹m
->
KeyNum
=0;

951 
	`ŒªsHashIndexI‹mToF¿me
(
hashIndexI‹m
,
äame
);

952 
äame
->
ed™
=
Œue
;

953 
this
->
mªag”
->
	`fšishWr™e
(
äame
);

954  
roÙ
;

955 
	}
}

956 
	gPrim¬yHashIndex
::
	$ŒªsHashIndexI‹mToF¿me
(
HashIndexI‹m
*
hashIndexI‹m
,
BufãrF¿me
*
äame
){

957 
Page
*
·ge
=
äame
->page;

958 
By‹
*
d©a
=
·ge
->data;

959 
ushÜt
 
æag
=
·ge
->flag;

960 
æag
=æag&(~
Segm’tTy³
::
mask
)|Segm’tTy³::
IndexSeg
&(~
PageStus
::mask)|PageStus::
FuÎPage
;

961 
·ge
->
æag
=flag;

962 
d©a
+=
PAGE_HEAD_LEN
;

963 
d©a
+=
PAGE_ALIGN
;

964 
By‹
*
Şd
=
d©a
;

965 
	`memıy
(
d©a
,&
hashIndexI‹m
->
KeyNum
,());

966 
d©a
+=();

967 
	`memıy
(
d©a
,&
hashIndexI‹m
->
ÃxtAddr
,(
Addr
));

968 
d©a
+=(
Addr
);

969 
m­
<,
veùÜ
<
Addr
> >::
™”©Ü
 
™
;

970 
™
=
hashIndexI‹m
->
mp
.
	`begš
();

971 
™
!=
hashIndexI‹m
->
mp
.
	`’d
()){

972 
i
=0;i<
™
->
£cÚd
.
	`size
();i++){

973 
	`memıy
(
d©a
,&
™
->
fœ¡
,8);

974 
d©a
+=8;

975 
	`memıy
(
d©a
,&
™
->
£cÚd
[
i
],(
Addr
));

976 
d©a
+=(
Addr
);

978 
™
++;

980  
d©a
-
Şd
;

981 
	}
}

982 
	gPrim¬yHashIndex
::
	$ŒªsF¿meToHashIndexI‹m
(
HashIndexI‹m
*
hashIndexI‹m
,
BufãrF¿me
*
äame
){

983 
Page
*
·ge
=
äame
->page;

984 
By‹
*
d©a
=
·ge
->data;

985 
ushÜt
 
æag
=
·ge
->flag;

986 
æag
=æag&(~
Segm’tTy³
::
mask
)|Segm’tTy³::
IndexSeg
&(~
PageStus
::mask)|PageStus::
FuÎPage
;

987 
·ge
->
æag
=flag;

988 
d©a
+=
PAGE_HEAD_LEN
;

989 
d©a
+=
PAGE_ALIGN
;

990 
By‹
*
Şd
=
d©a
;

991 
	`memıy
(&
hashIndexI‹m
->
KeyNum
,
d©a
,());

992 
d©a
+=();

993 
	`memıy
(&
hashIndexI‹m
->
ÃxtAddr
,
d©a
,(
Addr
));

994 
d©a
+=(
Addr
);

995 
key
;

996 
Addr
 
addr
;

997 
hashIndexI‹m
->
mp
.
	`ş—r
();

998 
i
=0;i<
hashIndexI‹m
->
KeyNum
;i++){

999 
	`memıy
(&
key
,
d©a
,8);

1000 
d©a
+=8;

1001 
	`memıy
(&
addr
,
d©a
,(
Addr
));

1002 
d©a
+=(
Addr
);

1003 
hashIndexI‹m
->
mp
[
key
].
	`push_back
(
addr
);

1005  
d©a
-
Şd
;

1006 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/index/PrimaryHashIndex.h

1 #iâdeà
PINDEX_H_INCLUDED


2 
	#PINDEX_H_INCLUDED


	)

3 
	~"../commÚ.h
"

4 
	~"../bË/m‘a.h
"

5 
	~"../£gm’t/D©aSegm’t.h
"

6 
	~"../£gm’t/M‘aD©aSegm’t.h
"

7 
	~"../£gm’t/IndexSegm’t.h
"

8 
	~"../£gm’t/DœeùÜySegm’t.h
"

9 
	~<m­
>

10 
	~"Index.h
"

12 
usšg
 
Çme¥aû
 
	g¡d
;

21 
	sHashIndex
{

22 
	mšdexTy³
;

23 
	mbuck‘Size
;

24 
	m»cÜdSize
;

25 
Addr
 
	mÃxtAddr
;

26 
	mhashSize
;

27 
	m¥l™R©e
;

28 
	mkeySize
;

29 
	mm­
<,
	mAddr
>
	mmp
;

30 }
	tHashIndex
;

32 
	sHashIndexI‹m
{

33 
Addr
 
	mÃxtAddr
;

34 
	mKeyNum
;

35 
	mm­
<,
	mveùÜ
<
	mAddr
> >
	mmp
;

36 }
	tHashIndexI‹m
;

38 şas 
	cPrim¬yHashIndex
 : 
public
 
Index


40 
public
:

41 
Prim¬yHashIndex
(
IndexSegm’t
* IndexSegm’t,
By‹
 
fid
,
Addr
 
addr
);

44 
ü—‹
();

45 
Addr
 
ü—‹
(
buck‘Size
,
»cÜdSize
,
¥l™R©e
);

46 
lßd
();

47 
de¡royMyS–f
();

48 
IndexI‹¿tÜ
* 
fšdByKey
(* 
key
);

49 
de¡ÜyI‹¿tÜ
(
IndexI‹¿tÜ
* 
™”©Ü
);

50 
Addr
 
š£¹EËm
(
IndexI‹m
* 
™em
);

51 
Addr
 
d–‘eEËm
(
IndexI‹m
* 
™em
);

52 
d–‘eIndexKey
(
v®ue
,
Addr
 
addr
);

53 
boŞ
 
d–‘eBuck‘I‹m
(
Addr
 
addr
 ,
IndexI‹m
*
™em
);

54 
boŞ
 
d–‘eBuck‘I‹mByKey
(
Addr
 
addr
 ,
IndexI‹m
*
™em
);

55 
IndexI‹m
* 
budI‹m
();

56 
»Ëa£IndexI‹m
(
IndexI‹m
* 
™em
);

57 
By‹
 
g‘IndexTy³
();

58 
Addr
 
ü—‹Buck‘
();

59 
HashIndexS¶™
();

60 
HashIndexM”ge
();

61 
Addr
 
fšdBuck‘ByV®ue
(
buck‘V®ue
,
HashIndex
*
hashIndex
);

62 
Addr
 
upd©eHashIndexM‘a
(
buck‘Size
,
hashSize
,
»cÜdSize
,Add¸
addr
);

63 
g‘Buck‘V®ue
(*
key
,
hashSize
,
buck‘Size
);

66 
vœtu®
 
ŒªsBuck‘I‹m
(
Addr
 
addr
,
v®ue
, 
m­
<,
veùÜ
<Addr> >&
mp
);

67 
vœtu®
 
g‘AÎBuck‘I‹m
(
Addr
 
addr
,
m­
<,
veùÜ
<Addr> >&
mp
);

69 
æushHashIndex
();

70 
Addr
 
fšdPageToWr™e
(
buck‘V®ue
,Add¸
šdexAddr
,
HashIndex
*
šdexHashIndex
);

71 
ŒªsHashIndexToF¿me
(
HashIndex
* 
šdex
,
BufãrF¿me
* 
äame
);

72 
ŒªsF¿meToHashIndex
(
BufãrF¿me
*
äame
,
HashIndex
*
Index
);

73 
ŒªsHashIndexI‹mToF¿me
(
HashIndexI‹m
*
hashIndexI‹m
,
BufãrF¿me
*
äame
);

74 
ŒªsF¿meToHashIndexI‹m
(
HashIndexI‹m
*
hashIndexI‹m
,
BufãrF¿me
*
äame
);

75 
š£¹Buck‘I‹m
(
Addr
 
·geAdd»s
,Add¸
add»ss
,);

76 
š£¹MuÉiBuck‘I‹ms
(
Addr
 
add
,
m­
<,
veùÜ
<Addr> >
mp
);

77 
sÿnBuck‘
(
key
,
Addr
 
addr
,
veùÜ
<Addr>&
add¾i¡
);

78 
sÿnAÎBuck‘
(
Addr
 
addr
,
veùÜ
<Addr>&
add¾i¡
);

79 
sÿnIndex
(
Addr
 
addr
);

80 
IndexI‹¿tÜ
*
fšdByRªge
(*
v®ue1
,*
v®ue2
);

82 
Addr
 
g‘RoÙAddr
();

83 
Addr
 
g‘NextAddr
();

84 
»Ëa£AÎ
();

85 ~
Prim¬yHashIndex
();

86 şas 
	cHashIndexI‹¿tÜ
:
public
 
IndexI‹¿tÜ
{

87 
public
 :

88 
fšdFœ¡
(
IndexI‹m
*
™em
);

89 
fšdNext
(
IndexI‹m
*
™em
);

90 
boŞ
 
hasNext
();

91 
HashIndexI‹¿tÜ
(
Prim¬yHashIndex
*
´im¬yHashIndex
,* 
key
,
veùÜ
<
Addr
>
ve
);

92 
ä›nd
 
şass
 
	mPrim¬yHashIndex
;

93 
	m´iv©e
:

94 
veùÜ
<
Addr
>
šdexLi¡
;

95 
	mcursÜ
;

96 
Prim¬yHashIndex
*
	m´im¬yHashIndex
;

97 *
	mkey
;

99 
	g´Ùeùed
:

108 
HashIndex
 *
hashIndex
;

109 
By‹
 
	gd©aTy³
;

112 
	gbuck‘Size
;

113 
	g»cÜdSize
;

114 
Addr
 
	gÃxtAddr
;

115 
	ghashSize
;

116 
	g¥l™R©e
;

117 
	gm”geR©e
;

118 
	gkeySize
;

119 
boŞ
 
	gü—‹d
;

120 
boŞ
 
	glßded
;

122 cÚ¡ 
	gMAX_INDEX_SIZE
=603;

123 cÚ¡ 
	gINDEX_ITEM_HEAD
=12;

124 cÚ¡ 
	gINDEX_ITEM_SIZE
=454;

125 cÚ¡ 
	gBUCKET_ITEM_SIZE
=16;

126 cÚ¡ 
	gBUCKET_SPLIT_RATE
=385;

127 cÚ¡ 
	gBUCKET_MERGE_RATE
=68;

	@/home/huangwentao/WorkSpaces/carrots/dbms/main.cpp

1 
	~<io¡»am
>

2 
	~<c¡dio
>

3 
	~<c¡dlib
>

4 
	~<c¡ršg
>

5 
	~<m­
>

6 
	~<veùÜ
>

7 
	~<dœ’t.h
>

8 
	~<time.h
>

9 
	~"·r£r/·r£r.h
"

10 
	~"executiÚ/Qu”yExecutÜ.h
"

11 
	~"executiÚ/C»©eExecutÜ.h
"

12 
	~"executiÚ/DrİExecutÜ.h
"

13 
	~"executiÚ/In£¹ExecutÜ.h
"

14 
	~"executiÚ/Upd©eExecutÜ.h
"

15 
	~"executiÚ/D–‘eExecutÜ.h
"

16 
	~"executiÚ/S–eùExecutÜ.h
"

17 
	~"executiÚ/JošExecutÜ.h
"

19 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	~"·r£r/sql.b.h
"

23 
	~"·r£r/sql-·r£r.h
"

25 
yyËx_š™_exŒa
 (* 
u£r_defšed
,
yysÿn_t
* 
sÿÂ”
);

26 
yy£t_š
 (
FILE
 * 
š_¡r
 ,
yysÿn_t
 
yysÿÂ”
 );

29 
qu”y_Œ“
 
qu”yT»e
;

30 
m‘a_f›ld
 
mfLi¡
[
MAX_MF_LIST
];

31 
m‘a_f›ld_ch¬
 
mfcLi¡
[
MAX_MFC_LIST
];

32 
mfLi¡CursÜ
;

33 
mfcLi¡CursÜ
;

36 
cu¼’tTabËFp
 
ùå
;

37 
cu¼’tTabËLi¡Num
;

38 
äomLi¡
 
cu¼’tTabËLi¡
[
MAX_TABLE_LIST
];

39 
‹mpTu¶e
 
‰™
;

40 
d–‘eWh”e
 
dw
;

41 
upd©eWh”e
 
uw
;

42 
£ËùWh”e
 
sw
;

43 
jošWh”e
 
jw
;

45 
	gm­
<, *> 
	g”r_»asÚ
;

68 
	$”r_id_š™Ÿlize
()

70 
”r_»asÚ
[1] = "SUCCESS!";

71 
”r_»asÚ
[0] = "DEFAULT!";

72 
”r_»asÚ
[-1] = "CREATE TABLE FAILED!";

73 
”r_»asÚ
[-6] = "DROP TABLE FAILED!\t TABLE NOT FOUND!!!";

74 
”r_»asÚ
[-7] = "DROP TABLE FAILED!\t TABLE FOUND BUT CAN NOT DROP!!!";

75 
”r_»asÚ
[-11] = "SELECT FAILED!\t TABLE NOT FOUND!!!";

76 
”r_»asÚ
[-12]="SELECT FAILED!\t NOT SUCH TUPLE!!!";

77 
”r_»asÚ
[-13]="SELECT FAILED!\t PARSE ERROR!!!";

78 
”r_»asÚ
[-16] = "INSERT FAILED!\t THE TUPLE FIELD NUMBER DOESN'T MATCH THE FIELD NUMBER OF THE TABLE!!!";

79 
”r_»asÚ
[-17] = "INSERT FAILED!\t SOME STRING LENGTH DON'T MATCH THE FIELD LENGTH!!!";

80 
”r_»asÚ
[-18] = "INSERT FAILED!\t TABLE NOT FOUND!!!";

81 
”r_»asÚ
[-21] = "UPDATE FAILED!\t TABLE NOT FOUND!!! ";

82 
”r_»asÚ
[-22] = "UPDATE FAILED!\t PARSE ERROR!!!";

83 
”r_»asÚ
[-23] = "UPDATE FALED!\t NOT SUCH TUPLE";

84 
”r_»asÚ
[-26] = "DELETE FAILED!\t TABLE NOT FOUND!!!";

85 
”r_»asÚ
[-27] = "DELETE FAILED!\t TABLE FOUND BUT NOT EVEN A SINGLE TUPLE!!!";

86 
”r_»asÚ
[-28] = "DELETE FAILED!\t COLUMN TYPE DOESN'T MATCH!!!";

87 
”r_»asÚ
[-29] = "DELETE FAILED!\t NOT SUCH TUPLE!!!";

88 
”r_»asÚ
[-31] = "JOIN FAILED!\t TABLE NOT FOUND!!!";

89 
”r_»asÚ
[-32] = "JOIN FAILED!\t PARSE ERROR!!!";

90 
	}
}

91 
	$cu¼’tTabËCouÁ
()

93 
dœ’t
 *
±r
;

94 
DIR
 * 
dœ
;

95 
¡ršg
 
PATH
 = "workspace/";

96 
dœ
 = 
	`İ’dœ
(
PATH
.
	`c_¡r
());

97 
veùÜ
<
¡ršg
> 
fes
;

98 (
±r
=
	`»addœ
(
dœ
))!=
NULL
)

100 if(
±r
->
d_Çme
[0] == '.')

104 
fes
.
	`push_back
(
±r
->
d_Çme
);

106 
	`şo£dœ
(
dœ
);

107  
fes
.
	`size
();

108 
	}
}

109 
	$šiQu”y
()

116 
cu¼’tTabËLi¡Num
 = 
	`cu¼’tTabËCouÁ
();

117 
	`mem£t
(&
qu”yT»e
,0,(queryTree));

118 
	`mem£t
(&
ùå
,0,(ctfp));

119 
	`mem£t
(&
‰™
,0,(ttit));

120 
	`mem£t
(&
dw
,0,(dw));

121 
	`mem£t
(&
uw
,0,(uw));

122 
	`mem£t
(&
sw
,0,(sw));

123 
	`mem£t
(&
jw
,0,(jw));

124 
mfLi¡CursÜ
 = 0;

125 
mfcLi¡CursÜ
 = 0;

128 
	}
}

129 
	$doQu”y
()

132 
qu”yT»e
.
qu”y_ty³
)

136 
C»©eExecutÜ
 * 
û
 = 
Ãw
 
	`C»©eExecutÜ
();

137 
û
->
	`execu‹
(
qu”yT»e
);

138 
cout
<<
”r_»asÚ
[
û
->
	`g‘Stus
()]<<
’dl
;

139 
d–‘e
 
û
;

144 
DrİExecutÜ
*
de
 = 
Ãw
 
	`DrİExecutÜ
();

145 
de
->
	`execu‹
(
qu”yT»e
);

146 
cout
<<
”r_»asÚ
[
de
->
	`g‘Stus
()]<<
’dl
;

147 
d–‘e
 
de
;

152 
In£¹ExecutÜ
* 
›
 = 
Ãw
 
	`In£¹ExecutÜ
();

153 
›
->
	`execu‹
(
qu”yT»e
);

154 if(
›
->
	`g‘Stus
() == 1)

156 
cout
<<"sucûssfuÎy in£¹ " << 
›
->
	`g‘ChdNum
(è<< "u¶e"<<
’dl
;

158 
cout
<<
”r_»asÚ
[
›
->
	`g‘Stus
()]<<
’dl
;

159 
d–‘e
 
›
;

164 
Upd©eExecutÜ
 *
ue
 = 
Ãw
 
	`Upd©eExecutÜ
();

165 
ue
->
	`execu‹
(
qu”yT»e
);

166 if(
ue
->
	`g‘Stus
() == 1)

168 
cout
<<"sucûssfuÎy upd©" << 
ue
->
	`g‘ChdNum
(è<< "u¶e" <<
’dl
;

170 
cout
<<
”r_»asÚ
[
ue
->
	`g‘Stus
()] <<
’dl
;

171 
d–‘e
 
ue
;

176 
D–‘eExecutÜ
*
de
 = 
Ãw
 
	`D–‘eExecutÜ
();

177 
de
->
	`execu‹
(
qu”yT»e
);

178 if(
de
 ->
	`g‘Stus
() == 1)

180 
cout
<<"sucûssfuÎy d–‘" << 
de
->
	`g‘ChdNum
(è<< "u¶e" << 
’dl
;

182 
cout
<<
”r_»asÚ
[
de
->
	`g‘Stus
()]<<
’dl
;

183 
d–‘e
 
de
;

188 
S–eùExecutÜ
*
£
 = 
Ãw
 
	`S–eùExecutÜ
();

189 
£
->
	`execu‹
(
qu”yT»e
);

190 if(
£
->
	`g‘Stus
() == 1)

192 
cout
<<"\nsucûssfuÎy s–eù "<<
£
->
	`g‘ChdNum
(è<< "u¶e" << 
’dl
;

194 
cout
<<
”r_»asÚ
[
£
->
	`g‘Stus
()]<<
’dl
;

195 
d–‘e
 
£
;

200 
JošExecutÜ
* 
je
 = 
Ãw
 
	`JošExecutÜ
();

201 
je
->
	`execu‹
(
qu”yT»e
);

202 if(
je
->
	`g‘Stus
() == 1)

204 
cout
<<"\nsucûssfuÎy s–eù "<<
je
->
	`g‘ChdNum
(è<< "u¶e" << 
’dl
;

206 
cout
<<
”r_»asÚ
[
je
->
	`g‘Stus
()]<<
’dl
;

207 
d–‘e
 
je
;

213 
	}
}

215 
	gyydebug
;

216 
	$maš
(
ac
,** 
av
)

218 
cout
<< "WELCOME TO OUR DATABASE: CARROTS !!!"<<
’dl
;

219 
	`”r_id_š™Ÿlize
();

220 
FILE
 *
š_f
;

221 
psql_¡©e
 
p¡©e
;

223 if(
ac
 > 1 && !
	`¡rcmp
(
av
[1], "-d")) {

224 
yydebug
 = 1; 
ac
--; 
av
++;

227 
	`mem£t
(&
p¡©e
, 0, (pstate));

228 ià(
	`yyËx_š™_exŒa
(&
p¡©e
, &p¡©e.
sÿÂ”
))

231 if(
ac
 > 1) {

232 if((
š_f
 = 
	`fİ’
(
av
[1], "r")è=ğ
NULL
) {

233 
	`³¼Ü
(
av
[1]);

234 
	`ex™
(1);

236 
f’ame
 = 
av
[1];

238 
f’ame
 = "(stdin)";

239 
š_f
 = 
¡dš
;

242 
	`yy£t_š
(
š_f
, 
p¡©e
.
sÿÂ”
);

253 
Œue
)

255 
şock_t
 
¡¬‰ime
;

256 
şock_t
 
’dtime
;

257 
tÙ®time
;

258 
¡¬‰ime
 = 
	`şock
();

259 
	`šiQu”y
();

260 
cout
<<"\nCARROTS >>\t" ;

261 if(!
	`yy·r£
(
p¡©e
.
sÿÂ”
, &pstate)) {

262 
	`´štf
("SQL…arse worked\n");

265 
	`´štf
("SQL…arse failed\n");

268 
cout
<<
’dl
;

269 
	`doQu”y
();

270 
’dtime
 = 
	`şock
();

271 
tÙ®time
=()((
’dtime
-
¡¬‰ime
)/()
CLOCKS_PER_SEC
);

272 
cout
<<"time: "<<
tÙ®time
<<"s"<<
’dl
;

273 
cout
<<"================================================================================"<<
’dl
;

276 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/parser/exec.c

2 
	~<¡dio.h
>

3 
	~<¡dlib.h
>

4 
	~<uni¡d.h
>

5 
	~<¡ršg.h
>

6 
	~"sql.b.h
"

7 
	~"sql-·r£r.h
"

8 
	~"·r£r.h
"

9 
	~"../glob®.h
"

10 
	~"../commÚ.h
"

12 cÚ¡ *
	g©Œ_Çmes
[] = {

13 [
SCA_NOTNULL
] = "SCA_NOTNULL",

14 [
SCA_DEF_STR
] = "SCA_DEF_STR",

15 [
SCA_DEF_NUM
] = "SCA_DEF_NUM",

16 [
SCA_DEF_FLOAT
] = "SCA_DEF_FLOAT",

17 [
SCA_DEF_BOOL
] = "SCA_DEF_BOOL",

18 [
SCA_AUTOINC
] = "SCA_AUTOINC",

19 [
SCA_UNIQUE_KEY
] = "SCA_UNIQUE_KEY",

20 [
SCA_PRIMARY_KEY
] = "SCA_PRIMARY_KEY",

21 [
SCA_COMMENT
] = "SCA_COMMENT",

24 cÚ¡ *
	gİ_Çmes
[] = {

25 [
SEO_ADD
] = "SEO_ADD",

26 [
SEO_SUB
] = "SEO_SUB",

27 [
SEO_MUL
] = "SEO_MUL",

28 [
SEO_DIV
] = "SEO_DIV",

29 [
SEO_MOD
] = "SEO_MOD",

30 [
SEO_NEG
] = "SEO_NEG",

31 [
SEO_AND
] = "SEO_AND",

32 [
SEO_OR
] = "SEO_OR",

33 [
SEO_XOR
] = "SEO_XOR",

34 [
SEO_BITOR
] = "SEO_BITOR",

35 [
SEO_BITAND
] = "SEO_BITAND",

36 [
SEO_BITXOR
] = "SEO_BITXOR",

37 [
SEO_SHIFT
] = "SEO_SHIFT",

38 [
SEO_NOT
] = "SEO_NOT",

39 [
SEO_ASSIGN
] = "SEO_ASSIGN",

40 [
SEO_IS_NULL
] = "SEO_IS_NULL",

41 [
SEO_SHR
] = "SEO_SHR",

42 [
SEO_SHL
] = "SEO_SHL",

43 [
SEO_BETWEEN
] = "SEO_BETWEEN",

44 [
SEO_EXISTS
] = "SEO_EXISTS",

45 [
SEO_IN_SELECT
] = "SEO_IN_SELECT",

46 [
SEO_LIKE
] = "SEO_LIKE",

47 [
SEO_REGEX
] = "SEO_REGEX",

48 [
SEO_STRTOBIN
] = "SEO_STRTOBIN",

51 cÚ¡ *
	gš‹rv®_Çmes
[] = {

52 [
SDI_DAY_HOUR
] = "SDI_DAY_HOUR",

53 [
SDI_DAY_MICROSECOND
] = "SDI_DAY_MICROSECOND",

54 [
SDI_DAY_MINUTE
] = "SDI_DAY_MINUTE",

55 [
SDI_DAY_SECOND
] = "SDI_DAY_SECOND",

56 [
SDI_YEAR_MONTH
] = "SDI_YEAR_MONTH",

57 [
SDI_YEAR
] = "SDI_YEAR",

58 [
SDI_HOUR_MICROSECOND
] = "SDI_HOUR_MICROSECOND",

59 [
SDI_HOUR_MINUTE
] = "SDI_HOUR_MINUTE",

60 [
SDI_HOUR_SECOND
] = "SDI_HOUR_SECOND",

63 
	$»moveFœ¡AndLa¡
(*
des
, *
¤c
)

65 
i
 = 1; i < 
	`¡¾’
(
¤c
)-1; i++)

67 
des
[
i
-1] = 
¤c
[i];

69 
des
[
	`¡¾’
(
¤c
)-1] = '\0';

70 
	}
}

72 
	$sqÍ_®Ÿs
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
®Ÿs
)

74 
	`´štf
("exeøALIAS %s\n", 
®Ÿs
);

75 
	}
}

77 
	$sqÍ_assign
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
db_Çme
, cÚ¡ *
Çme
)

79 
	`¡rıy
(
uw
.
assWh”e
[uw.
assCursÜ
],
Çme
);

80 
uw
.
assTy³
[uw.
assCursÜ
] = 26;

81 
uw
.
assCursÜ
 ++ ;

82 
uw
.
ass
 = 1;

84 
	`´štf
("exec ASSIGN %s%s%s\n",

85 
db_Çme
 ? db_name : "",

86 
db_Çme
 ? "." : "",

87 
Çme
);

88 
	}
}

90 
	$sqÍ_assign_©
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
)

92 
	`´štf
("exeøASSIGN-AT %s\n", 
Çme
);

93 
	}
}

95 
	$sqÍ_boŞ
(
psql_¡©e
 *
p¡©e
, 
v®
)

97 
	`´štf
("exeøBOOL %d\n", 
v®
);

98 
	}
}

100 
	$sqÍ_ÿÎ
(
psql_¡©e
 *
p¡©e
, 
n_¬gs
, cÚ¡ *
Çme
)

102 
	`´štf
("exeøCALL %d %s\n", 
n_¬gs
, 
Çme
);

103 
	}
}

105 
	$sqÍ_ÿÎ_d©e
(
psql_¡©e
 *
p¡©e
, 
n_¬gs
, 
sqÍ_ex´_İs
 
İ
)

107 
	`´štf
("exec CALL %d DATE %s\n",

108 
n_¬gs
,

109 
İ
 =ğ
SEO_ADD
 ? "ADD" : "SUB");

110 
	}
}

112 
	$sqÍ_ÿÎ_Œim_İts
(
psql_¡©e
 *
p¡©e
, 
Œim_İts
)

114 
	`´štf
("exeøCALL TRIM OPTS %d\n", 
Œim_İts
);

115 
	}
}

117 
	$sqÍ_ÿ£
(
psql_¡©e
 *
p¡©e
, 
n_li¡
, 
have_–£
)

119 
	`´štf
("exeøCASE %d %d\n", 
n_li¡
, 
have_–£
);

120 
	}
}

122 
	$sqÍ_ÿ£v®
(
psql_¡©e
 *
p¡©e
, 
n_li¡
, 
have_–£
)

124 
	`´štf
("exeøCASEVAL %d %d\n", 
n_li¡
, 
have_–£
);

125 
	}
}

127 
	$sqÍ_cŞ_©Œ
(
psql_¡©e
 *
p¡©e
, 
sqÍ_cŞ_©Œibs
 
©Œ
)

129 
	`´štf
("exeøATTR %s\n", 
©Œ_Çmes
[
©Œ
]);

130 
	}
}

132 
	$sqÍ_cŞ_©Œ_uniq
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
)

134 
	`´štf
("exeøATTR UNIQUE-KEY %d\n", 
n_cŞs
);

135 
	}
}

137 
	$sqÍ_cŞ_©Œ_comm
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
comm
)

139 
	`´štf
("exeøATTR COMMENT %s\n", 
comm
);

140 
	}
}

142 
	$sqÍ_cŞ_ch¬£t
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
ch¬£t
)

144 
	`´štf
("exeøATTR CHARSET %s\n", 
ch¬£t
);

145 
	}
}

147 
	$sqÍ_cŞ_cŞÏ‹
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
cŞÏ‹
)

149 
	`´štf
("exeøATTR COLLATE %s\n", 
cŞÏ‹
);

150 
	}
}

152 
	$sqÍ_cŞ_def_¡r
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
¡r
)

154 
	`´štf
("exeøATTR DEFAULT-STR %s\n", 
¡r
);

155 
	}
}

157 
	$sqÍ_cŞ_def_num
(
psql_¡©e
 *
p¡©e
, 
num
)

159 
	`´štf
("exeøATTR DEFAULT-NUM %d\n", 
num
);

160 
	}
}

162 
	$sqÍ_cŞ_def_æßt
(
psql_¡©e
 *
p¡©e
, 
num
)

164 
	`´štf
("exeøATTR DEFAULT-FLOAT %g\n", 
num
);

165 
	}
}

167 
	$sqÍ_cŞ_def_boŞ
(
psql_¡©e
 *
p¡©e
, 
boŞ
)

169 
	`´štf
("exeøATTR DEFAULT-BOOL %d\n", 
boŞ
);

170 
	}
}

172 
	$sqÍ_cŞ_key_´i
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
)

174 
	`´štf
("exeøKEY-PRI %d\n", 
n_cŞs
);

175 
	}
}

177 
	$sqÍ_cŞ_key
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
)

179 
	`´štf
("exeøKEY %d\n", 
n_cŞs
);

180 
	}
}

182 
	$sqÍ_cŞ_key_‹xtidx
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
)

184 
	`´štf
("exeøKEY-TEXTIDX %d\n", 
n_cŞs
);

185 
	}
}

187 
	$sqÍ_cŞumn
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
)

189 
	`´štf
("exeøCOLUMN %s\n", 
Çme
);

190 
	}
}

192 
	$sqÍ_ü—‹_db
(
psql_¡©e
 *
p¡©e
, 
if_Ã
, cÚ¡ *
Çme
)

194 
	`´štf
("exeøCREATE-DB %d %s\n", 
if_Ã
, 
Çme
);

195 
	}
}

197 
	$sqÍ_ü—‹_£l
(
psql_¡©e
 *
p¡©e
, 
ignÜe_»¶aû
)

199 
	`´štf
("exeøCREATE-SELECT %d\n", 
ignÜe_»¶aû
);

200 
	}
}

202 
	$sqÍ_ü—‹_tbl
(
psql_¡©e
 *
p¡©e
, 
‹mp
, 
if_n_exi¡s
, 
n_cŞs
,

203 cÚ¡ *
db_Çme
, cÚ¡ *
Çme
)

205 
qu”yT»e
.
qu”y_ty³
 = 1;

206 
	`¡rıy
(
qu”yT»e
.
bËLi¡
[qu”yT»e.
äomLi¡Num
].
Çme
,‚ame);

207 
qu”yT»e
.
bËLi¡
[qu”yT»e.
äomLi¡Num
].
f›ldNum
 = 
n_cŞs
;

208 
i
 = 0; i < 
mfcLi¡CursÜ
; i++)

210 
qu”yT»e
.
bËLi¡
[qu”yT»e.
äomLi¡Num
].
mfc_li¡
[
i
].
d©aTy³FÏg
ğ
mfcLi¡
[i].dataTypeFlag;

211 
	`¡rıy
(
qu”yT»e
.
bËLi¡
[qu”yT»e.
äomLi¡Num
].
mfc_li¡
[
i
].
f›ldName
,
mfcLi¡
[i].fieldName);

212 
qu”yT»e
.
bËLi¡
[qu”yT»e.
äomLi¡Num
].
mfc_li¡
[
i
].
Ën
=
mfcLi¡
[i].len;

214 
i
 = 0; i < 
mfLi¡CursÜ
; i ++)

216 
qu”yT»e
.
bËLi¡
[qu”yT»e.
äomLi¡Num
].
mf_li¡
[
i
].
d©aTy³FÏg
ğ
mfLi¡
[i].dataTypeFlag;

217 
	`¡rıy
(
qu”yT»e
.
bËLi¡
[qu”yT»e.
äomLi¡Num
].
mf_li¡
[
i
].
f›ldName
,
mfLi¡
[i].fieldName);

219 
qu”yT»e
.
äomLi¡Num
++;

220 
	`´štf
("exec CREATE-TABLE %d %d %d %s%s%s\n",

221 
‹mp
, 
if_n_exi¡s
, 
n_cŞs
,

222 
db_Çme
 ? db_name : "",

223 
db_Çme
 ? "." : "",

224 
Çme
);

225 
	}
}

227 
	$sqÍ_ü—‹_tbl_£l
(
psql_¡©e
 *
p¡©e
, 
‹mp
, 
if_n_exi¡s
, 
n_cŞs
,

228 cÚ¡ *
db_Çme
, cÚ¡ *
Çme
)

230 
	`´štf
("exec CREATE-TABLE-SELECT %d %d %d %s%s%s\n",

231 
‹mp
, 
if_n_exi¡s
, 
n_cŞs
,

232 
db_Çme
 ? db_name : "",

233 
db_Çme
 ? "." : "",

234 
Çme
);

235 
	}
}

237 
	$sqÍ_d©e_š‹rv®
(
psql_¡©e
 *
p¡©e
, 
sqÍ_d©e_š‹rv®s
 
š‹rv®
)

239 
	`´štf
("exeøDATE-INTERVAL %s\n", 
š‹rv®_Çmes
[
š‹rv®
]);

240 
	}
}

242 
	$sqÍ_def_cŞ
(
psql_¡©e
 *
p¡©e
, 
æags
, cÚ¡ *
Çme
)

244 
By‹
 
d©aTy³FÏg
;

245 
ko
 = 0;

246 
hun
 = 0;

247 
isCh¬
 = 0;

248 
ko
 = 
æags
/1000;

249 
hun
 = 
æags
%1000;

250 
ko
)

253 
d©aTy³FÏg
 = 0x03;

256 
d©aTy³FÏg
 = 0x06;

259 
d©aTy³FÏg
 = 0x05;

262 ià(
hun
 == 1)

264 
d©aTy³FÏg
 = 0x7 ;

265 
d©aTy³FÏg
 = 0x01;

266 
hun
 = 16;

267 
isCh¬
 = 1;

271 
d©aTy³FÏg
 = 0x01;

272 
isCh¬
 = 1;

275 
d©aTy³FÏg
 = 0x02;

276 
isCh¬
 = 1;

281 if(
isCh¬
)

283 
mfcLi¡
[
mfcLi¡CursÜ
].
d©aTy³FÏg
 = dataTypeFlag;

284 
	`¡rıy
(
mfcLi¡
[
mfcLi¡CursÜ
].
f›ldName
,
Çme
);

285 
mfcLi¡
[
mfcLi¡CursÜ
].
Ën
 = 
hun
;

286 
mfcLi¡CursÜ
++;

289 
mfLi¡
[
mfLi¡CursÜ
].
d©aTy³FÏg
 = dataTypeFlag;

290 
	`¡rıy
(
mfLi¡
[
mfLi¡CursÜ
].
f›ldName
,
Çme
);

291 
mfLi¡CursÜ
 ++;

293 
	`´štf
("exeøDEFINE-COL %d %s\n", 
æags
, 
Çme
);

294 
	}
}

296 
	$sqÍ_d–‘e
(
psql_¡©e
 *
p¡©e
, 
İts
, cÚ¡ *
Çme
)

298 
qu”yT»e
.
qu”y_ty³
 = 5;

299 
	`¡rıy
(
dw
.
bËName
, 
Çme
);

301 
	`´štf
("exeøDELETE %d %s\n", 
İts
, 
Çme
);

302 
	}
}

304 
	$sqÍ_d–‘e_muÉi
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_d–
, 
n_tbl_»f
)

306 
	`´štf
("exeøDELETE-MULTI %d %d %d\n", 
İts
, 
n_d–
, 
n_tbl_»f
);

307 
	}
}

309 
	$sqÍ_drİ_db
(
psql_¡©e
 *
p¡©e
, 
if_exi¡s
, cÚ¡ *
Çme
)

311 
	`´štf
("exeøDROP-DB %d %s\n", 
if_exi¡s
, 
Çme
);

312 
	}
}

314 
	$sqÍ_drİ_bË
(
psql_¡©e
 *
p¡©e
, 
‹mp
, 
if_exi¡s
, 
n_bËs
)

316 
qu”yT»e
.
qu”y_ty³
 = 2;

317 
	`´štf
("exeøDROP-TABLE %d %d %d\n", 
‹mp
, 
if_exi¡s
, 
n_bËs
);

318 
	}
}

320 
	$sqÍ_’um_v®
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
v®
)

322 
	`´štf
("exeøENUM-VAL %s\n", 
v®
);

323 
	}
}

325 
	$sqÍ_ex´_cmp
(
psql_¡©e
 *
p¡©e
, 
comp
)

327 
cmp
[64];

328 
comp
)

331 
	`¡rÿt
(
cmp
,"<");

332 
dw
.
ty³
[dw.
wh”eCursÜ
] = 12;

333 
uw
.
ty³
[uw.
wh”eCursÜ
] = 12;

334 
sw
.
ty³
[sw.
wh”eCursÜ
] = 12;

335 
jw
.
ty³
[jw.
wh”eCursÜ
] = 12;

338 
	`¡rÿt
(
cmp
,">");

339 
dw
.
ty³
[dw.
wh”eCursÜ
] = 13;

340 
uw
.
ty³
[uw.
wh”eCursÜ
] = 13;

341 
sw
.
ty³
[sw.
wh”eCursÜ
] = 13;

342 
jw
.
ty³
[jw.
wh”eCursÜ
] = 13;

345 
	`¡rÿt
(
cmp
,"!=");

346 
dw
.
ty³
[dw.
wh”eCursÜ
] = 14;

347 
uw
.
ty³
[uw.
wh”eCursÜ
] = 14;

348 
sw
.
ty³
[sw.
wh”eCursÜ
] = 14;

349 
jw
.
ty³
[jw.
wh”eCursÜ
] = 14;

352 
	`¡rÿt
(
cmp
,"=");

353 
dw
.
ty³
[dw.
wh”eCursÜ
] = 15;

354 
uw
.
ty³
[uw.
wh”eCursÜ
] = 15;

355 
sw
.
ty³
[sw.
wh”eCursÜ
]= 15;

356 
jw
.
ty³
[jw.
wh”eCursÜ
] = 15;

359 
	`¡rÿt
(
cmp
, "<=");

360 
dw
.
ty³
[dw.
wh”eCursÜ
] = 24;

361 
uw
.
ty³
[uw.
wh”eCursÜ
] = 24;

362 
sw
.
ty³
[sw.
wh”eCursÜ
] = 24;

363 
jw
.
ty³
[jw.
wh”eCursÜ
] = 24;

366 
	`¡rÿt
(
cmp
, ">=");

367 
dw
.
ty³
[dw.
wh”eCursÜ
] = 25;

368 
uw
.
ty³
[uw.
wh”eCursÜ
] = 25;

369 
sw
.
ty³
[sw.
wh”eCursÜ
] = 25;

370 
jw
.
ty³
[jw.
wh”eCursÜ
] = 25;

375 
	`¡rıy
(
dw
.
wh”e
[dw.
wh”eCursÜ
],
cmp
);

376 
dw
.
wh”eCursÜ
++;

378 
	`¡rıy
(
uw
.
wh”e
[uw.
wh”eCursÜ
],
cmp
);

379 
uw
.
wh”eCursÜ
++;

381 
	`¡rıy
(
sw
.
wh”e
[sw.
wh”eCursÜ
],
cmp
);

382 
sw
.
wh”eCursÜ
++;

384 
	`¡rıy
(
jw
.
wh”e
[jw.
wh”eCursÜ
], 
cmp
);

385 
jw
.
wh”eCursÜ
 ++;

387 
	`´štf
("exeøCMP %d\n", 
comp
);

388 
	}
}

390 
	$sqÍ_ex´_is_boŞ
(
psql_¡©e
 *
p¡©e
, 
v®
)

392 
	`´štf
("exeøEXPR-IS-BOOL %d\n", 
v®
);

393 
	}
}

395 
	$sqÍ_ex´_is_š
(
psql_¡©e
 *
p¡©e
, 
v®
)

397 
	`´štf
("exeøEXPR-IS-IN %d\n", 
v®
);

398 
	}
}

400 
	$sqÍ_ex´_İ
(
psql_¡©e
 *
p¡©e
, 
sqÍ_ex´_İs
 
İ
)

402 
	`¡rıy
(
dw
.
wh”e
[dw.
wh”eCursÜ
], 
İ_Çmes
[
İ
]);

403 
İ
)

405 
SEO_ADD
:

406 
dw
.
ty³
[dw.
wh”eCursÜ
] = 4;

408 
SEO_SUB
:

409 
dw
.
ty³
[dw.
wh”eCursÜ
] = 5;

411 
SEO_MUL
:

412 
dw
.
ty³
[dw.
wh”eCursÜ
] = 6;

414 
SEO_DIV
:

415 
dw
.
ty³
[dw.
wh”eCursÜ
] = 7;

417 
SEO_MOD
:

418 
dw
.
ty³
[dw.
wh”eCursÜ
] = 8;

420 
SEO_AND
:

421 
dw
.
ty³
[dw.
wh”eCursÜ
] = 9;

423 
SEO_OR
:

424 
dw
.
ty³
[dw.
wh”eCursÜ
] = 10;

426 
SEO_NEG
:

427 
dw
.
ty³
[dw.
wh”eCursÜ
] = 16;

429 
SEO_XOR
:

430 
dw
.
ty³
[dw.
wh”eCursÜ
] = 17;

432 
SEO_NOT
:

433 
dw
.
ty³
[dw.
wh”eCursÜ
] = 18;

435 
SEO_LIKE
:

436 
dw
.
ty³
[dw.
wh”eCursÜ
] = 19;

438 
SEO_EXISTS
:

439 
dw
.
ty³
[dw.
wh”eCursÜ
] = 20;

441 
SEO_IN_SELECT
:

442 
dw
.
ty³
[dw.
wh”eCursÜ
] = 21;

444 
SEO_BETWEEN
:

445 
dw
.
ty³
[dw.
wh”eCursÜ
] = 22;

447 
SEO_IS_NULL
:

448 
dw
.
ty³
[dw.
wh”eCursÜ
] = 23;

450 
SEO_REGEX
:

451 
dw
.
ty³
[dw.
wh”eCursÜ
] = 24;

456 
dw
.
wh”eCursÜ
++;

458 if(
uw
.
ass
 == 1)

460 
	`¡rıy
(
uw
.
wh”e
[uw.
wh”eCursÜ
], 
İ_Çmes
[
İ
]);

461 
İ
)

463 
SEO_ADD
:

464 
uw
.
ty³
[uw.
wh”eCursÜ
] = 4;

466 
SEO_SUB
:

467 
uw
.
ty³
[uw.
wh”eCursÜ
] = 5;

469 
SEO_MUL
:

470 
uw
.
ty³
[uw.
wh”eCursÜ
] = 6;

472 
SEO_DIV
:

473 
uw
.
ty³
[uw.
wh”eCursÜ
] = 7;

475 
SEO_MOD
:

476 
uw
.
ty³
[uw.
wh”eCursÜ
] = 8;

478 
SEO_AND
:

479 
uw
.
ty³
[uw.
wh”eCursÜ
] = 9;

481 
SEO_OR
:

482 
uw
.
ty³
[uw.
wh”eCursÜ
] = 10;

484 
SEO_NEG
:

485 
uw
.
ty³
[uw.
wh”eCursÜ
] = 16;

487 
SEO_XOR
:

488 
uw
.
ty³
[uw.
wh”eCursÜ
] = 17;

490 
SEO_NOT
:

491 
uw
.
ty³
[uw.
wh”eCursÜ
] = 18;

493 
SEO_LIKE
:

494 
uw
.
ty³
[uw.
wh”eCursÜ
] = 19;

496 
SEO_EXISTS
:

497 
uw
.
ty³
[uw.
wh”eCursÜ
] = 20;

499 
SEO_IN_SELECT
:

500 
uw
.
ty³
[uw.
wh”eCursÜ
] = 21;

502 
SEO_BETWEEN
:

503 
uw
.
ty³
[uw.
wh”eCursÜ
] = 22;

505 
SEO_IS_NULL
:

506 
uw
.
ty³
[uw.
wh”eCursÜ
] = 23;

508 
SEO_REGEX
:

509 
uw
.
ty³
[uw.
wh”eCursÜ
] = 24;

514 
uw
.
wh”eCursÜ
++;

517 if(
sw
.
isProj
 == 1)

519 
	`¡rıy
(
sw
.
wh”e
[sw.
wh”eCursÜ
], 
İ_Çmes
[
İ
]);

520 
İ
)

522 
SEO_ADD
:

523 
sw
.
ty³
[sw.
wh”eCursÜ
] = 4;

525 
SEO_SUB
:

526 
sw
.
ty³
[sw.
wh”eCursÜ
] = 5;

528 
SEO_MUL
:

529 
sw
.
ty³
[sw.
wh”eCursÜ
] = 6;

531 
SEO_DIV
:

532 
sw
.
ty³
[sw.
wh”eCursÜ
] = 7;

534 
SEO_MOD
:

535 
sw
.
ty³
[sw.
wh”eCursÜ
] = 8;

537 
SEO_AND
:

538 
sw
.
ty³
[sw.
wh”eCursÜ
] = 9;

540 
SEO_OR
:

541 
sw
.
ty³
[sw.
wh”eCursÜ
] = 10;

543 
SEO_NEG
:

544 
sw
.
ty³
[sw.
wh”eCursÜ
] = 16;

546 
SEO_XOR
:

547 
sw
.
ty³
[sw.
wh”eCursÜ
] = 17;

549 
SEO_NOT
:

550 
sw
.
ty³
[sw.
wh”eCursÜ
] = 18;

552 
SEO_LIKE
:

553 
sw
.
ty³
[sw.
wh”eCursÜ
] = 19;

555 
SEO_EXISTS
:

556 
sw
.
ty³
[sw.
wh”eCursÜ
] = 20;

558 
SEO_IN_SELECT
:

559 
sw
.
ty³
[sw.
wh”eCursÜ
] = 21;

561 
SEO_BETWEEN
:

562 
sw
.
ty³
[sw.
wh”eCursÜ
] = 22;

564 
SEO_IS_NULL
:

565 
sw
.
ty³
[sw.
wh”eCursÜ
] = 23;

567 
SEO_REGEX
:

568 
sw
.
ty³
[sw.
wh”eCursÜ
] = 24;

573 
sw
.
wh”eCursÜ
++;

576 if(
jw
.
isProj
 == 1)

578 
	`¡rıy
(
jw
.
wh”e
[jw.
wh”eCursÜ
], 
İ_Çmes
[
İ
]);

579 
İ
)

581 
SEO_ADD
:

582 
jw
.
ty³
[jw.
wh”eCursÜ
] = 4;

584 
SEO_SUB
:

585 
jw
.
ty³
[jw.
wh”eCursÜ
] = 5;

587 
SEO_MUL
:

588 
jw
.
ty³
[jw.
wh”eCursÜ
] = 6;

590 
SEO_DIV
:

591 
jw
.
ty³
[jw.
wh”eCursÜ
] = 7;

593 
SEO_MOD
:

594 
jw
.
ty³
[jw.
wh”eCursÜ
] = 8;

596 
SEO_AND
:

597 
jw
.
ty³
[jw.
wh”eCursÜ
] = 9;

599 
SEO_OR
:

600 
jw
.
ty³
[jw.
wh”eCursÜ
] = 10;

602 
SEO_NEG
:

603 
jw
.
ty³
[jw.
wh”eCursÜ
] = 16;

605 
SEO_XOR
:

606 
jw
.
ty³
[jw.
wh”eCursÜ
] = 17;

608 
SEO_NOT
:

609 
jw
.
ty³
[jw.
wh”eCursÜ
] = 18;

611 
SEO_LIKE
:

612 
jw
.
ty³
[jw.
wh”eCursÜ
] = 19;

614 
SEO_EXISTS
:

615 
jw
.
ty³
[jw.
wh”eCursÜ
] = 20;

617 
SEO_IN_SELECT
:

618 
jw
.
ty³
[jw.
wh”eCursÜ
] = 21;

620 
SEO_BETWEEN
:

621 
jw
.
ty³
[jw.
wh”eCursÜ
] = 22;

623 
SEO_IS_NULL
:

624 
jw
.
ty³
[jw.
wh”eCursÜ
] = 23;

626 
SEO_REGEX
:

627 
jw
.
ty³
[jw.
wh”eCursÜ
] = 24;

632 
jw
.
wh”eCursÜ
++;

635 
	`´štf
("exeøEXPR-OP %s\n", 
İ_Çmes
[
İ
]);

636 
	}
}

638 
	$sqÍ_ex´_cmp_£l
(
psql_¡©e
 *
p¡©e
, 
£l_ty³
, 
comp
)

640 
	`´štf
("exeøCMP-SELECT %d %d\n", 
£l_ty³
, 
comp
);

641 
	}
}

643 
	$sqÍ_f›ldÇme
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
db_Çme
, cÚ¡ *
Çme
)

645 if(
jw
.
isProj
 == 0)

647 
	`¡rıy
(
jw
.
f›ldLi¡
[jw.
f›ldNum
], 
db_Çme
);

648 
	`¡rÿt
(
jw
.
f›ldLi¡
[jw.
f›ldNum
],".");

649 
	`¡rÿt
(
jw
.
f›ldLi¡
[jw.
f›ldNum
], 
Çme
);

650 
jw
.
f›ldNum
 ++;

653 
	`¡rıy
(
jw
.
wh”e
[jw.
wh”eCursÜ
], 
db_Çme
);

654 
	`¡rÿt
(
jw
.
wh”e
[jw.
wh”eCursÜ
], ".");

655 
	`¡rÿt
(
jw
.
wh”e
[jw.
wh”eCursÜ
],
Çme
);

656 
jw
.
ty³
[jw.
wh”eCursÜ
] = 0;

657 
jw
.
wh”eCursÜ
 ++;

659 
	`´štf
("exeøFIELD-NAME %s.%s\n", 
db_Çme
, 
Çme
);

660 
	}
}

662 
	$sqÍ_æßt
(
psql_¡©e
 *
p¡©e
, 
v®
)

664 
‰™
.
æßtF›ld
[‰™.
æßtNum
] = 
v®
;

665 
‰™
.
æßtNum
++;

667 
	`¥rštf
(
dw
.
wh”e
[dw.
wh”eCursÜ
], "%f",
v®
);

668 
dw
.
ty³
[dw.
wh”eCursÜ
] = 2;

669 
dw
.
wh”eCursÜ
 ++;

672 if(
uw
.
ass
 == 0){

673 
	`¥rštf
(
uw
.
assWh”e
[uw.
assCursÜ
], "%f", 
v®
);

674 
uw
.
assTy³
[uw.
assCursÜ
] = 2;

675 
uw
.
assCursÜ
 ++;

678 
	`¥rštf
(
uw
.
wh”e
[uw.
wh”eCursÜ
],"%f", 
v®
);

679 
uw
.
ty³
[uw.
wh”eCursÜ
] = 2;

680 
uw
.
wh”eCursÜ
++;

683 if(
sw
.
isProj
 == 1)

685 
	`¥rštf
(
sw
.
wh”e
[sw.
wh”eCursÜ
], "%f", 
v®
);

686 
sw
.
ty³
[sw.
wh”eCursÜ
] = 2;

687 
sw
.
wh”eCursÜ
 ++;

690 
	`´štf
("exeøFLOAT %g\n", 
v®
);

691 
	}
}

693 
	$sqÍ_group_by_li¡
(
psql_¡©e
 *
p¡©e
, 
n_li¡
, 
İts
)

695 
	`´štf
("exeøGROUPBY-LIST %d %d\n", 
n_li¡
, 
İts
);

696 
	}
}

698 
	$sqÍ_group_by
(
psql_¡©e
 *
p¡©e
, 
İts
)

700 
	`´štf
("exeøGROUPBY %d\n", 
İts
);

701 
	}
}

703 
	$sqÍ_havšg
(
psql_¡©e
 *
p¡©e
)

705 
	`´štf
("exec HAVING\n");

706 
	}
}

708 
	$sqÍ_šdex
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
)

710 
	`´štf
("exeøINDEX %s\n", 
Çme
);

711 
	}
}

713 
	$sqÍ_šdex_hšt
(
psql_¡©e
 *
p¡©e
, 
n_šdexed
, 
İts
)

715 
	`´štf
("exeøINDEX-HINT %d %d\n", 
n_šdexed
, 
İts
);

716 
	}
}

718 
	$sqÍ_šs_cŞs
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
)

720 
	`´štf
("exeøINSERT-COLS %d\n", 
n_cŞs
);

721 
	}
}

723 
	$sqÍ_šs_deçuÉ
(
psql_¡©e
 *
p¡©e
)

725 
	`´štf
("exec INSERT-DEFAULT\n");

726 
	}
}

728 
	$sqÍ_šs_dup_upd©e
(
psql_¡©e
 *
p¡©e
, 
n_as¢
)

730 
	`´štf
("exeøINSERT DUP-ONUPDATE %d\n", 
n_as¢
);

731 
	}
}

733 
	$sqÍ_š£¹
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_v®s
, cÚ¡ *
tbl_Çme
)

735 
qu”yT»e
.
qu”y_ty³
 = 3;

736 
‰™
.
f›ldNum
ğ‰™.
štNum
 +t™.
æßtNum
 +t™.
¡ršgNum
;

737 
	`¡rıy
(
‰™
.
bËName
,
tbl_Çme
);

738 
	`´štf
("exeøINSERT %d %d %s\n", 
İts
, 
n_v®s
, 
tbl_Çme
);

739 
	}
}

741 
	$sqÍ_š£¹_as¢
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_as¢
, cÚ¡ *
tbl_Çme
)

743 
	`´štf
("exeøINSERT-ASSN %d %d %s\n", 
İts
, 
n_as¢
, 
tbl_Çme
);

744 
	}
}

746 
	$sqÍ_š£¹_£l
(
psql_¡©e
 *
p¡©e
, 
İts
, cÚ¡ *
tbl_Çme
)

748 
	`´štf
("exeøINSERT-SEL %d %s\n", 
İts
, 
tbl_Çme
);

749 
	}
}

751 
	$sqÍ_što
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
)

753 
	`´štf
("exeøINTO %d\n", 
n_cŞs
);

754 
	}
}

756 
	$sqÍ_još
(
psql_¡©e
 *
p¡©e
, 
İts
)

758 
	`´štf
("exeøJOIN %d\n", 
İts
);

759 
	}
}

761 
	$sqÍ_još_ex´
(
psql_¡©e
 *
p¡©e
)

763 
	`´štf
("exec JOIN-ON EXPR\n");

764 
	}
}

766 
	$sqÍ_još_usšg
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
)

768 
	`´štf
("exeøJOIN-USING %d\n", 
n_cŞs
);

769 
	}
}

771 
	$sqÍ_lim™
(
psql_¡©e
 *
p¡©e
, 
two_ex´
)

773 
	`´štf
("exeøLIMIT %d\n", 
two_ex´
);

774 
	}
}

776 
	$sqÍ_Çme
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
)

778 
	`¡rıy
(
dw
.
wh”e
[dw.
wh”eCursÜ
], 
Çme
);

779 
dw
.
ty³
[dw.
wh”eCursÜ
] = 0;

780 
dw
.
wh”eCursÜ
++;

782 if(
uw
.
ass
 == 1)

784 
	`¡rıy
(
uw
.
wh”e
[uw.
wh”eCursÜ
], 
Çme
);

785 
uw
.
ty³
[uw.
wh”eCursÜ
] = 0;

786 
uw
.
wh”eCursÜ
++;

789 if(
sw
.
isProj
 == 0)

791 
	`¡rıy
(
sw
.
f›ldLi¡
[sw.
f›ldNum
], 
Çme
);

792 
sw
.
f›ldNum
++;

795 
	`¡rıy
(
sw
.
wh”e
[sw.
wh”eCursÜ
],
Çme
);

796 
sw
.
ty³
[sw.
wh”eCursÜ
] = 0;

797 
sw
.
wh”eCursÜ
++;

800 
	`´štf
("exeøNAME %s\n", 
Çme
);

801 
	}
}

803 
	$sqÍ_now
(
psql_¡©e
 *
p¡©e
)

805 
	`´štf
("exec NOW\n");

806 
	}
}

808 
	$sqÍ_numb”
(
psql_¡©e
 *
p¡©e
, 
v®
)

810 
‰™
.
štF›ld
[‰™.
štNum
] = 
v®
;

811 
‰™
.
štNum
++;

813 
	`¥rštf
(
dw
.
wh”e
[dw.
wh”eCursÜ
],"%d", 
v®
);

814 
dw
.
ty³
[dw.
wh”eCursÜ
] = 1;

815 
dw
.
wh”eCursÜ
++;

817 if(
uw
.
ass
 == 0){

818 
	`¥rštf
(
uw
.
assWh”e
[uw.
assCursÜ
], "%d", 
v®
);

819 
uw
.
assTy³
[uw.
assCursÜ
] = 1;

820 
uw
.
assCursÜ
 ++;

823 
	`¥rštf
(
uw
.
wh”e
[uw.
wh”eCursÜ
],"%d", 
v®
);

824 
uw
.
ty³
[uw.
wh”eCursÜ
] = 1;

825 
uw
.
wh”eCursÜ
++;

828 if(
sw
.
isProj
 == 1)

830 
	`¥rštf
(
sw
.
wh”e
[sw.
wh”eCursÜ
], "%d", 
v®
);

831 
sw
.
ty³
[sw.
wh”eCursÜ
] = 1;

832 
sw
.
wh”eCursÜ
 ++;

835 
	`´štf
("exeøINT/NUMBER %d\n", 
v®
);

836 
	}
}

838 
	$sqÍ_Üd”_by
(
psql_¡©e
 *
p¡©e
, 
n_li¡
)

840 
	`´štf
("exeøORDER-BY %d\n", 
n_li¡
);

841 
	}
}

843 
	$sqÍ_»¶aû_as¢
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_as¢
, cÚ¡ *
Çme
)

845 
	`´štf
("exeøREPLACE-ASSN %d %d %s\n", 
İts
, 
n_as¢
, 
Çme
);

846 
	}
}

848 
	$sqÍ_»¶aû_v®s
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_v®s
, cÚ¡ *
Çme
)

850 
	`´štf
("exeøREPLACE-VALS %d %d %s\n", 
İts
, 
n_v®s
, 
Çme
);

851 
	}
}

853 
	$sqÍ_»¶aû_£l
(
psql_¡©e
 *
p¡©e
, 
İts
, cÚ¡ *
Çme
)

855 
	`´štf
("exeøREPLACE-SEL %d %s\n", 
İts
, 
Çme
);

856 
	}
}

858 
	$sqÍ_£Ëù
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_ex´
, 
n_tbl_»f
)

860 
qu”yT»e
.
qu”y_ty³
 = 6;

861 if(
n_tbl_»f
>1)

863 
qu”yT»e
.
qu”y_ty³
 = 7;

865 
	`´štf
("exeøSELECT %d %d %d\n", 
İts
, 
n_ex´
, 
n_tbl_»f
);

867 
	}
}

869 
	$sqÍ_£Ëù_nod©a
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_ex´
)

871 
	`´štf
("exeøSELECT-NODATA %d %d\n", 
İts
, 
n_ex´
);

872 
	}
}

874 
	$sqÍ_£Ëù_®l
(
psql_¡©e
 *
p¡©e
)

876 
sw
.
isAÎ
 = 1;

877 
jw
.
isAÎ
 = 1;

878 
	`´štf
("exec SELECT-ALL\n");

879 
	}
}

881 
	$sqÍ_£t
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
)

883 
	`´štf
("exeøSET %s\n", 
Çme
);

884 
	}
}

886 
	$sqÍ_¡¬t_cŞ
(
psql_¡©e
 *
p¡©e
)

888 
	`´štf
("exec START-COL\n");

889 
	}
}

891 
	$sqÍ_¡mt
(
psql_¡©e
 *
p¡©e
)

893 
	`´štf
("exec STMT\n");

895 
	}
}

897 
	$sqÍ_¡ršg
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
¡r
)

900 
	`»moveFœ¡AndLa¡
(
‰™
.
¡ršgF›ld
[‰™.
¡ršgNum
],
¡r
);

903 
‰™
.
¡ršgNum
++;

905 
	`»moveFœ¡AndLa¡
(
dw
.
wh”e
[dw.
wh”eCursÜ
],
¡r
);

906 
dw
.
ty³
[dw.
wh”eCursÜ
] = 3;

907 
dw
.
wh”eCursÜ
++;

910 if(
uw
.
ass
 == 0){

911 
	`»moveFœ¡AndLa¡
(
uw
.
assWh”e
[uw.
assCursÜ
], 
¡r
);

912 
uw
.
assTy³
[uw.
assCursÜ
] = 3;

913 
uw
.
assCursÜ
 ++;

916 
	`»moveFœ¡AndLa¡
(
uw
.
wh”e
[uw.
wh”eCursÜ
], 
¡r
);

917 
uw
.
ty³
[uw.
wh”eCursÜ
] = 3;

918 
uw
.
wh”eCursÜ
++;

921 if(
sw
.
isProj
 == 1)

923 
	`»moveFœ¡AndLa¡
(
sw
.
wh”e
[sw.
wh”eCursÜ
],
¡r
);

924 
sw
.
ty³
[sw.
wh”eCursÜ
] = 3;

925 
sw
.
wh”eCursÜ
 ++;

928 
	`´štf
("exeøSTRING %s\n", 
¡r
);

929 
	}
}

931 
	$sqÍ_subqu”y
(
psql_¡©e
 *
p¡©e
)

933 
	`´štf
("exec SUBQUERY\n");

934 
	}
}

936 
	$sqÍ_subqu”y_as
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
)

938 
	`´štf
("exeøSUBQUERY-AS %s\n", 
Çme
);

939 
	}
}

941 
	$sqÍ_bË
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
db_Çme
, cÚ¡ *
Çme
)

943 
dœ
[64] = "workspace/";

944 
	`¡rÿt
(
dœ
,
Çme
);

945 
	`¡rÿt
(
dœ
,".tb");

946 
ùå
.
cu¼’tFp
 = 
	`fİ’
(
dœ
,"r");

947 
	`¡rıy
(
ùå
.
Çme
, 
dœ
);

949 
	`¡rıy
(
uw
.
bËName
,
dœ
);

951 
	`¡rıy
(
sw
.
bËName
,
dœ
);

952 
sw
.
isProj
 = 1;

955 
	`¡rıy
(
jw
.
bËLi¡
[jw.
bËCursÜ
],
Çme
);

956 
jw
.
bËCursÜ
 ++;

957 
jw
.
isProj
 = 1;

968 
	`´štf
("exec TABLE %s%s%s\n",

969 
db_Çme
 ? db_name : "",

970 
db_Çme
 ? "." : "",

971 
Çme
);

972 
	}
}

974 
	$sqÍ_bË_»fs
(
psql_¡©e
 *
p¡©e
, 
n_»fs
)

976 
	`´štf
("exeøTABLE-REFERENCES %d\n", 
n_»fs
);

977 
	}
}

979 
	$sqÍ_upd©e
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_tbl_»f
, 
n_as¢
)

981 
qu”yT»e
.
qu”y_ty³
 = 4;

982 
	`´štf
("exeøUPDATE %d %d %d\n", 
İts
, 
n_tbl_»f
, 
n_as¢
);

983 
	}
}

985 
	$sqÍ_u£rv¬
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
¡r
)

987 
	`´štf
("exeøUSER-VAR %s\n", 
¡r
);

988 
	}
}

990 
	$sqÍ_v®ues
(
psql_¡©e
 *
p¡©e
, 
n_v®s
)

992 
	`´štf
("exeøVALUES %d\n", 
n_v®s
);

993 
	}
}

995 
	$sqÍ_wh”e
(
psql_¡©e
 *
p¡©e
)

997 
	`¡rıy
(
dw
.
wh”e
[dw.
wh”eCursÜ
], "WHERE");

998 
dw
.
ty³
[dw.
wh”eCursÜ
] = 11;

999 
dw
.
wh”eCursÜ
++;

1001 
	`¡rıy
(
uw
.
wh”e
[uw.
wh”eCursÜ
],"WHERE");

1002 
uw
.
ty³
[uw.
wh”eCursÜ
] = 11;

1003 
uw
.
wh”eCursÜ
++;

1005 
	`¡rıy
(
sw
.
wh”e
[sw.
wh”eCursÜ
],"WHERE");

1006 
sw
.
ty³
[sw.
wh”eCursÜ
] = 11;

1007 
sw
.
wh”eCursÜ
++;

1009 
	`¡rıy
(
jw
.
wh”e
[jw.
wh”eCursÜ
], "WHERE");

1010 
jw
.
ty³
[jw.
wh”eCursÜ
] = 11;

1011 
jw
.
wh”eCursÜ
 ++;

1013 
	`´štf
("exec WHERE\n");

1014 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/parser/parser.h

1 #iâdeà
PARSER


2 
	#PARSER


	)

3 
	~"../commÚ.h
"

4 
	#MAX_MFC_LIST
 10

	)

5 
	#MAX_MF_LIST
 10

	)

6 
	#MAX_FROM_LIST
 10

	)

7 
	#MAX_TABLE_LIST
 20

	)

8 
	#MAX_FIELD_NAME_LEN
 64

	)

9 
	#MAX_TABLE_NAME_LEN_PARSER
 64

	)

10 
	#MAX_TYPE_FILED_NUM
 64

	)

11 
	#MAX_CHAR_VARCHAR_LENGTH
 64

	)

12 
	#MAX_WHERE_ITEM_NUM
 64

	)

13 
	#MAX_WHERE_ITEM_LENGTH
 64

	)

24 
	sm‘a_f›ld
{

25 
By‹
 
	md©aTy³FÏg
;

26 
	mf›ldName
[
MAX_FIELD_NAME_LEN
];

27 }
	tm‘a_f›ld
;

29 
	sm‘a_f›ld_ch¬
{

30 
By‹
 
	md©aTy³FÏg
;

31 
	mf›ldName
[
MAX_FIELD_NAME_LEN
];

32 
	mËn
;

33 } 
	tm‘a_f›ld_ch¬
;

35 
	säomLi¡
{

36 
	mÇme
[
MAX_TABLE_NAME_LEN_PARSER
];

37 
	mf›ldNum
;

38 
m‘a_f›ld_ch¬
 
	mmfc_li¡
[
MAX_MFC_LIST
];

39 
m‘a_f›ld
 
	mmf_li¡
[
MAX_MF_LIST
];

40 } 
	täomLi¡
;

53 
	squ”y_Œ“
{

54 
	mqu”y_ty³
;

55 
	mäomLi¡Num
;

56 
äomLi¡
 
	mbËLi¡
[
MAX_FROM_LIST
];

57 } 
	tqu”y_Œ“
;

59 
	scu¼’tTabËFp
{

60 
FILE
 * 
	mcu¼’tFp
;

61 
	mÇme
[
MAX_TABLE_NAME_LEN_PARSER
];

62 } 
	tcu¼’tTabËFp
;

64 
	s‹mpTu¶e
{

65 
	mf›ldNum
;

66 
	mštNum
;

67 
	mæßtNum
;

68 
	m¡ršgNum
;

69 
	mštF›ld
[
MAX_TYPE_FILED_NUM
];

70 
	mæßtF›ld
[
MAX_TYPE_FILED_NUM
];

71 
	m¡ršgF›ld
[
MAX_TYPE_FILED_NUM
][
MAX_CHAR_VARCHAR_LENGTH
];

72 
	mbËName
[
MAX_TABLE_NAME_LEN_PARSER
];

73 } 
	t‹mpTu¶e
;

76 
	sd–‘eWh”e
{

86 
	mbËName
[
MAX_TABLE_NAME_LEN_PARSER
];

87 
	mwh”e
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

99 
	mty³
[
MAX_WHERE_ITEM_LENGTH
];

100 
	mwh”eCursÜ
;

101 }
	td–‘eWh”e
;

103 
	supd©eWh”e
{

104 
	mbËName
[
MAX_TABLE_NAME_LEN_PARSER
];

105 
	mwh”e
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

117 
	mty³
[
MAX_WHERE_ITEM_LENGTH
];

118 
	mwh”eCursÜ
;

119 
	mass
;

120 
	massWh”e
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

121 
	massTy³
[
MAX_WHERE_ITEM_NUM
];

122 
	massCursÜ
;

123 }
	tupd©eWh”e
;

125 
	s£ËùWh”e
{

126 
	mbËName
[
MAX_TABLE_NAME_LEN_PARSER
];

127 
	mwh”e
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

128 
	mty³
[
MAX_WHERE_ITEM_LENGTH
];

129 
	mwh”eCursÜ
;

130 
	misAÎ
;

132 
	mf›ldLi¡
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

133 
	mf›ldNum
;

134 
	misProj
;

135 }
	t£ËùWh”e
;

137 
	sjošWh”e
{

138 
	mbËLi¡
[
MAX_TABLE_LIST
][
MAX_TABLE_NAME_LEN_PARSER
];

139 
	mbËCursÜ
;

141 
	mf›ldLi¡
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

142 
	mf›ldNum
;

144 
	mwh”e
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

145 
	mty³
[
MAX_WHERE_ITEM_LENGTH
];

146 
	mwh”eCursÜ
;

148 
	misAÎ
;

149 
	misProj
;

151 }
	tjošWh”e
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/parser/sql-parser.h

1 #iâdeà
__SQL_PARSER_H__


2 
	#__SQL_PARSER_H__


	)

4 
	esqÍ_cŞ_©Œibs
 {

5 
	mSCA_NOTNULL
 = (1 << 0),

6 
	mSCA_DEF_STR
 = (1 << 1),

7 
	mSCA_DEF_NUM
 = (1 << 2),

8 
	mSCA_DEF_FLOAT
 = (1 << 3),

9 
	mSCA_DEF_BOOL
 = (1 << 4),

10 
	mSCA_AUTOINC
 = (1 << 5),

11 
	mSCA_UNIQUE_KEY
 = (1 << 6),

12 
	mSCA_PRIMARY_KEY
 = (1 << 7),

13 
	mSCA_COMMENT
 = (1 << 8),

16 
	esqÍ_ex´_İs
 {

17 
	mSEO_ADD
 = 0,

18 
	mSEO_SUB
 = 1,

19 
	mSEO_MUL
 = 2,

20 
	mSEO_DIV
 = 3,

21 
	mSEO_MOD
 = 4,

22 
	mSEO_NEG
 = 5,

23 
	mSEO_AND
 = 6,

24 
	mSEO_OR
 = 7,

25 
	mSEO_XOR
 = 8,

26 
	mSEO_BITOR
 = 9,

27 
	mSEO_BITAND
 = 10,

28 
	mSEO_BITXOR
 = 11,

29 
	mSEO_SHIFT
 = 12,

30 
	mSEO_NOT
 = 13,

31 
	mSEO_ASSIGN
 = 14,

32 
	mSEO_IS_NULL
 = 15,

33 
	mSEO_SHR
 = 16,

34 
	mSEO_SHL
 = 17,

35 
	mSEO_BETWEEN
 = 18,

36 
	mSEO_EXISTS
 = 19,

37 
	mSEO_IN_SELECT
 = 20,

38 
	mSEO_LIKE
 = 21,

39 
	mSEO_REGEX
 = 22,

40 
	mSEO_STRTOBIN
 = 23,

43 
	esqÍ_d©e_š‹rv®s
 {

44 
	mSDI_DAY_HOUR
 = 0,

45 
	mSDI_DAY_MICROSECOND
 = 1,

46 
	mSDI_DAY_MINUTE
 = 2,

47 
	mSDI_DAY_SECOND
 = 3,

48 
	mSDI_YEAR_MONTH
 = 4,

49 
	mSDI_YEAR
 = 5,

50 
	mSDI_HOUR_MICROSECOND
 = 6,

51 
	mSDI_HOUR_MINUTE
 = 7,

52 
	mSDI_HOUR_SECOND
 = 8,

55 
	spsql_¡©e
 {

56 
yysÿn_t
 
	msÿÂ”
;

59 
sqÍ_®Ÿs
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
®Ÿs
);

60 
sqÍ_assign
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
db_Çme
, cÚ¡ *
Çme
);

61 
sqÍ_assign_©
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

62 
sqÍ_boŞ
(
psql_¡©e
 *
p¡©e
, 
v®
);

63 
sqÍ_ÿÎ
(
psql_¡©e
 *
p¡©e
, 
n_¬gs
, cÚ¡ *
Çme
);

64 
sqÍ_ÿÎ_d©e
(
psql_¡©e
 *
p¡©e
, 
n_¬gs
, 
sqÍ_ex´_İs
 
İ
);

65 
sqÍ_ÿÎ_Œim_İts
(
psql_¡©e
 *
p¡©e
, 
Œim_İts
);

66 
sqÍ_ÿ£
(
psql_¡©e
 *
p¡©e
, 
n_li¡
, 
have_–£
);

67 
sqÍ_ÿ£v®
(
psql_¡©e
 *
p¡©e
, 
n_li¡
, 
have_–£
);

68 
sqÍ_cŞ_©Œ
(
psql_¡©e
 *
p¡©e
, 
sqÍ_cŞ_©Œibs
 
©Œ
);

69 
sqÍ_cŞ_©Œ_uniq
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

70 
sqÍ_cŞ_©Œ_comm
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
comm
);

71 
sqÍ_cŞ_ch¬£t
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
ch¬£t
);

72 
sqÍ_cŞ_cŞÏ‹
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
cŞÏ‹
);

73 
sqÍ_cŞ_def_¡r
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
¡r
);

74 
sqÍ_cŞ_def_num
(
psql_¡©e
 *
p¡©e
, 
num
);

75 
sqÍ_cŞ_def_æßt
(
psql_¡©e
 *
p¡©e
, 
num
);

76 
sqÍ_cŞ_def_boŞ
(
psql_¡©e
 *
p¡©e
, 
boŞs
);

77 
sqÍ_cŞ_key_´i
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

78 
sqÍ_cŞ_key
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

79 
sqÍ_cŞ_key_‹xtidx
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

80 
sqÍ_cŞumn
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

81 
sqÍ_ü—‹_db
(
psql_¡©e
 *
p¡©e
, 
if_n_exi¡s
, cÚ¡ *
Çme
);

82 
sqÍ_ü—‹_tbl
(
psql_¡©e
 *
p¡©e
, 
‹mp
, 
if_n_exi¡s
, 
n_cŞs
,

83 cÚ¡ *
db_Çme
, cÚ¡ *
Çme
);

84 
sqÍ_ü—‹_tbl_£l
(
psql_¡©e
 *
p¡©e
, 
‹mp
, 
if_n_exi¡s
, 
n_cŞs
,

85 cÚ¡ *
db_Çme
, cÚ¡ *
Çme
);

86 
sqÍ_ü—‹_£l
(
psql_¡©e
 *
p¡©e
, 
ignÜe_»¶aû
);

87 
sqÍ_d©e_š‹rv®
(
psql_¡©e
 *
p¡©e
, 
sqÍ_d©e_š‹rv®s
 
š‹rv®
);

88 
sqÍ_def_cŞ
(
psql_¡©e
 *
p¡©e
, 
æags
, cÚ¡ *
Çme
);

89 
sqÍ_d–‘e
(
psql_¡©e
 *
p¡©e
, 
İts
, cÚ¡ *
Çme
);

90 
sqÍ_d–‘e_muÉi
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_d–
, 
n_tbl_»f
);

91 
sqÍ_drİ_db
(
psql_¡©e
 *
p¡©e
, 
if_exi¡s
, cÚ¡ *
Çme
);

92 
sqÍ_drİ_bË
(
psql_¡©e
 *
p¡©e
, 
‹mp
, 
if_exi¡s
, 
n_bËs
);

93 
sqÍ_’um_v®
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
v®
);

94 
sqÍ_ex´_İ
(
psql_¡©e
 *
p¡©e
, 
sqÍ_ex´_İs
 
İ
);

95 
sqÍ_ex´_cmp
(
psql_¡©e
 *
p¡©e
, 
comp
);

96 
sqÍ_ex´_cmp_£l
(
psql_¡©e
 *
p¡©e
, 
£l_ty³
, 
comp
);

97 
sqÍ_ex´_is_boŞ
(
psql_¡©e
 *
p¡©e
, 
v®
);

98 
sqÍ_ex´_is_š
(
psql_¡©e
 *
p¡©e
, 
v®
);

99 
sqÍ_f›ldÇme
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
db_Çme
, cÚ¡ *
Çme
);

100 
sqÍ_æßt
(
psql_¡©e
 *
p¡©e
, 
v®
);

101 
sqÍ_group_by_li¡
(
psql_¡©e
 *
p¡©e
, 
n_li¡
, 
İts
);

102 
sqÍ_group_by
(
psql_¡©e
 *
p¡©e
, 
İts
);

103 
sqÍ_havšg
(
psql_¡©e
 *
p¡©e
);

104 
sqÍ_šdex
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

105 
sqÍ_šdex_hšt
(
psql_¡©e
 *
p¡©e
, 
n_šdexed
, 
İts
);

106 
sqÍ_šs_cŞs
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

107 
sqÍ_šs_deçuÉ
(
psql_¡©e
 *
p¡©e
);

108 
sqÍ_šs_dup_upd©e
(
psql_¡©e
 *
p¡©e
, 
n_as¢
);

109 
sqÍ_š£¹
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_v®s
, cÚ¡ *
tbl_Çme
);

110 
sqÍ_š£¹_as¢
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_as¢
, cÚ¡ *
tbl_Çme
);

111 
sqÍ_š£¹_£l
(
psql_¡©e
 *
p¡©e
, 
İts
, cÚ¡ *
tbl_Çme
);

112 
sqÍ_što
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

113 
sqÍ_još
(
psql_¡©e
 *
p¡©e
, 
İts
);

114 
sqÍ_još_ex´
(
psql_¡©e
 *
p¡©e
);

115 
sqÍ_još_usšg
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

116 
sqÍ_lim™
(
psql_¡©e
 *
p¡©e
, 
two_ex´
);

117 
sqÍ_Çme
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

118 
sqÍ_now
(
psql_¡©e
 *
p¡©e
);

119 
sqÍ_numb”
(
psql_¡©e
 *
p¡©e
, 
v®
);

120 
sqÍ_Üd”_by
(
psql_¡©e
 *
p¡©e
, 
n_li¡
);

121 
sqÍ_»¶aû_as¢
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_as¢
, cÚ¡ *
Çme
);

122 
sqÍ_»¶aû_v®s
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_v®s
, cÚ¡ *
Çme
);

123 
sqÍ_»¶aû_£l
(
psql_¡©e
 *
p¡©e
, 
İts
, cÚ¡ *
Çme
);

124 
sqÍ_£Ëù
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_ex´
, 
n_tbl_»f
);

125 
sqÍ_£Ëù_nod©a
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_ex´
);

126 
sqÍ_£Ëù_®l
(
psql_¡©e
 *
p¡©e
);

127 
sqÍ_£t
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

128 
sqÍ_¡¬t_cŞ
(
psql_¡©e
 *
p¡©e
);

129 
sqÍ_¡ršg
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
¡r
);

130 
sqÍ_¡mt
(
psql_¡©e
 *
p¡©e
);

131 
sqÍ_subqu”y
(
psql_¡©e
 *
p¡©e
);

132 
sqÍ_subqu”y_as
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

133 
sqÍ_bË
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
db_Çme
, cÚ¡ *
Çme
);

134 
sqÍ_bË_»fs
(
psql_¡©e
 *
p¡©e
, 
n_»fs
);

135 
sqÍ_upd©e
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_tbl_»f
, 
n_as¢
);

136 
sqÍ_u£rv¬
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
¡r
);

137 
sqÍ_v®ues
(
psql_¡©e
 *
p¡©e
, 
n_v®s
);

138 
sqÍ_wh”e
(
psql_¡©e
 *
p¡©e
);

	@/home/huangwentao/WorkSpaces/carrots/dbms/parser/sql.c

5 
	#YY_INT_ALIGNED
 

	)

9 
	#FLEX_SCANNER


	)

10 
	#YY_FLEX_MAJOR_VERSION
 2

	)

11 
	#YY_FLEX_MINOR_VERSION
 6

	)

12 
	#YY_FLEX_SUBMINOR_VERSION
 0

	)

13 #ià
YY_FLEX_SUBMINOR_VERSION
 > 0

14 
	#FLEX_BETA


	)

20 
	~<¡dio.h
>

21 
	~<¡ršg.h
>

22 
	~<”ºo.h
>

23 
	~<¡dlib.h
>

29 #iâdeà
FLEXINT_H


30 
	#FLEXINT_H


	)

34 #ià
defšed
 (
__STDC_VERSION__
) && __STDC_VERSION__ >= 199901L

39 #iâdeà
__STDC_LIMIT_MACROS


40 
	#__STDC_LIMIT_MACROS
 1

	)

43 
	~<š‰y³s.h
>

44 
št8_t
 
	tæex_št8_t
;

45 
ušt8_t
 
	tæex_ušt8_t
;

46 
št16_t
 
	tæex_št16_t
;

47 
ušt16_t
 
	tæex_ušt16_t
;

48 
št32_t
 
	tæex_št32_t
;

49 
ušt32_t
 
	tæex_ušt32_t
;

51 sigÃd 
	tæex_št8_t
;

52 
	tæex_št16_t
;

53 
	tæex_št32_t
;

54 
	tæex_ušt8_t
;

55 
	tæex_ušt16_t
;

56 
	tæex_ušt32_t
;

59 #iâdeà
INT8_MIN


60 
	#INT8_MIN
 (-128)

	)

62 #iâdeà
INT16_MIN


63 
	#INT16_MIN
 (-32767-1)

	)

65 #iâdeà
INT32_MIN


66 
	#INT32_MIN
 (-2147483647-1)

	)

68 #iâdeà
INT8_MAX


69 
	#INT8_MAX
 (127)

	)

71 #iâdeà
INT16_MAX


72 
	#INT16_MAX
 (32767)

	)

74 #iâdeà
INT32_MAX


75 
	#INT32_MAX
 (2147483647)

	)

77 #iâdeà
UINT8_MAX


78 
	#UINT8_MAX
 (255U)

	)

80 #iâdeà
UINT16_MAX


81 
	#UINT16_MAX
 (65535U)

	)

83 #iâdeà
UINT32_MAX


84 
	#UINT32_MAX
 (4294967295U)

	)

91 #ifdeà
__ılu¥lus


94 
	#YY_USE_CONST


	)

99 #ià
defšed
 (
__STDC__
)

101 
	#YY_USE_CONST


	)

106 #ifdeà
YY_USE_CONST


107 
	#yycÚ¡
 cÚ¡

	)

109 
	#yycÚ¡


	)

113 
	#YY_NULL
 0

	)

120 
	#YY_SC_TO_UI
(
c
è((è(èc)

	)

123 #iâdeà
YY_TYPEDEF_YY_SCANNER_T


124 
	#YY_TYPEDEF_YY_SCANNER_T


	)

125 * 
	tyysÿn_t
;

130 
	#yyš
 
yyg
->
yyš_r


	)

131 
	#yyout
 
yyg
->
yyout_r


	)

132 
	#yyexŒa
 
yyg
->
yyexŒa_r


	)

133 
	#yyËng
 
yyg
->
yyËng_r


	)

134 
	#yy‹xt
 
yyg
->
yy‹xt_r


	)

135 
	#yylš’o
 (
YY_CURRENT_BUFFER_LVALUE
->
yy_bs_lš’o
)

	)

136 
	#yycŞumn
 (
YY_CURRENT_BUFFER_LVALUE
->
yy_bs_cŞumn
)

	)

137 
	#yy_æex_debug
 
yyg
->
yy_æex_debug_r


	)

143 
	#BEGIN
 
yyg
->
yy_¡¬t
 = 1 + 2 *

	)

149 
	#YY_START
 ((
yyg
->
yy_¡¬t
 - 1è/ 2)

	)

150 
	#YYSTATE
 
YY_START


	)

153 
	#YY_STATE_EOF
(
¡©e
è(
YY_END_OF_BUFFER
 + s‹ + 1)

	)

156 
	#YY_NEW_FILE
 
	`yy»¡¬t
(
yyš
 ,
yysÿÂ”
 )

	)

158 
	#YY_END_OF_BUFFER_CHAR
 0

	)

161 #iâdeà
YY_BUF_SIZE


162 #ifdeà
__Ÿ64__


167 
	#YY_BUF_SIZE
 32768

	)

169 
	#YY_BUF_SIZE
 16384

	)

175 
	#YY_STATE_BUF_SIZE
 ((
YY_BUF_SIZE
 + 2è* (
yy_¡©e_ty³
))

	)

177 #iâdeà
YY_TYPEDEF_YY_BUFFER_STATE


178 
	#YY_TYPEDEF_YY_BUFFER_STATE


	)

179 
yy_bufãr_¡©e
 *
	tYY_BUFFER_STATE
;

182 #iâdeà
YY_TYPEDEF_YY_SIZE_T


183 
	#YY_TYPEDEF_YY_SIZE_T


	)

184 
size_t
 
	tyy_size_t
;

187 
	#EOB_ACT_CONTINUE_SCAN
 0

	)

188 
	#EOB_ACT_END_OF_FILE
 1

	)

189 
	#EOB_ACT_LAST_MATCH
 2

	)

198 
	#YY_LESS_LINENO
(
n
) \

200 
yyl
;\

201  
yyl
 = 
n
; yyÈ< 
yyËng
; ++yyl )\

202 iàĞ
yy‹xt
[
yyl
] == '\n' )\

203 --
yylš’o
;\

204 }0)

	)

205 
	#YY_LINENO_REWIND_TO
(
d¡
) \

207 cÚ¡ *
p
;\

208  
p
 = 
yy_ı
-1;… >ğ(
d¡
); --p)\

209 iàĞ*
p
 == '\n' )\

210 --
yylš’o
;\

211 }0)

	)

214 
	#yyËss
(
n
) \

218 
yyËss_maüo_¬g
 = (
n
); \

219 
	`YY_LESS_LINENO
(
yyËss_maüo_¬g
);\

220 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
; \

221 
YY_RESTORE_YY_MORE_OFFSET
 \

222 
yyg
->
yy_c_buf_p
 = 
yy_ı
 = 
yy_bp
 + 
yyËss_maüo_¬g
 - 
YY_MORE_ADJ
; \

223 
YY_DO_BEFORE_ACTION
; \

225  0 )

	)

227 
	#uÅut
(
c
è
	`yyuÅut
Ğc, 
yyg
->
yy‹xt_±r
 , 
yysÿÂ”
 )

	)

229 #iâdeà
YY_STRUCT_YY_BUFFER_STATE


230 
	#YY_STRUCT_YY_BUFFER_STATE


	)

231 
	syy_bufãr_¡©e


233 
FILE
 *
	myy_šput_fe
;

235 *
	myy_ch_buf
;

236 *
	myy_buf_pos
;

241 
yy_size_t
 
	myy_buf_size
;

246 
	myy_n_ch¬s
;

252 
	myy_is_our_bufãr
;

259 
	myy_is_š‹¿ùive
;

265 
	myy_©_bŞ
;

267 
	myy_bs_lš’o
;

268 
	myy_bs_cŞumn
;

273 
	myy_fl_bufãr
;

275 
	myy_bufãr_¡©us
;

277 
	#YY_BUFFER_NEW
 0

	)

278 
	#YY_BUFFER_NORMAL
 1

	)

289 
	#YY_BUFFER_EOF_PENDING
 2

	)

300 
	#YY_CURRENT_BUFFER
 ( 
yyg
->
yy_bufãr_¡ack
 \

301 ? 
yyg
->
yy_bufãr_¡ack
[yyg->
yy_bufãr_¡ack_tİ
] \

302 : 
NULL
)

	)

307 
	#YY_CURRENT_BUFFER_LVALUE
 
yyg
->
yy_bufãr_¡ack
[yyg->
yy_bufãr_¡ack_tİ
]

	)

309 
yy»¡¬t
 (
FILE
 *
šput_fe
 ,
yysÿn_t
 
yysÿÂ”
 );

310 
yy_sw™ch_to_bufãr
 (
YY_BUFFER_STATE
 
Ãw_bufãr
 ,
yysÿn_t
 
yysÿÂ”
 );

311 
YY_BUFFER_STATE
 
yy_ü—‹_bufãr
 (
FILE
 *
fe
,
size
 ,
yysÿn_t
 
yysÿÂ”
 );

312 
yy_d–‘e_bufãr
 (
YY_BUFFER_STATE
 
b
 ,
yysÿn_t
 
yysÿÂ”
 );

313 
yy_æush_bufãr
 (
YY_BUFFER_STATE
 
b
 ,
yysÿn_t
 
yysÿÂ”
 );

314 
yypush_bufãr_¡©e
 (
YY_BUFFER_STATE
 
Ãw_bufãr
 ,
yysÿn_t
 
yysÿÂ”
 );

315 
yypİ_bufãr_¡©e
 (
yysÿn_t
 
yysÿÂ”
 );

317 
yy’su»_bufãr_¡ack
 (
yysÿn_t
 
yysÿÂ”
 );

318 
yy_lßd_bufãr_¡©e
 (
yysÿn_t
 
yysÿÂ”
 );

319 
yy_š™_bufãr
 (
YY_BUFFER_STATE
 
b
,
FILE
 *
fe
 ,
yysÿn_t
 
yysÿÂ”
 );

321 
	#YY_FLUSH_BUFFER
 
	`yy_æush_bufãr
(
YY_CURRENT_BUFFER
 ,
yysÿÂ”
)

	)

323 
YY_BUFFER_STATE
 
yy_sÿn_bufãr
 (*
ba£
,
yy_size_t
 
size
 ,
yysÿn_t
 
yysÿÂ”
 );

324 
YY_BUFFER_STATE
 
yy_sÿn_¡ršg
 (
yycÚ¡
 *
yy_¡r
 ,
yysÿn_t
 
yysÿÂ”
 );

325 
YY_BUFFER_STATE
 
yy_sÿn_by‹s
 (
yycÚ¡
 *
by‹s
,
yy_size_t
 
Ën
 ,
yysÿn_t
 
yysÿÂ”
 );

327 *
yy®loc
 (
yy_size_t
 ,
yysÿn_t
 
yysÿÂ”
 );

328 *
yy»®loc
 (*,
yy_size_t
 ,
yysÿn_t
 
yysÿÂ”
 );

329 
yyä“
 (* ,
yysÿn_t
 
yysÿÂ”
 );

331 
	#yy_Ãw_bufãr
 
yy_ü—‹_bufãr


	)

333 
	#yy_£t_š‹¿ùive
(
is_š‹¿ùive
) \

335 iàĞ! 
YY_CURRENT_BUFFER
 ){ \

336 
	`yy’su»_bufãr_¡ack
 (
yysÿÂ”
); \

337 
YY_CURRENT_BUFFER_LVALUE
 = \

338 
	`yy_ü—‹_bufãr
(
yyš
,
YY_BUF_SIZE
 ,
yysÿÂ”
); \

340 
YY_CURRENT_BUFFER_LVALUE
->
yy_is_š‹¿ùive
 = 
is_š‹¿ùive
; \

341 }

	)

343 
	#yy_£t_bŞ
(
©_bŞ
) \

345 iàĞ! 
YY_CURRENT_BUFFER
 ){\

346 
	`yy’su»_bufãr_¡ack
 (
yysÿÂ”
); \

347 
YY_CURRENT_BUFFER_LVALUE
 = \

348 
	`yy_ü—‹_bufãr
(
yyš
,
YY_BUF_SIZE
 ,
yysÿÂ”
); \

350 
YY_CURRENT_BUFFER_LVALUE
->
yy_©_bŞ
 = 
©_bŞ
; \

351 }

	)

353 
	#YY_AT_BOL
(è(
YY_CURRENT_BUFFER_LVALUE
->
yy_©_bŞ
)

	)

357 
	#yyw¿p
(
yysÿÂ”
èĞ1)

	)

358 
	#YY_SKIP_YYWRAP


	)

360 
	tYY_CHAR
;

362 
	tyy_¡©e_ty³
;

364 
	#yy‹xt_±r
 
yy‹xt_r


	)

366 
yy_¡©e_ty³
 
yy_g‘_´evious_¡©e
 (
yysÿn_t
 
yysÿÂ”
 );

367 
yy_¡©e_ty³
 
yy_Œy_NUL_Œªs
 (yy_¡©e_ty³ 
cu¼’t_¡©e
 ,
yysÿn_t
 
yysÿÂ”
);

368 
yy_g‘_Ãxt_bufãr
 (
yysÿn_t
 
yysÿÂ”
 );

369 #ià
defšed
(
__GNUC__
) && __GNUC__ >= 3

370 
__©Œibu‹__
((
__nÜ‘uº__
))

372 
yy_çl_”rÜ
 (
yycÚ¡
 
msg
[] ,
yysÿn_t
 
yysÿÂ”
 );

377 
	#YY_DO_BEFORE_ACTION
 \

378 
yyg
->
yy‹xt_±r
 = 
yy_bp
; \

379 
yyËng
 = (
size_t
è(
yy_ı
 - 
yy_bp
); \

380 
yyg
->
yy_hŞd_ch¬
 = *
yy_ı
; \

381 *
yy_ı
 = '\0'; \

382 
yyg
->
yy_c_buf_p
 = 
yy_ı
;

	)

384 
	#YY_NUM_RULES
 275

	)

385 
	#YY_END_OF_BUFFER
 276

	)

388 
	syy_Œªs_šfo


390 
æex_št32_t
 
	myy_v”ify
;

391 
æex_št32_t
 
	myy_nxt
;

393 
yycÚ¡
 
æex_št16_t
 
	gyy_acû±
[1194] =

529 
yycÚ¡
 
YY_CHAR
 
	gyy_ec
[256] =

561 
yycÚ¡
 
YY_CHAR
 
	gyy_m‘a
[84] =

574 
yycÚ¡
 
æex_ušt16_t
 
	gyy_ba£
[1214] =

712 
yycÚ¡
 
æex_št16_t
 
	gyy_def
[1214] =

850 
yycÚ¡
 
æex_ušt16_t
 
	gyy_nxt
[2699] =

1151 
yycÚ¡
 
æex_št16_t
 
	gyy_chk
[2699] =

1453 
yycÚ¡
 
æex_št32_t
 
	gyy_ruË_ÿn_m©ch_eŞ
[276] =

1473 
	#REJECT
 
»jeù_u£d_but_nÙ_d‘eùed


	)

1474 
	#yymÜe
(è
yymÜe_u£d_but_nÙ_d‘eùed


	)

1475 
	#YY_MORE_ADJ
 0

	)

1476 
	#YY_RESTORE_YY_MORE_OFFSET


	)

1496 
	~<¡d¬g.h
>

1497 
	~<¡ršg.h
>

1498 
	~"sql.b.h
"

1499 
	~"sql-·r£r.h
"

1507 
yy”rÜ
(
YYLTYPE
 *, 
psql_¡©e
 *
p¡©e
, cÚ¡ *
s
, ...);

1509 
	gŞd¡©e
;

1513 
	gyycŞumn
 = 1;

1516 
	#YY_USER_ACTION
 
yyÎoc
->
f’ame
 = filename; \

1517 
yyÎoc
->
fœ¡_lše
 = yyÎoc->
Ï¡_lše
 = 
yylš’o
; \

1518 
yyÎoc
->
fœ¡_cŞumn
 = 
yycŞumn
; yyÎoc->
Ï¡_cŞumn
 = yycŞumn+
yyËng
-1; \

1519 
yycŞumn
 +ğ
yyËng
;

	)

1526 
	#INITIAL
 0

	)

1527 
	#COMMENT
 1

	)

1528 
	#BTWMODE
 2

	)

1530 #iâdeà
YY_NO_UNISTD_H


1535 
	~<uni¡d.h
>

1538 #iâdeà
YY_EXTRA_TYPE


1539 
	#YY_EXTRA_TYPE
 *

	)

1543 
	syyguts_t


1547 
YY_EXTRA_TYPE
 
	myyexŒa_r
;

1550 
FILE
 *
	myyš_r
, *
	myyout_r
;

1551 
size_t
 
	myy_bufãr_¡ack_tİ
;

1552 
size_t
 
	myy_bufãr_¡ack_max
;

1553 
YY_BUFFER_STATE
 * 
	myy_bufãr_¡ack
;

1554 
	myy_hŞd_ch¬
;

1555 
	myy_n_ch¬s
;

1556 
yy_size_t
 
	myyËng_r
;

1557 *
	myy_c_buf_p
;

1558 
	myy_š™
;

1559 
	myy_¡¬t
;

1560 
	myy_did_bufãr_sw™ch_Ú_eof
;

1561 
	myy_¡¬t_¡ack_±r
;

1562 
	myy_¡¬t_¡ack_d•th
;

1563 *
	myy_¡¬t_¡ack
;

1564 
yy_¡©e_ty³
 
	myy_Ï¡_acû±šg_¡©e
;

1565 * 
	myy_Ï¡_acû±šg_ıos
;

1567 
	myylš’o_r
;

1568 
	myy_æex_debug_r
;

1570 *
	myy‹xt_r
;

1571 
	myy_mÜe_æag
;

1572 
	myy_mÜe_Ën
;

1574 
YYSTYPE
 * 
	myylv®_r
;

1576 
YYLTYPE
 * 
	myyÎoc_r
;

1580 
yy_š™_glob®s
 (
yysÿn_t
 
yysÿÂ”
 );

1584 
	#yylv®
 
yyg
->
yylv®_r


	)

1586 
	#yyÎoc
 
yyg
->
yyÎoc_r


	)

1588 
yyËx_š™
 (
yysÿn_t
* 
sÿÂ”
);

1590 
yyËx_š™_exŒa
 (
YY_EXTRA_TYPE
 
u£r_defšed
,
yysÿn_t
* 
sÿÂ”
);

1595 
yyËx_de¡roy
 (
yysÿn_t
 
yysÿÂ”
 );

1597 
yyg‘_debug
 (
yysÿn_t
 
yysÿÂ”
 );

1599 
yy£t_debug
 (
debug_æag
 ,
yysÿn_t
 
yysÿÂ”
 );

1601 
YY_EXTRA_TYPE
 
yyg‘_exŒa
 (
yysÿn_t
 
yysÿÂ”
 );

1603 
yy£t_exŒa
 (
YY_EXTRA_TYPE
 
u£r_defšed
 ,
yysÿn_t
 
yysÿÂ”
 );

1605 
FILE
 *
yyg‘_š
 (
yysÿn_t
 
yysÿÂ”
 );

1607 
yy£t_š
 (
FILE
 * 
_š_¡r
 ,
yysÿn_t
 
yysÿÂ”
 );

1609 
FILE
 *
yyg‘_out
 (
yysÿn_t
 
yysÿÂ”
 );

1611 
yy£t_out
 (
FILE
 * 
_out_¡r
 ,
yysÿn_t
 
yysÿÂ”
 );

1613 
yy_size_t
 
yyg‘_Ëng
 (
yysÿn_t
 
yysÿÂ”
 );

1615 *
yyg‘_‹xt
 (
yysÿn_t
 
yysÿÂ”
 );

1617 
yyg‘_lš’o
 (
yysÿn_t
 
yysÿÂ”
 );

1619 
yy£t_lš’o
 (
_lše_numb”
 ,
yysÿn_t
 
yysÿÂ”
 );

1621 
yyg‘_cŞumn
 (
yysÿn_t
 
yysÿÂ”
 );

1623 
yy£t_cŞumn
 (
_cŞumn_no
 ,
yysÿn_t
 
yysÿÂ”
 );

1625 
YYSTYPE
 * 
yyg‘_lv®
 (
yysÿn_t
 
yysÿÂ”
 );

1627 
yy£t_lv®
 (
YYSTYPE
 * 
yylv®_·¿m
 ,
yysÿn_t
 
yysÿÂ”
 );

1629 
YYLTYPE
 *
yyg‘_Îoc
 (
yysÿn_t
 
yysÿÂ”
 );

1631 
yy£t_Îoc
 (
YYLTYPE
 * 
yyÎoc_·¿m
 ,
yysÿn_t
 
yysÿÂ”
 );

1637 #iâdeà
YY_SKIP_YYWRAP


1638 #ifdeà
__ılu¥lus


1639 "C" 
yyw¿p
 (
yysÿn_t
 
yysÿÂ”
 );

1641 
yyw¿p
 (
yysÿn_t
 
yysÿÂ”
 );

1645 #iâdeà
YY_NO_UNPUT


1647 
yyuÅut
 (
c
,*
buf_±r
 ,
yysÿn_t
 
yysÿÂ”
);

1651 #iâdeà
yy‹xt_±r


1652 
yy_æex_¡ºıy
 (*,
yycÚ¡
 *,,
yysÿn_t
 
yysÿÂ”
);

1655 #ifdeà
YY_NEED_STRLEN


1656 
yy_æex_¡¾’
 (
yycÚ¡
 * ,
yysÿn_t
 
yysÿÂ”
);

1659 #iâdeà
YY_NO_INPUT


1661 #ifdeà
__ılu¥lus


1662 
yyšput
 (
yysÿn_t
 
yysÿÂ”
 );

1664 
šput
 (
yysÿn_t
 
yysÿÂ”
 );

1670 #iâdeà
YY_READ_BUF_SIZE


1671 #ifdeà
__Ÿ64__


1673 
	#YY_READ_BUF_SIZE
 16384

	)

1675 
	#YY_READ_BUF_SIZE
 8192

	)

1680 #iâdeà
ECHO


1684 
	#ECHO
 dØ{ ià(
	`fwr™e
Ğ
yy‹xt
, 
yyËng
, 1, 
yyout
 )è{} } 0)

	)

1690 #iâdeà
YY_INPUT


1691 
	#YY_INPUT
(
buf
,
»suÉ
,
max_size
) \

1692 iàĞ
YY_CURRENT_BUFFER_LVALUE
->
yy_is_š‹¿ùive
 ) \

1694 
c
 = '*'; \

1695 
size_t
 
n
; \

1696  
n
 = 0;‚ < 
max_size
 && \

1697 (
c
 = 
	`g‘c
Ğ
yyš
 )è!ğ
EOF
 && c !ğ'\n'; ++
n
 ) \

1698 
buf
[
n
] = (è
c
; \

1699 iàĞ
c
 == '\n' ) \

1700 
buf
[
n
++] = (è
c
; \

1701 iàĞ
c
 =ğ
EOF
 && 
	`ã¼Ü
Ğ
yyš
 ) ) \

1702 
	`YY_FATAL_ERROR
( "input in flex scanner failed" ); \

1703 
»suÉ
 = 
n
; \

1707 
”ºo
=0; \

1708  (
»suÉ
 = 
	`ä—d
(
buf
, 1, 
max_size
, 
yyš
))==0 && 
	`ã¼Ü
(yyin)) \

1710 ifĞ
”ºo
 !ğ
EINTR
) \

1712 
	`YY_FATAL_ERROR
( "input in flex scanner failed" ); \

1715 
”ºo
=0; \

1716 
	`ş—»¼
(
yyš
); \

1720 

	)

1727 #iâdeà
yy‹rmš©e


1728 
	#yy‹rmš©e
(è 
YY_NULL


	)

1732 #iâdeà
YY_START_STACK_INCR


1733 
	#YY_START_STACK_INCR
 25

	)

1737 #iâdeà
YY_FATAL_ERROR


1738 
	#YY_FATAL_ERROR
(
msg
è
	`yy_çl_”rÜ
Ğmsg , 
yysÿÂ”
)

	)

1746 #iâdeà
YY_DECL


1747 
	#YY_DECL_IS_OURS
 1

	)

1749 
yyËx
 \

1750 (
YYSTYPE
 * 
yylv®_·¿m
,
YYLTYPE
 * 
yyÎoc_·¿m
 ,
yysÿn_t
 
yysÿÂ”
);

1752 
	#YY_DECL
 
yyËx
 \

1753 (
YYSTYPE
 * 
yylv®_·¿m
, 
YYLTYPE
 * 
yyÎoc_·¿m
 , 
yysÿn_t
 
yysÿÂ”
)

	)

1759 #iâdeà
YY_USER_ACTION


1760 
	#YY_USER_ACTION


	)

1764 #iâdeà
YY_BREAK


1765 
	#YY_BREAK
 ;

	)

1768 
	#YY_RULE_SETUP
 \

1769 
YY_USER_ACTION


	)

1773 
	gYY_DECL


1775 
yy_¡©e_ty³
 
	gyy_cu¼’t_¡©e
;

1776 *
	gyy_ı
, *
	gyy_bp
;

1777 
	gyy_aù
;

1778 
yyguts_t
 * 
	gyyg
 = (yyguts_t*)
yysÿÂ”
;

1780 
	gyylv®
 = 
yylv®_·¿m
;

1782 
	gyyÎoc
 = 
yyÎoc_·¿m
;

1784 iàĞ!
	gyyg
->
	gyy_š™
 )

1786 
	gyyg
->
	gyy_š™
 = 1;

1788 #ifdeà
YY_USER_INIT


1789 
	gYY_USER_INIT
;

1792 iàĞ! 
	gyyg
->
	gyy_¡¬t
 )

1793 
	gyyg
->
	gyy_¡¬t
 = 1;

1795 iàĞ! 
	gyyš
 )

1796 
	gyyš
 = 
¡dš
;

1798 iàĞ! 
	gyyout
 )

1799 
	gyyout
 = 
¡dout
;

1801 iàĞ! 
	gYY_CURRENT_BUFFER
 ) {

1802 
yy’su»_bufãr_¡ack
 (
yysÿÂ”
);

1803 
	gYY_CURRENT_BUFFER_LVALUE
 =

1804 
yy_ü—‹_bufãr
(
yyš
,
YY_BUF_SIZE
 ,
yysÿÂ”
);

1807 
yy_lßd_bufãr_¡©e
(
yysÿÂ”
 );

1814 
psql_¡©e
 *
	gp¡©e
 = (psql_¡©e*)
yyexŒa
;

1823 
	gyy_ı
 = 
yyg
->
yy_c_buf_p
;

1826 *
	gyy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

1831 
	gyy_bp
 = 
yy_ı
;

1833 
	gyy_cu¼’t_¡©e
 = 
yyg
->
yy_¡¬t
;

1834 
	gyy_m©ch
:

1837 
YY_CHAR
 
yy_c
 = 
yy_ec
[
YY_SC_TO_UI
(*
yy_ı
)] ;

1838 iàĞ
	gyy_acû±
[
yy_cu¼’t_¡©e
] )

1840 
	gyyg
->
	gyy_Ï¡_acû±šg_¡©e
 = 
yy_cu¼’t_¡©e
;

1841 
	gyyg
->
	gyy_Ï¡_acû±šg_ıos
 = 
yy_ı
;

1843  
	gyy_chk
[
yy_ba£
[
yy_cu¼’t_¡©e
] + 
	gyy_c
] != yy_current_state )

1845 
yy_cu¼’t_¡©e
 = (è
yy_def
[yy_current_state];

1846 iàĞ
	gyy_cu¼’t_¡©e
 >= 1194 )

1847 
yy_c
 = 
yy_m‘a
[() yy_c];

1849 
	gyy_cu¼’t_¡©e
 = 
yy_nxt
[
yy_ba£
[
yy_cu¼’t_¡©e
] + (è
yy_c
];

1850 ++
	gyy_ı
;

1852  
	gyy_ba£
[
yy_cu¼’t_¡©e
] != 2615 );

1854 
	gyy_fšd_aùiÚ
:

1855 
yy_aù
 = 
yy_acû±
[
yy_cu¼’t_¡©e
];

1856 iàĞ
	gyy_aù
 == 0 )

1858 
yy_ı
 = 
yyg
->
yy_Ï¡_acû±šg_ıos
;

1859 
	gyy_cu¼’t_¡©e
 = 
yyg
->
yy_Ï¡_acû±šg_¡©e
;

1860 
	gyy_aù
 = 
yy_acû±
[
yy_cu¼’t_¡©e
];

1863 
	gYY_DO_BEFORE_ACTION
;

1865 iàĞ
	gyy_aù
 !ğ
YY_END_OF_BUFFER
 && 
yy_ruË_ÿn_m©ch_eŞ
[
yy_aù
] )

1867 
yy_size_t
 
yyl
;

1868  
	gyyl
 = 0; yyÈ< 
	gyyËng
; ++yyl )

1869 iàĞ
	gyy‹xt
[
yyl
] == '\n' )

1871 do{ 
yylš’o
++;

1872 
	gyycŞumn
=0;

1877 
	gdo_aùiÚ
:

1879  
yy_aù
 )

1883 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

1884 
	gyy_ı
 = 
yyg
->
yy_Ï¡_acû±šg_ıos
;

1885 
	gyy_cu¼’t_¡©e
 = 
yyg
->
yy_Ï¡_acû±šg_¡©e
;

1886 
	gyy_fšd_aùiÚ
;

1889 
YY_RULE_SETUP


1891 {  
ADD
; }

1892 
YY_BREAK


1894 
YY_RULE_SETUP


1896 {  
ALL
; }

1897 
YY_BREAK


1899 
YY_RULE_SETUP


1901 {  
ALTER
; }

1902 
YY_BREAK


1904 
YY_RULE_SETUP


1906 {  
ANALYZE
; }

1907 
YY_BREAK


1912 
YY_RULE_SETUP


1914 { 
BEGIN
 
INITIAL
;  
	gAND
; }

1915 
YY_BREAK


1917 
YY_RULE_SETUP


1919 {  
ANDOP
; }

1920 
YY_BREAK


1922 
YY_RULE_SETUP


1924 {  
ANY
; }

1925 
YY_BREAK


1927 
YY_RULE_SETUP


1929 {  
AS
; }

1930 
YY_BREAK


1932 
YY_RULE_SETUP


1934 {  
ASC
; }

1935 
YY_BREAK


1937 
YY_RULE_SETUP


1939 {  
AUTO_INCREMENT
; }

1940 
YY_BREAK


1942 
YY_RULE_SETUP


1944 {  
BEFORE
; }

1945 
YY_BREAK


1947 
YY_RULE_SETUP


1949 { 
BEGIN
 
BTWMODE
;  
	gBETWEEN
; }

1950 
YY_BREAK


1952 
YY_RULE_SETUP


1954 {  
BIGINT
; }

1955 
YY_BREAK


1957 
YY_RULE_SETUP


1959 {  
BINARY
; }

1960 
YY_BREAK


1962 
YY_RULE_SETUP


1964 {  
BIT
; }

1965 
YY_BREAK


1967 
YY_RULE_SETUP


1969 {  
BLOB
; }

1970 
YY_BREAK


1972 
YY_RULE_SETUP


1974 {  
BOTH
; }

1975 
YY_BREAK


1977 
YY_RULE_SETUP


1979 {  
BY
; }

1980 
YY_BREAK


1982 
YY_RULE_SETUP


1984 {  
CALL
; }

1985 
YY_BREAK


1987 
YY_RULE_SETUP


1989 {  
CASCADE
; }

1990 
YY_BREAK


1992 
YY_RULE_SETUP


1994 {  
CASE
; }

1995 
YY_BREAK


1997 
YY_RULE_SETUP


1999 {  
CHANGE
; }

2000 
YY_BREAK


2002 
YY_RULE_SETUP


2004 {  
CHAR
; }

2005 
YY_BREAK


2007 
YY_RULE_SETUP


2009 {  
CHECK
; }

2010 
YY_BREAK


2012 
YY_RULE_SETUP


2014 {  
COLLATE
; }

2015 
YY_BREAK


2017 
YY_RULE_SETUP


2019 {  
COLUMN
; }

2020 
YY_BREAK


2022 
YY_RULE_SETUP


2024 {  
COMMENT
; }

2025 
YY_BREAK


2027 
YY_RULE_SETUP


2029 {  
CONDITION
; }

2030 
YY_BREAK


2032 
YY_RULE_SETUP


2034 {  
CONSTRAINT
; }

2035 
YY_BREAK


2037 
YY_RULE_SETUP


2039 {  
CONTINUE
; }

2040 
YY_BREAK


2042 
YY_RULE_SETUP


2044 {  
CONVERT
; }

2045 
YY_BREAK


2047 
YY_RULE_SETUP


2049 {  
CREATE
; }

2050 
YY_BREAK


2052 
YY_RULE_SETUP


2054 {  
CROSS
; }

2055 
YY_BREAK


2057 
YY_RULE_SETUP


2059 {  
CURRENT_DATE
; }

2060 
YY_BREAK


2062 
YY_RULE_SETUP


2064 {  
CURRENT_TIME
; }

2065 
YY_BREAK


2067 
YY_RULE_SETUP


2069 {  
CURRENT_TIMESTAMP
; }

2070 
YY_BREAK


2072 
YY_RULE_SETUP


2074 {  
CURRENT_USER
; }

2075 
YY_BREAK


2077 
YY_RULE_SETUP


2079 {  
CURSOR
; }

2080 
YY_BREAK


2082 
YY_RULE_SETUP


2084 {  
DATABASE
; }

2085 
YY_BREAK


2087 
YY_RULE_SETUP


2089 {  
DATABASES
; }

2090 
YY_BREAK


2092 
YY_RULE_SETUP


2094 {  
DATE
; }

2095 
YY_BREAK


2097 
YY_RULE_SETUP


2099 {  
DATETIME
; }

2100 
YY_BREAK


2102 
YY_RULE_SETUP


2104 {  
DAY_HOUR
; }

2105 
YY_BREAK


2107 
YY_RULE_SETUP


2109 {  
DAY_MICROSECOND
; }

2110 
YY_BREAK


2112 
YY_RULE_SETUP


2114 {  
DAY_MINUTE
; }

2115 
YY_BREAK


2117 
YY_RULE_SETUP


2119 {  
DAY_SECOND
; }

2120 
YY_BREAK


2122 
YY_RULE_SETUP


2124 {  
DECIMAL
; }

2125 
YY_BREAK


2127 
YY_RULE_SETUP


2129 {  
DECLARE
; }

2130 
YY_BREAK


2132 
YY_RULE_SETUP


2134 {  
DEFAULT
; }

2135 
YY_BREAK


2137 
YY_RULE_SETUP


2139 {  
DELAYED
; }

2140 
YY_BREAK


2142 
YY_RULE_SETUP


2144 {  
DELETE
; }

2145 
YY_BREAK


2147 
YY_RULE_SETUP


2149 {  
DESC
; }

2150 
YY_BREAK


2152 
YY_RULE_SETUP


2154 {  
DESCRIBE
; }

2155 
YY_BREAK


2157 
YY_RULE_SETUP


2159 {  
DETERMINISTIC
; }

2160 
YY_BREAK


2162 
YY_RULE_SETUP


2164 {  
DISTINCT
; }

2165 
YY_BREAK


2167 
YY_RULE_SETUP


2169 {  
DISTINCTROW
; }

2170 
YY_BREAK


2172 
YY_RULE_SETUP


2174 {  
DIV
; }

2175 
YY_BREAK


2177 
YY_RULE_SETUP


2179 {  
DOUBLE
; }

2180 
YY_BREAK


2182 
YY_RULE_SETUP


2184 {  
DROP
; }

2185 
YY_BREAK


2187 
YY_RULE_SETUP


2189 {  
DUAL
; }

2190 
YY_BREAK


2192 
YY_RULE_SETUP


2194 {  
EACH
; }

2195 
YY_BREAK


2197 
YY_RULE_SETUP


2199 {  
ELSE
; }

2200 
YY_BREAK


2202 
YY_RULE_SETUP


2204 {  
ELSEIF
; }

2205 
YY_BREAK


2207 
YY_RULE_SETUP


2209 {  
END
; }

2210 
YY_BREAK


2212 
YY_RULE_SETUP


2214 {  
ENUM
; }

2215 
YY_BREAK


2217 
YY_RULE_SETUP


2219 {  
ESCAPED
; }

2220 
YY_BREAK


2222 
YY_RULE_SETUP


2224 { 
yylv®
->
subtok
 = 0;  
	gEXISTS
; }

2225 
YY_BREAK


2227 
YY_RULE_SETUP


2229 { 
yylv®
->
subtok
 = 1;  
	gEXISTS
; }

2230 
YY_BREAK


2232 
YY_RULE_SETUP


2234 {  
EXIT
; }

2235 
YY_BREAK


2237 
YY_RULE_SETUP


2239 {  
EXPLAIN
; }

2240 
YY_BREAK


2242 
YY_RULE_SETUP


2244 {  
FETCH
; }

2245 
YY_BREAK


2247 
YY_RULE_SETUP


2249 {  
FLOAT
; }

2250 
YY_BREAK


2252 
YY_RULE_SETUP


2254 {  
FOR
; }

2255 
YY_BREAK


2257 
YY_RULE_SETUP


2259 {  
FORCE
; }

2260 
YY_BREAK


2262 
YY_RULE_SETUP


2264 {  
FOREIGN
; }

2265 
YY_BREAK


2267 
YY_RULE_SETUP


2269 {  
FROM
; }

2270 
YY_BREAK


2272 
YY_RULE_SETUP


2274 {  
FULLTEXT
; }

2275 
YY_BREAK


2277 
YY_RULE_SETUP


2279 {  
GRANT
; }

2280 
YY_BREAK


2282 
YY_RULE_SETUP


2284 {  
GROUP
; }

2285 
YY_BREAK


2287 
YY_RULE_SETUP


2289 {  
HAVING
; }

2290 
YY_BREAK


2292 
YY_RULE_SETUP


2294 {  
HIGH_PRIORITY
; }

2295 
YY_BREAK


2297 
YY_RULE_SETUP


2299 {  
HOUR_MICROSECOND
; }

2300 
YY_BREAK


2302 
YY_RULE_SETUP


2304 {  
HOUR_MINUTE
; }

2305 
YY_BREAK


2307 
YY_RULE_SETUP


2309 {  
HOUR_SECOND
; }

2310 
YY_BREAK


2312 
YY_RULE_SETUP


2314 {  
IF
; }

2315 
YY_BREAK


2317 
YY_RULE_SETUP


2319 {  
IGNORE
; }

2320 
YY_BREAK


2322 
YY_RULE_SETUP


2324 {  
IN
; }

2325 
YY_BREAK


2327 
YY_RULE_SETUP


2329 {  
INFILE
; }

2330 
YY_BREAK


2332 
YY_RULE_SETUP


2334 {  
INNER
; }

2335 
YY_BREAK


2337 
YY_RULE_SETUP


2339 {  
INOUT
; }

2340 
YY_BREAK


2342 
YY_RULE_SETUP


2344 {  
INSENSITIVE
; }

2345 
YY_BREAK


2347 
YY_RULE_SETUP


2349 {  
INSERT
; }

2350 
YY_BREAK


2352 
YY_RULE_SETUP


2354 {  
INTEGER
; }

2355 
YY_BREAK


2357 
YY_RULE_SETUP


2359 {  
INTERVAL
; }

2360 
YY_BREAK


2362 
YY_RULE_SETUP


2364 {  
INTO
; }

2365 
YY_BREAK


2367 
YY_RULE_SETUP


2369 {  
IS
; }

2370 
YY_BREAK


2372 
YY_RULE_SETUP


2374 {  
ITERATE
; }

2375 
YY_BREAK


2377 
YY_RULE_SETUP


2379 {  
JOIN
; }

2380 
YY_BREAK


2382 
YY_RULE_SETUP


2384 {  
KEY
; }

2385 
YY_BREAK


2387 
YY_RULE_SETUP


2389 {  
KEYS
; }

2390 
YY_BREAK


2392 
YY_RULE_SETUP


2394 {  
KILL
; }

2395 
YY_BREAK


2397 
YY_RULE_SETUP


2399 {  
LEADING
; }

2400 
YY_BREAK


2402 
YY_RULE_SETUP


2404 {  
LEAVE
; }

2405 
YY_BREAK


2407 
YY_RULE_SETUP


2409 {  
LEFT
; }

2410 
YY_BREAK


2412 
YY_RULE_SETUP


2414 {  
LIKE
; }

2415 
YY_BREAK


2417 
YY_RULE_SETUP


2419 {  
LIMIT
; }

2420 
YY_BREAK


2422 
YY_RULE_SETUP


2424 {  
LINES
; }

2425 
YY_BREAK


2427 
YY_RULE_SETUP


2429 {  
LOAD
; }

2430 
YY_BREAK


2432 
YY_RULE_SETUP


2434 {  
LOCALTIME
; }

2435 
YY_BREAK


2437 
YY_RULE_SETUP


2439 {  
LOCALTIMESTAMP
; }

2440 
YY_BREAK


2442 
YY_RULE_SETUP


2444 {  
LOCK
; }

2445 
YY_BREAK


2447 
YY_RULE_SETUP


2449 {  
LONG
; }

2450 
YY_BREAK


2452 
YY_RULE_SETUP


2454 {  
LONGBLOB
; }

2455 
YY_BREAK


2457 
YY_RULE_SETUP


2459 {  
LONGTEXT
; }

2460 
YY_BREAK


2462 
YY_RULE_SETUP


2464 {  
LOOP
; }

2465 
YY_BREAK


2467 
YY_RULE_SETUP


2469 {  
LOW_PRIORITY
; }

2470 
YY_BREAK


2472 
YY_RULE_SETUP


2474 {  
MATCH
; }

2475 
YY_BREAK


2477 
YY_RULE_SETUP


2479 {  
MEDIUMBLOB
; }

2480 
YY_BREAK


2482 
YY_RULE_SETUP


2484 {  
MEDIUMINT
; }

2485 
YY_BREAK


2487 
YY_RULE_SETUP


2489 {  
MEDIUMTEXT
; }

2490 
YY_BREAK


2492 
YY_RULE_SETUP


2494 {  
MINUTE_MICROSECOND
; }

2495 
YY_BREAK


2497 
YY_RULE_SETUP


2499 {  
MINUTE_SECOND
; }

2500 
YY_BREAK


2502 
YY_RULE_SETUP


2504 {  
MOD
; }

2505 
YY_BREAK


2507 
YY_RULE_SETUP


2509 {  
MODIFIES
; }

2510 
YY_BREAK


2512 
YY_RULE_SETUP


2514 {  
NATURAL
; }

2515 
YY_BREAK


2517 
YY_RULE_SETUP


2519 {  
NOT
; }

2520 
YY_BREAK


2522 
YY_RULE_SETUP


2524 {  
NO_WRITE_TO_BINLOG
; }

2525 
YY_BREAK


2527 
YY_RULE_SETUP


2529 {  
NULLX
; }

2530 
YY_BREAK


2532 
YY_RULE_SETUP


2534 {  
NUMBER
; }

2535 
YY_BREAK


2537 
YY_RULE_SETUP


2539 {  
ON
; }

2540 
YY_BREAK


2542 
YY_RULE_SETUP


2544 {  
ONDUPLICATE
; }

2545 
YY_BREAK


2547 
YY_RULE_SETUP


2549 {  
OPTIMIZE
; }

2550 
YY_BREAK


2552 
YY_RULE_SETUP


2554 {  
OPTION
; }

2555 
YY_BREAK


2557 
YY_RULE_SETUP


2559 {  
OPTIONALLY
; }

2560 
YY_BREAK


2562 
YY_RULE_SETUP


2564 {  
OR
; }

2565 
YY_BREAK


2567 
YY_RULE_SETUP


2569 {  
ORDER
; }

2570 
YY_BREAK


2572 
YY_RULE_SETUP


2574 {  
OUT
; }

2575 
YY_BREAK


2577 
YY_RULE_SETUP


2579 {  
OUTER
; }

2580 
YY_BREAK


2582 
YY_RULE_SETUP


2584 {  
OUTFILE
; }

2585 
YY_BREAK


2587 
YY_RULE_SETUP


2589 {  
PRECISION
; }

2590 
YY_BREAK


2592 
YY_RULE_SETUP


2594 {  
PRIMARY
; }

2595 
YY_BREAK


2597 
YY_RULE_SETUP


2599 {  
PROCEDURE
; }

2600 
YY_BREAK


2602 
YY_RULE_SETUP


2604 {  
PURGE
; }

2605 
YY_BREAK


2607 
YY_RULE_SETUP


2609 {  
QUICK
; }

2610 
YY_BREAK


2612 
YY_RULE_SETUP


2614 {  
READ
; }

2615 
YY_BREAK


2617 
YY_RULE_SETUP


2619 {  
READS
; }

2620 
YY_BREAK


2622 
YY_RULE_SETUP


2624 {  
REAL
; }

2625 
YY_BREAK


2627 
YY_RULE_SETUP


2629 {  
REFERENCES
; }

2630 
YY_BREAK


2632 
YY_RULE_SETUP


2634 {  
REGEXP
; }

2635 
YY_BREAK


2637 
YY_RULE_SETUP


2639 {  
RELEASE
; }

2640 
YY_BREAK


2642 
YY_RULE_SETUP


2644 {  
RENAME
; }

2645 
YY_BREAK


2647 
YY_RULE_SETUP


2649 {  
REPEAT
; }

2650 
YY_BREAK


2652 
YY_RULE_SETUP


2654 {  
REPLACE
; }

2655 
YY_BREAK


2657 
YY_RULE_SETUP


2659 {  
REQUIRE
; }

2660 
YY_BREAK


2662 
YY_RULE_SETUP


2664 {  
RESTRICT
; }

2665 
YY_BREAK


2667 
YY_RULE_SETUP


2669 {  
RETURN
; }

2670 
YY_BREAK


2672 
YY_RULE_SETUP


2674 {  
REVOKE
; }

2675 
YY_BREAK


2677 
YY_RULE_SETUP


2679 {  
RIGHT
; }

2680 
YY_BREAK


2682 
YY_RULE_SETUP


2684 {  
ROLLUP
; }

2685 
YY_BREAK


2687 
YY_RULE_SETUP


2689 {  
SCHEMA
; }

2690 
YY_BREAK


2692 
YY_RULE_SETUP


2694 {  
SCHEMAS
; }

2695 
YY_BREAK


2697 
YY_RULE_SETUP


2699 {  
SECOND_MICROSECOND
; }

2700 
YY_BREAK


2702 
YY_RULE_SETUP


2704 {  
SELECT
; }

2705 
YY_BREAK


2707 
YY_RULE_SETUP


2709 {  
SENSITIVE
; }

2710 
YY_BREAK


2712 
YY_RULE_SETUP


2714 {  
SEPARATOR
; }

2715 
YY_BREAK


2717 
YY_RULE_SETUP


2719 {  
SET
; }

2720 
YY_BREAK


2722 
YY_RULE_SETUP


2724 {  
SHOW
; }

2725 
YY_BREAK


2727 
YY_RULE_SETUP


2729 {  
SMALLINT
; }

2730 
YY_BREAK


2732 
YY_RULE_SETUP


2734 {  
SOME
; }

2735 
YY_BREAK


2737 
YY_RULE_SETUP


2739 {  
SONAME
; }

2740 
YY_BREAK


2742 
YY_RULE_SETUP


2744 {  
SPATIAL
; }

2745 
YY_BREAK


2747 
YY_RULE_SETUP


2749 {  
SPECIFIC
; }

2750 
YY_BREAK


2752 
YY_RULE_SETUP


2754 {  
SQL
; }

2755 
YY_BREAK


2757 
YY_RULE_SETUP


2759 {  
SQLEXCEPTION
; }

2760 
YY_BREAK


2762 
YY_RULE_SETUP


2764 {  
SQLSTATE
; }

2765 
YY_BREAK


2767 
YY_RULE_SETUP


2769 {  
SQLWARNING
; }

2770 
YY_BREAK


2772 
YY_RULE_SETUP


2774 {  
SQL_BIG_RESULT
; }

2775 
YY_BREAK


2777 
YY_RULE_SETUP


2779 {  
SQL_CALC_FOUND_ROWS
; }

2780 
YY_BREAK


2782 
YY_RULE_SETUP


2784 {  
SQL_SMALL_RESULT
; }

2785 
YY_BREAK


2787 
YY_RULE_SETUP


2789 {  
SSL
; }

2790 
YY_BREAK


2792 
YY_RULE_SETUP


2794 {  
STARTING
; }

2795 
YY_BREAK


2797 
YY_RULE_SETUP


2799 {  
STRAIGHT_JOIN
; }

2800 
YY_BREAK


2802 
YY_RULE_SETUP


2804 {  
TABLE
; }

2805 
YY_BREAK


2807 
YY_RULE_SETUP


2809 {  
TEMPORARY
; }

2810 
YY_BREAK


2812 
YY_RULE_SETUP


2814 {  
TERMINATED
; }

2815 
YY_BREAK


2817 
YY_RULE_SETUP


2819 {  
TEXT
; }

2820 
YY_BREAK


2822 
YY_RULE_SETUP


2824 {  
THEN
; }

2825 
YY_BREAK


2827 
YY_RULE_SETUP


2829 {  
TIME
; }

2830 
YY_BREAK


2832 
YY_RULE_SETUP


2834 {  
TIMESTAMP
; }

2835 
YY_BREAK


2837 
YY_RULE_SETUP


2839 {  
TINYINT
; }

2840 
YY_BREAK


2842 
YY_RULE_SETUP


2844 {  
TINYTEXT
; }

2845 
YY_BREAK


2847 
YY_RULE_SETUP


2849 {  
TO
; }

2850 
YY_BREAK


2852 
YY_RULE_SETUP


2854 {  
TRAILING
; }

2855 
YY_BREAK


2857 
YY_RULE_SETUP


2859 {  
TRIGGER
; }

2860 
YY_BREAK


2862 
YY_RULE_SETUP


2864 {  
UNDO
; }

2865 
YY_BREAK


2867 
YY_RULE_SETUP


2869 {  
UNION
; }

2870 
YY_BREAK


2872 
YY_RULE_SETUP


2874 {  
UNIQUE
; }

2875 
YY_BREAK


2877 
YY_RULE_SETUP


2879 {  
UNLOCK
; }

2880 
YY_BREAK


2882 
YY_RULE_SETUP


2884 {  
UNSIGNED
; }

2885 
YY_BREAK


2887 
YY_RULE_SETUP


2889 {  
UPDATE
; }

2890 
YY_BREAK


2892 
YY_RULE_SETUP


2894 {  
USAGE
; }

2895 
YY_BREAK


2897 
YY_RULE_SETUP


2899 {  
USE
; }

2900 
YY_BREAK


2902 
YY_RULE_SETUP


2904 {  
USING
; }

2905 
YY_BREAK


2907 
YY_RULE_SETUP


2909 {  
UTC_DATE
; }

2910 
YY_BREAK


2912 
YY_RULE_SETUP


2914 {  
UTC_TIME
; }

2915 
YY_BREAK


2917 
YY_RULE_SETUP


2919 {  
UTC_TIMESTAMP
; }

2920 
YY_BREAK


2922 
YY_RULE_SETUP


2924 {  
VALUES
; }

2925 
YY_BREAK


2927 
YY_RULE_SETUP


2929 {  
VARBINARY
; }

2930 
YY_BREAK


2932 
YY_RULE_SETUP


2934 {  
VARCHAR
; }

2935 
YY_BREAK


2937 
YY_RULE_SETUP


2939 {  
VARYING
; }

2940 
YY_BREAK


2942 
YY_RULE_SETUP


2944 {  
WHEN
; }

2945 
YY_BREAK


2947 
YY_RULE_SETUP


2949 {  
WHERE
; }

2950 
YY_BREAK


2952 
YY_RULE_SETUP


2954 {  
WHILE
; }

2955 
YY_BREAK


2957 
YY_RULE_SETUP


2959 {  
WITH
; }

2960 
YY_BREAK


2962 
YY_RULE_SETUP


2964 {  
WRITE
; }

2965 
YY_BREAK


2967 
YY_RULE_SETUP


2969 {  
XOR
; }

2970 
YY_BREAK


2972 
YY_RULE_SETUP


2974 {  
YEAR
; }

2975 
YY_BREAK


2977 
YY_RULE_SETUP


2979 {  
YEAR_MONTH
; }

2980 
YY_BREAK


2982 
YY_RULE_SETUP


2984 {  
ZEROFILL
; }

2985 
YY_BREAK


2988 
YY_RULE_SETUP


2990 { 
yylv®
->
štv®
 = 
©oi
(
yy‹xt
);  
	gINTNUM
; }

2991 
YY_BREAK


3001 
YY_RULE_SETUP


3003 { 
yylv®
->
æßtv®
 = 
©of
(
yy‹xt
) ;

3004  
	gAPPROXNUM
; }

3005 
YY_BREAK


3008 
YY_RULE_SETUP


3010 { 
yylv®
->
štv®
 = 1;  
	gBOOL
; }

3011 
YY_BREAK


3013 
YY_RULE_SETUP


3015 { 
yylv®
->
štv®
 = -1;  
	gBOOL
; }

3016 
YY_BREAK


3018 
YY_RULE_SETUP


3020 { 
yylv®
->
štv®
 = 0;  
	gBOOL
; }

3021 
YY_BREAK


3026 
YY_RULE_SETUP


3028 { 
yylv®
->
¡rv®
 = 
¡rdup
(
yy‹xt
);  
	gSTRING
; }

3029 
YY_BREAK


3031 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3032 
	gyyg
->
	gyy_c_buf_p
 = 
yy_ı
 -= 1;

3033 
	gYY_DO_BEFORE_ACTION
;

3034 
	gYY_RULE_SETUP


3036 { 
yy”rÜ
(
yyÎoc
, 
p¡©e
, "UÁ”mš©ed sŒšg %s", 
yy‹xt
); }

3037 
YY_BREAK


3039 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3040 
	gyyg
->
	gyy_c_buf_p
 = 
yy_ı
 -= 1;

3041 
	gYY_DO_BEFORE_ACTION
;

3042 
	gYY_RULE_SETUP


3044 { 
yy”rÜ
(
yyÎoc
, 
p¡©e
, "UÁ”mš©ed sŒšg %s", 
yy‹xt
); }

3045 
YY_BREAK


3050 
YY_RULE_SETUP


3052 { 
yylv®
->
¡rv®
 = 
¡rdup
(
yy‹xt
);  
	gSTRING
; }

3053 
YY_BREAK


3058 
YY_RULE_SETUP


3060 { 
yylv®
->
¡rv®
 = 
¡rdup
(
yy‹xt
);  
	gSTRING
; }

3061 
YY_BREAK


3064 
YY_RULE_SETUP


3066 {  
yy‹xt
[0]; }

3067 
YY_BREAK


3069 
YY_RULE_SETUP


3071 {  
ANDOP
; }

3072 
YY_BREAK


3074 
YY_RULE_SETUP


3076 {  
OR
; }

3077 
YY_BREAK


3079 
YY_RULE_SETUP


3081 { 
yylv®
->
subtok
 = 4;  
	gCOMPARISON
; }

3082 
YY_BREAK


3084 
YY_RULE_SETUP


3086 { 
yylv®
->
subtok
 = 12;  
	gCOMPARISON
; }

3087 
YY_BREAK


3089 
YY_RULE_SETUP


3091 { 
yylv®
->
subtok
 = 6;  
	gCOMPARISON
; }

3092 
YY_BREAK


3094 
YY_RULE_SETUP


3096 { 
yylv®
->
subtok
 = 2;  
	gCOMPARISON
; }

3097 
YY_BREAK


3099 
YY_RULE_SETUP


3101 { 
yylv®
->
subtok
 = 5;  
	gCOMPARISON
; }

3102 
YY_BREAK


3104 
YY_RULE_SETUP


3106 { 
yylv®
->
subtok
 = 1;  
	gCOMPARISON
; }

3107 
YY_BREAK


3111 
YY_RULE_SETUP


3113 { 
yylv®
->
subtok
 = 3;  
	gCOMPARISON
; }

3114 
YY_BREAK


3116 
YY_RULE_SETUP


3118 { 
yylv®
->
subtok
 = 1;  
	gSHIFT
; }

3119 
YY_BREAK


3121 
YY_RULE_SETUP


3123 { 
yylv®
->
subtok
 = 2;  
	gSHIFT
; }

3124 
YY_BREAK


3127 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3128 
	gyyg
->
	gyy_c_buf_p
 = 
yy_ı
 -= 1;

3129 
	gYY_DO_BEFORE_ACTION
;

3130 
	gYY_RULE_SETUP


3132 {  
	gFSUBSTRING
; }

3133 
YY_BREAK


3135 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3136 
	gyyg
->
	gyy_c_buf_p
 = 
yy_ı
 = 
yy_bp
 + 4;

3137 
	gYY_DO_BEFORE_ACTION
;

3138 
	gYY_RULE_SETUP


3140 {  
	gFTRIM
; }

3141 
YY_BREAK


3143 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3144 
	gyyg
->
	gyy_c_buf_p
 = 
yy_ı
 = 
yy_bp
 + 8;

3145 
	gYY_DO_BEFORE_ACTION
;

3146 
	gYY_RULE_SETUP


3148 {  
	gFDATE_ADD
; }

3149 
YY_BREAK


3151 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3152 
	gyyg
->
	gyy_c_buf_p
 = 
yy_ı
 = 
yy_bp
 + 8;

3153 
	gYY_DO_BEFORE_ACTION
;

3154 
	gYY_RULE_SETUP


3156 {  
	gFDATE_SUB
; }

3157 
YY_BREAK


3162 
YY_RULE_SETUP


3164 { 
c
 = 
šput
(
p¡©e
->
sÿÂ”
); 
uÅut
(c);

3165 if(
	gc
 =ğ'('è 
FCOUNT
;

3166 
	gyylv®
->
	g¡rv®
 = 
¡rdup
(
yy‹xt
);

3167  
	gNAME
; }

3168 
YY_BREAK


3170 
YY_RULE_SETUP


3172 { 
yylv®
->
¡rv®
 = 
¡rdup
(
yy‹xt
);

3173  
	gNAME
; }

3174 
YY_BREAK


3176 
YY_RULE_SETUP


3178 { 
yylv®
->
¡rv®
 = 
¡rdup
(
yy‹xt
+1);

3179 
	gyylv®
->
	g¡rv®
[
yyËng
-2] = 0;

3180  
	gNAME
; }

3181 
YY_BREAK


3183 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3184 
	gyyg
->
	gyy_c_buf_p
 = 
yy_ı
 -= 1;

3185 
	gYY_DO_BEFORE_ACTION
;

3186 
	gYY_RULE_SETUP


3188 { 
yy”rÜ
(
yyÎoc
, 
p¡©e
, "uÁ”mš©ed quÙed‚am%s", 
yy‹xt
); }

3189 
YY_BREAK


3198 
YY_RULE_SETUP


3200 { 
yylv®
->
¡rv®
 = 
¡rdup
(
yy‹xt
+1);  
	gUSERVAR
; }

3201 
YY_BREAK


3203 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3204 
	gyyg
->
	gyy_c_buf_p
 = 
yy_ı
 -= 1;

3205 
	gYY_DO_BEFORE_ACTION
;

3206 
	gYY_RULE_SETUP


3208 { 
yy”rÜ
(
yyÎoc
, 
p¡©e
, "uÁ”mš©ed quÙed u£¸v¬ŸbË %s", 
yy‹xt
); }

3209 
YY_BREAK


3211 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3212 
	gyyg
->
	gyy_c_buf_p
 = 
yy_ı
 -= 1;

3213 
	gYY_DO_BEFORE_ACTION
;

3214 
	gYY_RULE_SETUP


3216 { 
yy”rÜ
(
yyÎoc
, 
p¡©e
, "uÁ”mš©ed quÙed u£¸v¬ŸbË %s", 
yy‹xt
); }

3217 
YY_BREAK


3219 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3220 
	gyyg
->
	gyy_c_buf_p
 = 
yy_ı
 -= 1;

3221 
	gYY_DO_BEFORE_ACTION
;

3222 
	gYY_RULE_SETUP


3224 { 
yy”rÜ
(
yyÎoc
, 
p¡©e
, "uÁ”mš©ed quÙed u£¸v¬ŸbË %s", 
yy‹xt
); }

3225 
YY_BREAK


3227 
YY_RULE_SETUP


3229 {  
ASSIGN
; }

3230 
YY_BREAK


3233 
YY_RULE_SETUP


3236 
YY_BREAK


3238 
YY_RULE_SETUP


3241 
YY_BREAK


3243 
YY_RULE_SETUP


3245 { 
Şd¡©e
 = 
YY_START
; 
BEGIN
 
	gCOMMENT
; }

3246 
YY_BREAK


3248 
YY_RULE_SETUP


3250 { 
BEGIN
 
Şd¡©e
; }

3251 
YY_BREAK


3253 
YY_RULE_SETUP


3256 
YY_BREAK


3259 
YY_RULE_SETUP


3261 { 
yycŞumn
 = 1; }

3262 
YY_BREAK


3263 
YY_STATE_EOF
(
COMMENT
):

3265 { 
yy”rÜ
(
yyÎoc
, 
p¡©e
, "unclosed comment"); }

3266 
YY_BREAK


3269 
YY_RULE_SETUP


3272 
YY_BREAK


3275 
YY_RULE_SETUP


3277 { 
yycŞumn
 = 1; }

3278 
YY_BREAK


3280 
YY_RULE_SETUP


3282 { 
yy”rÜ
(
yyÎoc
, 
p¡©e
, "my¡”y ch¬aù” '%c'", *
yy‹xt
); }

3283 
YY_BREAK


3285 
YY_RULE_SETUP


3287 
YY_FATAL_ERROR
( "flex scanner jammed" );

3288 
	gYY_BREAK


3290 
YY_STATE_EOF
(
INITIAL
):

3291 
YY_STATE_EOF
(
BTWMODE
):

3292 
yy‹rmš©e
();

3294 
	gYY_END_OF_BUFFER
:

3297 
yy_amouÁ_of_m©ched_‹xt
 = (è(
yy_ı
 - 
yyg
->
yy‹xt_±r
) - 1;

3300 *
	gyy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3301 
YY_RESTORE_YY_MORE_OFFSET


3303 iàĞ
	gYY_CURRENT_BUFFER_LVALUE
->
	gyy_bufãr_¡©us
 =ğ
YY_BUFFER_NEW
 )

3314 
yyg
->
yy_n_ch¬s
 = 
YY_CURRENT_BUFFER_LVALUE
->yy_n_chars;

3315 
	gYY_CURRENT_BUFFER_LVALUE
->
	gyy_šput_fe
 = 
yyš
;

3316 
	gYY_CURRENT_BUFFER_LVALUE
->
	gyy_bufãr_¡©us
 = 
YY_BUFFER_NORMAL
;

3326 iàĞ
	gyyg
->
	gyy_c_buf_p
 <ğ&
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[
yyg
->
yy_n_ch¬s
] )

3328 
yy_¡©e_ty³
 
yy_Ãxt_¡©e
;

3330 
	gyyg
->
	gyy_c_buf_p
 = 
yyg
->
yy‹xt_±r
 + 
yy_amouÁ_of_m©ched_‹xt
;

3332 
	gyy_cu¼’t_¡©e
 = 
yy_g‘_´evious_¡©e
Ğ
yysÿÂ”
 );

3343 
	gyy_Ãxt_¡©e
 = 
yy_Œy_NUL_Œªs
Ğ
yy_cu¼’t_¡©e
 , 
yysÿÂ”
);

3345 
	gyy_bp
 = 
yyg
->
yy‹xt_±r
 + 
YY_MORE_ADJ
;

3347 iàĞ
	gyy_Ãxt_¡©e
 )

3350 
	gyy_ı
 = ++
yyg
->
yy_c_buf_p
;

3351 
	gyy_cu¼’t_¡©e
 = 
yy_Ãxt_¡©e
;

3352 
	gyy_m©ch
;

3357 
	gyy_ı
 = 
yyg
->
yy_c_buf_p
;

3358 
	gyy_fšd_aùiÚ
;

3362  
yy_g‘_Ãxt_bufãr
Ğ
yysÿÂ”
 ) )

3364 
	gEOB_ACT_END_OF_FILE
:

3366 
yyg
->
yy_did_bufãr_sw™ch_Ú_eof
 = 0;

3368 iàĞ
yyw¿p
(
yysÿÂ”
 ) )

3379 
	gyyg
->
	gyy_c_buf_p
 = 
yyg
->
yy‹xt_±r
 + 
YY_MORE_ADJ
;

3381 
	gyy_aù
 = 
YY_STATE_EOF
(
YY_START
);

3382 
	gdo_aùiÚ
;

3387 iàĞ! 
	gyyg
->
	gyy_did_bufãr_sw™ch_Ú_eof
 )

3388 
	gYY_NEW_FILE
;

3393 
	gEOB_ACT_CONTINUE_SCAN
:

3394 
yyg
->
yy_c_buf_p
 =

3395 
yyg
->
yy‹xt_±r
 + 
yy_amouÁ_of_m©ched_‹xt
;

3397 
	gyy_cu¼’t_¡©e
 = 
yy_g‘_´evious_¡©e
Ğ
yysÿÂ”
 );

3399 
	gyy_ı
 = 
yyg
->
yy_c_buf_p
;

3400 
	gyy_bp
 = 
yyg
->
yy‹xt_±r
 + 
YY_MORE_ADJ
;

3401 
	gyy_m©ch
;

3403 
	gEOB_ACT_LAST_MATCH
:

3404 
yyg
->
yy_c_buf_p
 =

3405 &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[
yyg
->
yy_n_ch¬s
];

3407 
	gyy_cu¼’t_¡©e
 = 
yy_g‘_´evious_¡©e
Ğ
yysÿÂ”
 );

3409 
	gyy_ı
 = 
yyg
->
yy_c_buf_p
;

3410 
	gyy_bp
 = 
yyg
->
yy‹xt_±r
 + 
YY_MORE_ADJ
;

3411 
	gyy_fšd_aùiÚ
;

3417 
YY_FATAL_ERROR
(

3431 
	$yy_g‘_Ãxt_bufãr
 (
yysÿn_t
 
yysÿÂ”
)

3433 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3434 *
de¡
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
;

3435 *
sourû
 = 
yyg
->
yy‹xt_±r
;

3436 
yy_size_t
 
numb”_to_move
, 
i
;

3437 
»t_v®
;

3439 iàĞ
yyg
->
yy_c_buf_p
 > &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[yyg->
yy_n_ch¬s
 + 1] )

3440 
	`YY_FATAL_ERROR
(

3443 iàĞ
YY_CURRENT_BUFFER_LVALUE
->
yy_fl_bufãr
 == 0 )

3445 iàĞ
yyg
->
yy_c_buf_p
 - yyg->
yy‹xt_±r
 - 
YY_MORE_ADJ
 == 1 )

3450  
EOB_ACT_END_OF_FILE
;

3458  
EOB_ACT_LAST_MATCH
;

3465 
numb”_to_move
 = (
yy_size_t
è(
yyg
->
yy_c_buf_p
 - yyg->
yy‹xt_±r
) - 1;

3467  
i
 = 0; i < 
numb”_to_move
; ++i )

3468 *(
de¡
++èğ*(
sourû
++);

3470 iàĞ
YY_CURRENT_BUFFER_LVALUE
->
yy_bufãr_¡©us
 =ğ
YY_BUFFER_EOF_PENDING
 )

3474 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¬s
 = 
yyg
->yy_n_chars = 0;

3478 
yy_size_t
 
num_to_»ad
 =

3479 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
 - 
numb”_to_move
 - 1;

3481  
num_to_»ad
 <= 0 )

3485 
YY_BUFFER_STATE
 
b
 = 
YY_CURRENT_BUFFER_LVALUE
;

3487 
yy_c_buf_p_off£t
 =

3488 (è(
yyg
->
yy_c_buf_p
 - 
b
->
yy_ch_buf
);

3490 iàĞ
b
->
yy_is_our_bufãr
 )

3492 
yy_size_t
 
Ãw_size
 = 
b
->
yy_buf_size
 * 2;

3494 iàĞ
Ãw_size
 <= 0 )

3495 
b
->
yy_buf_size
 += b->yy_buf_size / 8;

3497 
b
->
yy_buf_size
 *= 2;

3499 
b
->
yy_ch_buf
 = (*)

3501 
	`yy»®loc
((*è
b
->
yy_ch_buf
,b->
yy_buf_size
 + 2 ,
yysÿÂ”
 );

3505 
b
->
yy_ch_buf
 = 0;

3507 iàĞ! 
b
->
yy_ch_buf
 )

3508 
	`YY_FATAL_ERROR
(

3511 
yyg
->
yy_c_buf_p
 = &
b
->
yy_ch_buf
[
yy_c_buf_p_off£t
];

3513 
num_to_»ad
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
 -

3514 
numb”_to_move
 - 1;

3518 iàĞ
num_to_»ad
 > 
YY_READ_BUF_SIZE
 )

3519 
num_to_»ad
 = 
YY_READ_BUF_SIZE
;

3522 
	`YY_INPUT
Ğ(&
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[
numb”_to_move
]),

3523 
yyg
->
yy_n_ch¬s
, 
num_to_»ad
 );

3525 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¬s
 = 
yyg
->yy_n_chars;

3528 iàĞ
yyg
->
yy_n_ch¬s
 == 0 )

3530 iàĞ
numb”_to_move
 =ğ
YY_MORE_ADJ
 )

3532 
»t_v®
 = 
EOB_ACT_END_OF_FILE
;

3533 
	`yy»¡¬t
(
yyš
 ,
yysÿÂ”
);

3538 
»t_v®
 = 
EOB_ACT_LAST_MATCH
;

3539 
YY_CURRENT_BUFFER_LVALUE
->
yy_bufãr_¡©us
 =

3540 
YY_BUFFER_EOF_PENDING
;

3545 
»t_v®
 = 
EOB_ACT_CONTINUE_SCAN
;

3547 ià((è(
yyg
->
yy_n_ch¬s
 + 
numb”_to_move
è> 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
) {

3549 
Ãw_size
 = 
yyg
->
yy_n_ch¬s
 + 
numb”_to_move
 + (yyg->yy_n_chars >> 1);

3550 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 = (*è
	`yy»®loc
((*èYY_CURRENT_BUFFER_LVALUE->yy_ch_buf,
Ãw_size
 ,
yysÿÂ”
 );

3551 iàĞ! 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 )

3552 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_get_next_buffer()" );

3555 
yyg
->
yy_n_ch¬s
 +ğ
numb”_to_move
;

3556 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[
yyg
->
yy_n_ch¬s
] = 
YY_END_OF_BUFFER_CHAR
;

3557 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[
yyg
->
yy_n_ch¬s
 + 1] = 
YY_END_OF_BUFFER_CHAR
;

3559 
yyg
->
yy‹xt_±r
 = &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[0];

3561  
»t_v®
;

3562 
	}
}

3566 
yy_¡©e_ty³
 
	$yy_g‘_´evious_¡©e
 (
yysÿn_t
 
yysÿÂ”
)

3568 
yy_¡©e_ty³
 
yy_cu¼’t_¡©e
;

3569 *
yy_ı
;

3570 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3572 
yy_cu¼’t_¡©e
 = 
yyg
->
yy_¡¬t
;

3574  
yy_ı
 = 
yyg
->
yy‹xt_±r
 + 
YY_MORE_ADJ
; yy_ı < yyg->
yy_c_buf_p
; ++yy_cp )

3576 
YY_CHAR
 
yy_c
 = (*
yy_ı
 ? 
yy_ec
[
	`YY_SC_TO_UI
(*yy_cp)] : 1);

3577 iàĞ
yy_acû±
[
yy_cu¼’t_¡©e
] )

3579 
yyg
->
yy_Ï¡_acû±šg_¡©e
 = 
yy_cu¼’t_¡©e
;

3580 
yyg
->
yy_Ï¡_acû±šg_ıos
 = 
yy_ı
;

3582  
yy_chk
[
yy_ba£
[
yy_cu¼’t_¡©e
] + 
yy_c
] != yy_current_state )

3584 
yy_cu¼’t_¡©e
 = (è
yy_def
[yy_current_state];

3585 iàĞ
yy_cu¼’t_¡©e
 >= 1194 )

3586 
yy_c
 = 
yy_m‘a
[() yy_c];

3588 
yy_cu¼’t_¡©e
 = 
yy_nxt
[
yy_ba£
[yy_cu¼’t_¡©e] + (è
yy_c
];

3591  
yy_cu¼’t_¡©e
;

3592 
	}
}

3599 
yy_¡©e_ty³
 
	$yy_Œy_NUL_Œªs
 (
yy_¡©e_ty³
 
yy_cu¼’t_¡©e
 , 
yysÿn_t
 
yysÿÂ”
)

3601 
yy_is_jam
;

3602 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3603 *
yy_ı
 = 
yyg
->
yy_c_buf_p
;

3605 
YY_CHAR
 
yy_c
 = 1;

3606 iàĞ
yy_acû±
[
yy_cu¼’t_¡©e
] )

3608 
yyg
->
yy_Ï¡_acû±šg_¡©e
 = 
yy_cu¼’t_¡©e
;

3609 
yyg
->
yy_Ï¡_acû±šg_ıos
 = 
yy_ı
;

3611  
yy_chk
[
yy_ba£
[
yy_cu¼’t_¡©e
] + 
yy_c
] != yy_current_state )

3613 
yy_cu¼’t_¡©e
 = (è
yy_def
[yy_current_state];

3614 iàĞ
yy_cu¼’t_¡©e
 >= 1194 )

3615 
yy_c
 = 
yy_m‘a
[() yy_c];

3617 
yy_cu¼’t_¡©e
 = 
yy_nxt
[
yy_ba£
[yy_cu¼’t_¡©e] + (è
yy_c
];

3618 
yy_is_jam
 = (
yy_cu¼’t_¡©e
 == 1193);

3620 ()
yyg
;

3621  
yy_is_jam
 ? 0 : 
yy_cu¼’t_¡©e
;

3622 
	}
}

3624 #iâdeà
YY_NO_UNPUT


3626 
	$yyuÅut
 (
c
, * 
yy_bp
 , 
yysÿn_t
 
yysÿÂ”
)

3628 *
yy_ı
;

3629 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3631 
yy_ı
 = 
yyg
->
yy_c_buf_p
;

3634 *
yy_ı
 = 
yyg
->
yy_hŞd_ch¬
;

3636 iàĞ
yy_ı
 < 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 + 2 )

3639 
yy_size_t
 
numb”_to_move
 = 
yyg
->
yy_n_ch¬s
 + 2;

3640 *
de¡
 = &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[

3641 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
 + 2];

3642 *
sourû
 =

3643 &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[
numb”_to_move
];

3645  
sourû
 > 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 )

3646 *--
de¡
 = *--
sourû
;

3648 
yy_ı
 +ğ(è(
de¡
 - 
sourû
);

3649 
yy_bp
 +ğ(è(
de¡
 - 
sourû
);

3650 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¬s
 =

3651 
yyg
->
yy_n_ch¬s
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_size
;

3653 iàĞ
yy_ı
 < 
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
 + 2 )

3654 
	`YY_FATAL_ERROR
( "flex scanner…ush-back overflow" );

3657 *--
yy_ı
 = (è
c
;

3659 iàĞ
c
 == '\n' ){

3660 --
yylš’o
;

3663 
yyg
->
yy‹xt_±r
 = 
yy_bp
;

3664 
yyg
->
yy_hŞd_ch¬
 = *
yy_ı
;

3665 
yyg
->
yy_c_buf_p
 = 
yy_ı
;

3666 
	}
}

3670 #iâdeà
YY_NO_INPUT


3671 #ifdeà
__ılu¥lus


3672 
	$yyšput
 (
yysÿn_t
 
yysÿÂ”
)

3674 
	$šput
 (
yysÿn_t
 
yysÿÂ”
)

3678 
c
;

3679 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3681 *
yyg
->
yy_c_buf_p
 = yyg->
yy_hŞd_ch¬
;

3683 iàĞ*
yyg
->
yy_c_buf_p
 =ğ
YY_END_OF_BUFFER_CHAR
 )

3689 iàĞ
yyg
->
yy_c_buf_p
 < &
YY_CURRENT_BUFFER_LVALUE
->
yy_ch_buf
[yyg->
yy_n_ch¬s
] )

3691 *
yyg
->
yy_c_buf_p
 = '\0';

3695 
yy_size_t
 
off£t
 = 
yyg
->
yy_c_buf_p
 - yyg->
yy‹xt_±r
;

3696 ++
yyg
->
yy_c_buf_p
;

3698  
	`yy_g‘_Ãxt_bufãr
Ğ
yysÿÂ”
 ) )

3700 
EOB_ACT_LAST_MATCH
:

3712 
	`yy»¡¬t
(
yyš
 ,
yysÿÂ”
);

3716 
EOB_ACT_END_OF_FILE
:

3718 iàĞ
	`yyw¿p
(
yysÿÂ”
 ) )

3719  
EOF
;

3721 iàĞ! 
yyg
->
yy_did_bufãr_sw™ch_Ú_eof
 )

3722 
YY_NEW_FILE
;

3723 #ifdeà
__ılu¥lus


3724  
	`yyšput
(
yysÿÂ”
);

3726  
	`šput
(
yysÿÂ”
);

3730 
EOB_ACT_CONTINUE_SCAN
:

3731 
yyg
->
yy_c_buf_p
 = yyg->
yy‹xt_±r
 + 
off£t
;

3737 
c
 = *(*è
yyg
->
yy_c_buf_p
;

3738 *
yyg
->
yy_c_buf_p
 = '\0';

3739 
yyg
->
yy_hŞd_ch¬
 = *++yyg->
yy_c_buf_p
;

3741 iàĞ
c
 == '\n' )

3743 do{ 
yylš’o
++;

3744 
yycŞumn
=0;

3748  
c
;

3749 
	}
}

3757 
	$yy»¡¬t
 (
FILE
 * 
šput_fe
 , 
yysÿn_t
 
yysÿÂ”
)

3759 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3761 iàĞ! 
YY_CURRENT_BUFFER
 ){

3762 
	`yy’su»_bufãr_¡ack
 (
yysÿÂ”
);

3763 
YY_CURRENT_BUFFER_LVALUE
 =

3764 
	`yy_ü—‹_bufãr
(
yyš
,
YY_BUF_SIZE
 ,
yysÿÂ”
);

3767 
	`yy_š™_bufãr
(
YY_CURRENT_BUFFER
,
šput_fe
 ,
yysÿÂ”
);

3768 
	`yy_lßd_bufãr_¡©e
(
yysÿÂ”
 );

3769 
	}
}

3775 
	$yy_sw™ch_to_bufãr
 (
YY_BUFFER_STATE
 
Ãw_bufãr
 , 
yysÿn_t
 
yysÿÂ”
)

3777 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3784 
	`yy’su»_bufãr_¡ack
 (
yysÿÂ”
);

3785 iàĞ
YY_CURRENT_BUFFER
 =ğ
Ãw_bufãr
 )

3788 iàĞ
YY_CURRENT_BUFFER
 )

3791 *
yyg
->
yy_c_buf_p
 = yyg->
yy_hŞd_ch¬
;

3792 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_pos
 = 
yyg
->
yy_c_buf_p
;

3793 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¬s
 = 
yyg
->yy_n_chars;

3796 
YY_CURRENT_BUFFER_LVALUE
 = 
Ãw_bufãr
;

3797 
	`yy_lßd_bufãr_¡©e
(
yysÿÂ”
 );

3804 
yyg
->
yy_did_bufãr_sw™ch_Ú_eof
 = 1;

3805 
	}
}

3807 
	$yy_lßd_bufãr_¡©e
 (
yysÿn_t
 
yysÿÂ”
)

3809 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3810 
yyg
->
yy_n_ch¬s
 = 
YY_CURRENT_BUFFER_LVALUE
->yy_n_chars;

3811 
yyg
->
yy‹xt_±r
 = yyg->
yy_c_buf_p
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_pos
;

3812 
yyš
 = 
YY_CURRENT_BUFFER_LVALUE
->
yy_šput_fe
;

3813 
yyg
->
yy_hŞd_ch¬
 = *yyg->
yy_c_buf_p
;

3814 
	}
}

3822 
YY_BUFFER_STATE
 
	$yy_ü—‹_bufãr
 (
FILE
 * 
fe
, 
size
 , 
yysÿn_t
 
yysÿÂ”
)

3824 
YY_BUFFER_STATE
 
b
;

3826 
b
 = (
YY_BUFFER_STATE
è
	`yy®loc
(Ğ
yy_bufãr_¡©e
 ) ,
yysÿÂ”
 );

3827 iàĞ! 
b
 )

3828 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_create_buffer()" );

3830 
b
->
yy_buf_size
 = (
yy_size_t
)
size
;

3835 
b
->
yy_ch_buf
 = (*è
	`yy®loc
(b->
yy_buf_size
 + 2 ,
yysÿÂ”
 );

3836 iàĞ! 
b
->
yy_ch_buf
 )

3837 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_create_buffer()" );

3839 
b
->
yy_is_our_bufãr
 = 1;

3841 
	`yy_š™_bufãr
(
b
,
fe
 ,
yysÿÂ”
);

3843  
b
;

3844 
	}
}

3850 
	$yy_d–‘e_bufãr
 (
YY_BUFFER_STATE
 
b
 , 
yysÿn_t
 
yysÿÂ”
)

3852 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3854 iàĞ! 
b
 )

3857 iàĞ
b
 =ğ
YY_CURRENT_BUFFER
 )

3858 
YY_CURRENT_BUFFER_LVALUE
 = (
YY_BUFFER_STATE
) 0;

3860 iàĞ
b
->
yy_is_our_bufãr
 )

3861 
	`yyä“
((*è
b
->
yy_ch_buf
 ,
yysÿÂ”
 );

3863 
	`yyä“
((*è
b
 ,
yysÿÂ”
 );

3864 
	}
}

3870 
	$yy_š™_bufãr
 (
YY_BUFFER_STATE
 
b
, 
FILE
 * 
fe
 , 
yysÿn_t
 
yysÿÂ”
)

3873 
Û¼no
 = 
”ºo
;

3874 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3876 
	`yy_æush_bufãr
(
b
 ,
yysÿÂ”
);

3878 
b
->
yy_šput_fe
 = 
fe
;

3879 
b
->
yy_fl_bufãr
 = 1;

3885 ià(
b
 !ğ
YY_CURRENT_BUFFER
){

3886 
b
->
yy_bs_lš’o
 = 1;

3887 
b
->
yy_bs_cŞumn
 = 0;

3890 
b
->
yy_is_š‹¿ùive
 = 
fe
 ? (
	`i§‰y
Ğ
	`f’o
(file) ) > 0) : 0;

3892 
”ºo
 = 
Û¼no
;

3893 
	}
}

3899 
	$yy_æush_bufãr
 (
YY_BUFFER_STATE
 
b
 , 
yysÿn_t
 
yysÿÂ”
)

3901 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3902 iàĞ! 
b
 )

3905 
b
->
yy_n_ch¬s
 = 0;

3911 
b
->
yy_ch_buf
[0] = 
YY_END_OF_BUFFER_CHAR
;

3912 
b
->
yy_ch_buf
[1] = 
YY_END_OF_BUFFER_CHAR
;

3914 
b
->
yy_buf_pos
 = &b->
yy_ch_buf
[0];

3916 
b
->
yy_©_bŞ
 = 1;

3917 
b
->
yy_bufãr_¡©us
 = 
YY_BUFFER_NEW
;

3919 iàĞ
b
 =ğ
YY_CURRENT_BUFFER
 )

3920 
	`yy_lßd_bufãr_¡©e
(
yysÿÂ”
 );

3921 
	}
}

3929 
	$yypush_bufãr_¡©e
 (
YY_BUFFER_STATE
 
Ãw_bufãr
 , 
yysÿn_t
 
yysÿÂ”
)

3931 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3932 ià(
Ãw_bufãr
 =ğ
NULL
)

3935 
	`yy’su»_bufãr_¡ack
(
yysÿÂ”
);

3938 iàĞ
YY_CURRENT_BUFFER
 )

3941 *
yyg
->
yy_c_buf_p
 = yyg->
yy_hŞd_ch¬
;

3942 
YY_CURRENT_BUFFER_LVALUE
->
yy_buf_pos
 = 
yyg
->
yy_c_buf_p
;

3943 
YY_CURRENT_BUFFER_LVALUE
->
yy_n_ch¬s
 = 
yyg
->yy_n_chars;

3947 ià(
YY_CURRENT_BUFFER
)

3948 
yyg
->
yy_bufãr_¡ack_tİ
++;

3949 
YY_CURRENT_BUFFER_LVALUE
 = 
Ãw_bufãr
;

3952 
	`yy_lßd_bufãr_¡©e
(
yysÿÂ”
 );

3953 
yyg
->
yy_did_bufãr_sw™ch_Ú_eof
 = 1;

3954 
	}
}

3960 
	$yypİ_bufãr_¡©e
 (
yysÿn_t
 
yysÿÂ”
)

3962 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3963 ià(!
YY_CURRENT_BUFFER
)

3966 
	`yy_d–‘e_bufãr
(
YY_CURRENT_BUFFER
 ,
yysÿÂ”
);

3967 
YY_CURRENT_BUFFER_LVALUE
 = 
NULL
;

3968 ià(
yyg
->
yy_bufãr_¡ack_tİ
 > 0)

3969 --
yyg
->
yy_bufãr_¡ack_tİ
;

3971 ià(
YY_CURRENT_BUFFER
) {

3972 
	`yy_lßd_bufãr_¡©e
(
yysÿÂ”
 );

3973 
yyg
->
yy_did_bufãr_sw™ch_Ú_eof
 = 1;

3975 
	}
}

3980 
	$yy’su»_bufãr_¡ack
 (
yysÿn_t
 
yysÿÂ”
)

3982 
yy_size_t
 
num_to_®loc
;

3983 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

3985 ià(!
yyg
->
yy_bufãr_¡ack
) {

3991 
num_to_®loc
 = 1;

3992 
yyg
->
yy_bufãr_¡ack
 = (
yy_bufãr_¡©e
**)
yy®loc


3993 (
num_to_®loc
 * (
yy_bufãr_¡©e
*)

3994 , 
yysÿÂ”
);

3995 iàĞ! 
yyg
->
yy_bufãr_¡ack
 )

3996 
	`YY_FATAL_ERROR
( "out of dynamic memory in yyensure_buffer_stack()" );

3998 
	`mem£t
(
yyg
->
yy_bufãr_¡ack
, 0, 
num_to_®loc
 * (
yy_bufãr_¡©e
*));

4000 
yyg
->
yy_bufãr_¡ack_max
 = 
num_to_®loc
;

4001 
yyg
->
yy_bufãr_¡ack_tİ
 = 0;

4005 ià(
yyg
->
yy_bufãr_¡ack_tİ
 >ğ(yyg->
yy_bufãr_¡ack_max
) - 1){

4008 
yy_size_t
 
grow_size
 = 8 ;

4010 
num_to_®loc
 = 
yyg
->
yy_bufãr_¡ack_max
 + 
grow_size
;

4011 
yyg
->
yy_bufãr_¡ack
 = (
yy_bufãr_¡©e
**)
yy»®loc


4012 (
yyg
->
yy_bufãr_¡ack
,

4013 
num_to_®loc
 * (
yy_bufãr_¡©e
*)

4014 , 
yysÿÂ”
);

4015 iàĞ! 
yyg
->
yy_bufãr_¡ack
 )

4016 
	`YY_FATAL_ERROR
( "out of dynamic memory in yyensure_buffer_stack()" );

4019 
	`mem£t
(
yyg
->
yy_bufãr_¡ack
 + yyg->
yy_bufãr_¡ack_max
, 0, 
grow_size
 * (
yy_bufãr_¡©e
*));

4020 
yyg
->
yy_bufãr_¡ack_max
 = 
num_to_®loc
;

4022 
	}
}

4030 
YY_BUFFER_STATE
 
	$yy_sÿn_bufãr
 (* 
ba£
, 
yy_size_t
 
size
 , 
yysÿn_t
 
yysÿÂ”
)

4032 
YY_BUFFER_STATE
 
b
;

4034 iàĞ
size
 < 2 ||

4035 
ba£
[
size
-2] !ğ
YY_END_OF_BUFFER_CHAR
 ||

4036 
ba£
[
size
-1] !ğ
YY_END_OF_BUFFER_CHAR
 )

4040 
b
 = (
YY_BUFFER_STATE
è
	`yy®loc
(Ğ
yy_bufãr_¡©e
 ) ,
yysÿÂ”
 );

4041 iàĞ! 
b
 )

4042 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_scan_buffer()" );

4044 
b
->
yy_buf_size
 = 
size
 - 2;

4045 
b
->
yy_buf_pos
 = b->
yy_ch_buf
 = 
ba£
;

4046 
b
->
yy_is_our_bufãr
 = 0;

4047 
b
->
yy_šput_fe
 = 0;

4048 
b
->
yy_n_ch¬s
 = b->
yy_buf_size
;

4049 
b
->
yy_is_š‹¿ùive
 = 0;

4050 
b
->
yy_©_bŞ
 = 1;

4051 
b
->
yy_fl_bufãr
 = 0;

4052 
b
->
yy_bufãr_¡©us
 = 
YY_BUFFER_NEW
;

4054 
	`yy_sw™ch_to_bufãr
(
b
 ,
yysÿÂ”
 );

4056  
b
;

4057 
	}
}

4067 
YY_BUFFER_STATE
 
	$yy_sÿn_¡ršg
 (
yycÚ¡
 * 
yy¡r
 , 
yysÿn_t
 
yysÿÂ”
)

4070  
	`yy_sÿn_by‹s
(
yy¡r
,
	`¡¾’
(yy¡rè,
yysÿÂ”
);

4071 
	}
}

4080 
YY_BUFFER_STATE
 
	$yy_sÿn_by‹s
 (
yycÚ¡
 * 
yyby‹s
, 
yy_size_t
 
_yyby‹s_Ën
 , 
yysÿn_t
 
yysÿÂ”
)

4082 
YY_BUFFER_STATE
 
b
;

4083 *
buf
;

4084 
yy_size_t
 
n
;

4085 
yy_size_t
 
i
;

4088 
n
 = 
_yyby‹s_Ën
 + 2;

4089 
buf
 = (*è
	`yy®loc
(
n
 ,
yysÿÂ”
 );

4090 iàĞ! 
buf
 )

4091 
	`YY_FATAL_ERROR
( "out of dynamic memory in yy_scan_bytes()" );

4093  
i
 = 0; i < 
_yyby‹s_Ën
; ++i )

4094 
buf
[
i
] = 
yyby‹s
[i];

4096 
buf
[
_yyby‹s_Ën
] = buf[_yyby‹s_Ën+1] = 
YY_END_OF_BUFFER_CHAR
;

4098 
b
 = 
	`yy_sÿn_bufãr
(
buf
,
n
 ,
yysÿÂ”
);

4099 iàĞ! 
b
 )

4100 
	`YY_FATAL_ERROR
( "bad buffer in yy_scan_bytes()" );

4105 
b
->
yy_is_our_bufãr
 = 1;

4107  
b
;

4108 
	}
}

4110 #iâdeà
YY_EXIT_FAILURE


4111 
	#YY_EXIT_FAILURE
 2

	)

4114 
	$yy_çl_”rÜ
 (
yycÚ¡
 * 
msg
 , 
yysÿn_t
 
yysÿÂ”
)

4116 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4117 ()
yyg
;

4118 (è
	`årštf
Ğ
¡d”r
, "%s\n", 
msg
 );

4119 
	`ex™
Ğ
YY_EXIT_FAILURE
 );

4120 
	}
}

4124 #undeà
yyËss


4125 
	#yyËss
(
n
) \

4129 
yyËss_maüo_¬g
 = (
n
); \

4130 
	`YY_LESS_LINENO
(
yyËss_maüo_¬g
);\

4131 
yy‹xt
[
yyËng
] = 
yyg
->
yy_hŞd_ch¬
; \

4132 
yyg
->
yy_c_buf_p
 = 
yy‹xt
 + 
yyËss_maüo_¬g
; \

4133 
yyg
->
yy_hŞd_ch¬
 = *yyg->
yy_c_buf_p
; \

4134 *
yyg
->
yy_c_buf_p
 = '\0'; \

4135 
yyËng
 = 
yyËss_maüo_¬g
; \

4137  0 )

	)

4144 
YY_EXTRA_TYPE
 
	$yyg‘_exŒa
 (
yysÿn_t
 
yysÿÂ”
)

4146 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4147  
yyexŒa
;

4148 
	}
}

4153 
	$yyg‘_lš’o
 (
yysÿn_t
 
yysÿÂ”
)

4155 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4157 ià(! 
YY_CURRENT_BUFFER
)

4160  
yylš’o
;

4161 
	}
}

4166 
	$yyg‘_cŞumn
 (
yysÿn_t
 
yysÿÂ”
)

4168 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4170 ià(! 
YY_CURRENT_BUFFER
)

4173  
yycŞumn
;

4174 
	}
}

4179 
FILE
 *
	$yyg‘_š
 (
yysÿn_t
 
yysÿÂ”
)

4181 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4182  
yyš
;

4183 
	}
}

4188 
FILE
 *
	$yyg‘_out
 (
yysÿn_t
 
yysÿÂ”
)

4190 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4191  
yyout
;

4192 
	}
}

4197 
yy_size_t
 
	$yyg‘_Ëng
 (
yysÿn_t
 
yysÿÂ”
)

4199 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4200  
yyËng
;

4201 
	}
}

4207 *
	$yyg‘_‹xt
 (
yysÿn_t
 
yysÿÂ”
)

4209 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4210  
yy‹xt
;

4211 
	}
}

4217 
	$yy£t_exŒa
 (
YY_EXTRA_TYPE
 
u£r_defšed
 , 
yysÿn_t
 
yysÿÂ”
)

4219 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4220 
yyexŒa
 = 
u£r_defšed
 ;

4221 
	}
}

4227 
	$yy£t_lš’o
 (
_lše_numb”
 , 
yysÿn_t
 
yysÿÂ”
)

4229 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4232 ià(! 
YY_CURRENT_BUFFER
 )

4233 
	`YY_FATAL_ERROR
( "yyset_lineno called with‚o buffer" );

4235 
yylš’o
 = 
_lše_numb”
;

4236 
	}
}

4242 
	$yy£t_cŞumn
 (
_cŞumn_no
 , 
yysÿn_t
 
yysÿÂ”
)

4244 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4247 ià(! 
YY_CURRENT_BUFFER
 )

4248 
	`YY_FATAL_ERROR
( "yyset_column called with‚o buffer" );

4250 
yycŞumn
 = 
_cŞumn_no
;

4251 
	}
}

4259 
	$yy£t_š
 (
FILE
 * 
_š_¡r
 , 
yysÿn_t
 
yysÿÂ”
)

4261 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4262 
yyš
 = 
_š_¡r
 ;

4263 
	}
}

4265 
	$yy£t_out
 (
FILE
 * 
_out_¡r
 , 
yysÿn_t
 
yysÿÂ”
)

4267 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4268 
yyout
 = 
_out_¡r
 ;

4269 
	}
}

4271 
	$yyg‘_debug
 (
yysÿn_t
 
yysÿÂ”
)

4273 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4274  
yy_æex_debug
;

4275 
	}
}

4277 
	$yy£t_debug
 (
_bdebug
 , 
yysÿn_t
 
yysÿÂ”
)

4279 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4280 
yy_æex_debug
 = 
_bdebug
 ;

4281 
	}
}

4285 
YYSTYPE
 * 
	$yyg‘_lv®
 (
yysÿn_t
 
yysÿÂ”
)

4287 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4288  
yylv®
;

4289 
	}
}

4291 
	$yy£t_lv®
 (
YYSTYPE
 * 
yylv®_·¿m
 , 
yysÿn_t
 
yysÿÂ”
)

4293 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4294 
yylv®
 = 
yylv®_·¿m
;

4295 
	}
}

4297 
YYLTYPE
 *
	$yyg‘_Îoc
 (
yysÿn_t
 
yysÿÂ”
)

4299 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4300  
yyÎoc
;

4301 
	}
}

4303 
	$yy£t_Îoc
 (
YYLTYPE
 * 
yyÎoc_·¿m
 , 
yysÿn_t
 
yysÿÂ”
)

4305 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4306 
yyÎoc
 = 
yyÎoc_·¿m
;

4307 
	}
}

4316 
	$yyËx_š™
(
yysÿn_t
* 
±r_yy_glob®s
)

4319 ià(
±r_yy_glob®s
 =ğ
NULL
){

4320 
”ºo
 = 
EINVAL
;

4324 *
±r_yy_glob®s
 = (
yysÿn_t
è
	`yy®loc
 ( Ğ
yyguts_t
 ), 
NULL
 );

4326 ià(*
±r_yy_glob®s
 =ğ
NULL
){

4327 
”ºo
 = 
ENOMEM
;

4332 
	`mem£t
(*
±r_yy_glob®s
,0x00,(
yyguts_t
));

4334  
	`yy_š™_glob®s
 ( *
±r_yy_glob®s
 );

4335 
	}
}

4345 
	$yyËx_š™_exŒa
(
YY_EXTRA_TYPE
 
yy_u£r_defšed
,
yysÿn_t
* 
±r_yy_glob®s
 )

4348 
yyguts_t
 
dummy_yyguts
;

4350 
	`yy£t_exŒa
 (
yy_u£r_defšed
, &
dummy_yyguts
);

4352 ià(
±r_yy_glob®s
 =ğ
NULL
){

4353 
”ºo
 = 
EINVAL
;

4357 *
±r_yy_glob®s
 = (
yysÿn_t
è
	`yy®loc
 ( Ğ
yyguts_t
 ), &
dummy_yyguts
 );

4359 ià(*
±r_yy_glob®s
 =ğ
NULL
){

4360 
”ºo
 = 
ENOMEM
;

4366 
	`mem£t
(*
±r_yy_glob®s
,0x00,(
yyguts_t
));

4368 
	`yy£t_exŒa
 (
yy_u£r_defšed
, *
±r_yy_glob®s
);

4370  
	`yy_š™_glob®s
 ( *
±r_yy_glob®s
 );

4371 
	}
}

4373 
	$yy_š™_glob®s
 (
yysÿn_t
 
yysÿÂ”
)

4375 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4380 
yyg
->
yy_bufãr_¡ack
 = 0;

4381 
yyg
->
yy_bufãr_¡ack_tİ
 = 0;

4382 
yyg
->
yy_bufãr_¡ack_max
 = 0;

4383 
yyg
->
yy_c_buf_p
 = (*) 0;

4384 
yyg
->
yy_š™
 = 0;

4385 
yyg
->
yy_¡¬t
 = 0;

4387 
yyg
->
yy_¡¬t_¡ack_±r
 = 0;

4388 
yyg
->
yy_¡¬t_¡ack_d•th
 = 0;

4389 
yyg
->
yy_¡¬t_¡ack
 = 
NULL
;

4392 #ifdeà
YY_STDINIT


4393 
yyš
 = 
¡dš
;

4394 
yyout
 = 
¡dout
;

4396 
yyš
 = (
FILE
 *) 0;

4397 
yyout
 = (
FILE
 *) 0;

4404 
	}
}

4407 
	$yyËx_de¡roy
 (
yysÿn_t
 
yysÿÂ”
)

4409 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4412 
YY_CURRENT_BUFFER
){

4413 
	`yy_d–‘e_bufãr
(
YY_CURRENT_BUFFER
 ,
yysÿÂ”
 );

4414 
YY_CURRENT_BUFFER_LVALUE
 = 
NULL
;

4415 
	`yypİ_bufãr_¡©e
(
yysÿÂ”
);

4419 
	`yyä“
(
yyg
->
yy_bufãr_¡ack
 ,
yysÿÂ”
);

4420 
yyg
->
yy_bufãr_¡ack
 = 
NULL
;

4423 
	`yyä“
(
yyg
->
yy_¡¬t_¡ack
 ,
yysÿÂ”
 );

4424 
yyg
->
yy_¡¬t_¡ack
 = 
NULL
;

4428 
	`yy_š™_glob®s
Ğ
yysÿÂ”
);

4431 
	`yyä“
 ( 
yysÿÂ”
 , yyscanner );

4432 
yysÿÂ”
 = 
NULL
;

4434 
	}
}

4440 #iâdeà
yy‹xt_±r


4441 
	$yy_æex_¡ºıy
 (* 
s1
, 
yycÚ¡
 * 
s2
, 
n
 , 
yysÿn_t
 
yysÿÂ”
)

4443 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4444 ()
yyg
;

4446 
i
;

4447  
i
 = 0; i < 
n
; ++i )

4448 
s1
[
i
] = 
s2
[i];

4449 
	}
}

4452 #ifdeà
YY_NEED_STRLEN


4453 
	$yy_æex_¡¾’
 (
yycÚ¡
 * 
s
 , 
yysÿn_t
 
yysÿÂ”
)

4455 
n
;

4456  
n
 = 0; 
s
[n]; ++n )

4459  
n
;

4460 
	}
}

4463 *
	$yy®loc
 (
yy_size_t
 
size
 , 
yysÿn_t
 
yysÿÂ”
)

4465 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4466 ()
yyg
;

4467  (*è
	`m®loc
Ğ
size
 );

4468 
	}
}

4470 *
	$yy»®loc
 (* 
±r
, 
yy_size_t
 
size
 , 
yysÿn_t
 
yysÿÂ”
)

4472 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4473 ()
yyg
;

4482  (*è
	`»®loc
Ğ(*è
±r
, 
size
 );

4483 
	}
}

4485 
	$yyä“
 (* 
±r
 , 
yysÿn_t
 
yysÿÂ”
)

4487 
yyguts_t
 * 
yyg
 = (yyguts_t*)
yysÿÂ”
;

4488 ()
yyg
;

4489 
	`ä“
Ğ(*è
±r
 );

4490 
	}
}

4492 
	#YYTABLES_NAME
 "yybËs"

	)

	@/home/huangwentao/WorkSpaces/carrots/dbms/parser/sql.tab.c

44 
	#YYBISON
 1

	)

47 
	#YYBISON_VERSION
 "3.0.4"

	)

50 
	#YYSKELETON_NAME
 "yacc.c"

	)

53 
	#YYPURE
 1

	)

56 
	#YYPUSH
 0

	)

59 
	#YYPULL
 1

	)

67 
	~<¡dlib.h
>

68 
	~<¡d¬g.h
>

69 
	~<¡ršg.h
>

73 #iâdeà
YY_NULLPTR


74 #ià
defšed
 
__ılu¥lus
 && 201103L <= __cplusplus

75 
	#YY_NULLPTR
 
nuÎ±r


	)

77 
	#YY_NULLPTR
 0

	)

82 #ifdeà
YYERROR_VERBOSE


83 #undeà
YYERROR_VERBOSE


84 
	#YYERROR_VERBOSE
 1

	)

86 
	#YYERROR_VERBOSE
 0

	)

91 #iâdeà
YY_YY_SQL_TAB_H_INCLUDED


92 
	#YY_YY_SQL_TAB_H_INCLUDED


	)

94 #iâdeà
YYDEBUG


95 
	#YYDEBUG
 0

	)

97 #ià
YYDEBUG


98 
yydebug
;

103 *
	gf’ame
;

105 
	sYYLTYPE
 {

106 
	mfœ¡_lše
;

107 
	mfœ¡_cŞumn
;

108 
	mÏ¡_lše
;

109 
	mÏ¡_cŞumn
;

110 *
	mf’ame
;

111 } 
	tYYLTYPE
;

112 
	#YYLTYPE_IS_DECLARED
 1

	)

114 
	#YYLLOC_DEFAULT
(
Cu¼’t
, 
Rhs
, 
N
) \

116 ià(
N
) \

118 (
Cu¼’t
).
fœ¡_lše
 = 
	`YYRHSLOC
 (
Rhs
, 1).first_line; \

119 (
Cu¼’t
).
fœ¡_cŞumn
 = 
	`YYRHSLOC
 (
Rhs
, 1).first_column; \

120 (
Cu¼’t
).
Ï¡_lše
 = 
	`YYRHSLOC
 (
Rhs
, 
N
).last_line; \

121 (
Cu¼’t
).
Ï¡_cŞumn
 = 
	`YYRHSLOC
 (
Rhs
, 
N
).last_column; \

122 (
Cu¼’t
).
f’ame
 = 
	`YYRHSLOC
 (
Rhs
, 1).filename; \

126 (
Cu¼’t
).
fœ¡_lše
 = (Cu¼’t).
Ï¡_lše
 = \

127 
	`YYRHSLOC
 (
Rhs
, 0).
Ï¡_lše
; \

128 (
Cu¼’t
).
fœ¡_cŞumn
 = (Cu¼’t).
Ï¡_cŞumn
 = \

129 
	`YYRHSLOC
 (
Rhs
, 0).
Ï¡_cŞumn
; \

130 (
Cu¼’t
).
f’ame
 = 
NULL
; \

132 0)

	)

134 #iâdeà
YY_TYPEDEF_YY_SCANNER_T


135 
	#YY_TYPEDEF_YY_SCANNER_T


	)

136 * 
	tyysÿn_t
;

139 
	gpsql_¡©e
;

144 #iâdeà
YYTOKENTYPE


145 
	#YYTOKENTYPE


	)

146 
	eyytok’ty³


148 
	mNAME
 = 258,

149 
	mSTRING
 = 259,

150 
	mINTNUM
 = 260,

151 
	mBOOL
 = 261,

152 
	mAPPROXNUM
 = 262,

153 
	mUSERVAR
 = 263,

154 
	mASSIGN
 = 264,

155 
	mOR
 = 265,

156 
	mXOR
 = 266,

157 
	mANDOP
 = 267,

158 
	mIN
 = 268,

159 
	mIS
 = 269,

160 
	mLIKE
 = 270,

161 
	mREGEXP
 = 271,

162 
	mNOT
 = 272,

163 
	mBETWEEN
 = 273,

164 
	mCOMPARISON
 = 274,

165 
	mSHIFT
 = 275,

166 
	mMOD
 = 276,

167 
	mUMINUS
 = 277,

168 
	mADD
 = 278,

169 
	mALL
 = 279,

170 
	mALTER
 = 280,

171 
	mANALYZE
 = 281,

172 
	mAND
 = 282,

173 
	mANY
 = 283,

174 
	mAS
 = 284,

175 
	mASC
 = 285,

176 
	mAUTO_INCREMENT
 = 286,

177 
	mBEFORE
 = 287,

178 
	mBIGINT
 = 288,

179 
	mBINARY
 = 289,

180 
	mBIT
 = 290,

181 
	mBLOB
 = 291,

182 
	mBOTH
 = 292,

183 
	mBY
 = 293,

184 
	mCALL
 = 294,

185 
	mCASCADE
 = 295,

186 
	mCASE
 = 296,

187 
	mCHANGE
 = 297,

188 
	mCHAR
 = 298,

189 
	mCHECK
 = 299,

190 
	mCOLLATE
 = 300,

191 
	mCOLUMN
 = 301,

192 
	mCOMMENT
 = 302,

193 
	mCONDITION
 = 303,

194 
	mCONSTRAINT
 = 304,

195 
	mCONTINUE
 = 305,

196 
	mCONVERT
 = 306,

197 
	mCREATE
 = 307,

198 
	mCROSS
 = 308,

199 
	mCURRENT_DATE
 = 309,

200 
	mCURRENT_TIME
 = 310,

201 
	mCURRENT_TIMESTAMP
 = 311,

202 
	mCURRENT_USER
 = 312,

203 
	mCURSOR
 = 313,

204 
	mDATABASE
 = 314,

205 
	mDATABASES
 = 315,

206 
	mDATE
 = 316,

207 
	mDATETIME
 = 317,

208 
	mDAY_HOUR
 = 318,

209 
	mDAY_MICROSECOND
 = 319,

210 
	mDAY_MINUTE
 = 320,

211 
	mDAY_SECOND
 = 321,

212 
	mDECIMAL
 = 322,

213 
	mDECLARE
 = 323,

214 
	mDEFAULT
 = 324,

215 
	mDELAYED
 = 325,

216 
	mDELETE
 = 326,

217 
	mDESC
 = 327,

218 
	mDESCRIBE
 = 328,

219 
	mDETERMINISTIC
 = 329,

220 
	mDISTINCT
 = 330,

221 
	mDISTINCTROW
 = 331,

222 
	mDIV
 = 332,

223 
	mDOUBLE
 = 333,

224 
	mDROP
 = 334,

225 
	mDUAL
 = 335,

226 
	mEACH
 = 336,

227 
	mELSE
 = 337,

228 
	mELSEIF
 = 338,

229 
	mENCLOSED
 = 339,

230 
	mEND
 = 340,

231 
	mENUM
 = 341,

232 
	mESCAPED
 = 342,

233 
	mEXISTS
 = 343,

234 
	mEXIT
 = 344,

235 
	mEXPLAIN
 = 345,

236 
	mFETCH
 = 346,

237 
	mFLOAT
 = 347,

238 
	mFOR
 = 348,

239 
	mFORCE
 = 349,

240 
	mFOREIGN
 = 350,

241 
	mFROM
 = 351,

242 
	mFULLTEXT
 = 352,

243 
	mGRANT
 = 353,

244 
	mGROUP
 = 354,

245 
	mHAVING
 = 355,

246 
	mHIGH_PRIORITY
 = 356,

247 
	mHOUR_MICROSECOND
 = 357,

248 
	mHOUR_MINUTE
 = 358,

249 
	mHOUR_SECOND
 = 359,

250 
	mIF
 = 360,

251 
	mIGNORE
 = 361,

252 
	mINDEX
 = 362,

253 
	mINFILE
 = 363,

254 
	mINNER
 = 364,

255 
	mINOUT
 = 365,

256 
	mINSENSITIVE
 = 366,

257 
	mINSERT
 = 367,

258 
	mINT
 = 368,

259 
	mINTEGER
 = 369,

260 
	mINTERVAL
 = 370,

261 
	mINTO
 = 371,

262 
	mITERATE
 = 372,

263 
	mJOIN
 = 373,

264 
	mKEY
 = 374,

265 
	mKEYS
 = 375,

266 
	mKILL
 = 376,

267 
	mLEADING
 = 377,

268 
	mLEAVE
 = 378,

269 
	mLEFT
 = 379,

270 
	mLIMIT
 = 380,

271 
	mLINES
 = 381,

272 
	mLOAD
 = 382,

273 
	mLOCALTIME
 = 383,

274 
	mLOCALTIMESTAMP
 = 384,

275 
	mLOCK
 = 385,

276 
	mLONG
 = 386,

277 
	mLONGBLOB
 = 387,

278 
	mLONGTEXT
 = 388,

279 
	mLOOP
 = 389,

280 
	mLOW_PRIORITY
 = 390,

281 
	mMATCH
 = 391,

282 
	mMEDIUMBLOB
 = 392,

283 
	mMEDIUMINT
 = 393,

284 
	mMEDIUMTEXT
 = 394,

285 
	mMINUTE_MICROSECOND
 = 395,

286 
	mMINUTE_SECOND
 = 396,

287 
	mMODIFIES
 = 397,

288 
	mNATURAL
 = 398,

289 
	mNO_WRITE_TO_BINLOG
 = 399,

290 
	mNULLX
 = 400,

291 
	mNUMBER
 = 401,

292 
	mON
 = 402,

293 
	mONDUPLICATE
 = 403,

294 
	mOPTIMIZE
 = 404,

295 
	mOPTION
 = 405,

296 
	mOPTIONALLY
 = 406,

297 
	mORDER
 = 407,

298 
	mOUT
 = 408,

299 
	mOUTER
 = 409,

300 
	mOUTFILE
 = 410,

301 
	mPRECISION
 = 411,

302 
	mPRIMARY
 = 412,

303 
	mPROCEDURE
 = 413,

304 
	mPURGE
 = 414,

305 
	mQUICK
 = 415,

306 
	mREAD
 = 416,

307 
	mREADS
 = 417,

308 
	mREAL
 = 418,

309 
	mREFERENCES
 = 419,

310 
	mRELEASE
 = 420,

311 
	mRENAME
 = 421,

312 
	mREPEAT
 = 422,

313 
	mREPLACE
 = 423,

314 
	mREQUIRE
 = 424,

315 
	mRESTRICT
 = 425,

316 
	mRETURN
 = 426,

317 
	mREVOKE
 = 427,

318 
	mRIGHT
 = 428,

319 
	mROLLUP
 = 429,

320 
	mSCHEMA
 = 430,

321 
	mSCHEMAS
 = 431,

322 
	mSECOND_MICROSECOND
 = 432,

323 
	mSELECT
 = 433,

324 
	mSENSITIVE
 = 434,

325 
	mSEPARATOR
 = 435,

326 
	mSET
 = 436,

327 
	mSHOW
 = 437,

328 
	mSMALLINT
 = 438,

329 
	mSOME
 = 439,

330 
	mSONAME
 = 440,

331 
	mSPATIAL
 = 441,

332 
	mSPECIFIC
 = 442,

333 
	mSQL
 = 443,

334 
	mSQLEXCEPTION
 = 444,

335 
	mSQLSTATE
 = 445,

336 
	mSQLWARNING
 = 446,

337 
	mSQL_BIG_RESULT
 = 447,

338 
	mSQL_CALC_FOUND_ROWS
 = 448,

339 
	mSQL_SMALL_RESULT
 = 449,

340 
	mSSL
 = 450,

341 
	mSTARTING
 = 451,

342 
	mSTRAIGHT_JOIN
 = 452,

343 
	mTABLE
 = 453,

344 
	mTEMPORARY
 = 454,

345 
	mTEXT
 = 455,

346 
	mTERMINATED
 = 456,

347 
	mTHEN
 = 457,

348 
	mTIME
 = 458,

349 
	mTIMESTAMP
 = 459,

350 
	mTINYBLOB
 = 460,

351 
	mTINYINT
 = 461,

352 
	mTINYTEXT
 = 462,

353 
	mTO
 = 463,

354 
	mTRAILING
 = 464,

355 
	mTRIGGER
 = 465,

356 
	mUNDO
 = 466,

357 
	mUNION
 = 467,

358 
	mUNIQUE
 = 468,

359 
	mUNLOCK
 = 469,

360 
	mUNSIGNED
 = 470,

361 
	mUPDATE
 = 471,

362 
	mUSAGE
 = 472,

363 
	mUSE
 = 473,

364 
	mUSING
 = 474,

365 
	mUTC_DATE
 = 475,

366 
	mUTC_TIME
 = 476,

367 
	mUTC_TIMESTAMP
 = 477,

368 
	mVALUES
 = 478,

369 
	mVARBINARY
 = 479,

370 
	mVARCHAR
 = 480,

371 
	mVARYING
 = 481,

372 
	mWHEN
 = 482,

373 
	mWHERE
 = 483,

374 
	mWHILE
 = 484,

375 
	mWITH
 = 485,

376 
	mWRITE
 = 486,

377 
	mYEAR
 = 487,

378 
	mYEAR_MONTH
 = 488,

379 
	mZEROFILL
 = 489,

380 
	mFSUBSTRING
 = 490,

381 
	mFTRIM
 = 491,

382 
	mFDATE_ADD
 = 492,

383 
	mFDATE_SUB
 = 493,

384 
	mFCOUNT
 = 494

389 #ià! 
defšed
 
YYSTYPE
 && ! defšed 
YYSTYPE_IS_DECLARED


391 
	uYYSTYPE


395 
	mštv®
;

396 
	mæßtv®
;

397 *
	m¡rv®
;

398 
	msubtok
;

403 
YYSTYPE
 
	tYYSTYPE
;

404 
	#YYSTYPE_IS_TRIVIAL
 1

	)

405 
	#YYSTYPE_IS_DECLARED
 1

	)

409 #ià! 
defšed
 
YYLTYPE
 && ! defšed 
YYLTYPE_IS_DECLARED


410 
YYLTYPE
 
	tYYLTYPE
;

411 
	sYYLTYPE


413 
	mfœ¡_lše
;

414 
	mfœ¡_cŞumn
;

415 
	mÏ¡_lše
;

416 
	mÏ¡_cŞumn
;

418 
	#YYLTYPE_IS_DECLARED
 1

	)

419 
	#YYLTYPE_IS_TRIVIAL
 1

	)

424 
yy·r£
 (
yysÿn_t
 
sÿÂ”
, 
psql_¡©e
 *
p¡©e
);

431 
	~"sql.Ëx.h
"

432 
	~"sql-·r£r.h
"

435 
yy”rÜ
(
YYLTYPE
 *, 
yysÿn_t
 
sÿÂ”
, 
psql_¡©e
 *
p¡©e
, cÚ¡ *
s
, ...);

436 
lyy”rÜ
(
YYLTYPE
 
t
, cÚ¡ *
s
, ...);

445 #ifdeà
YYTYPE_UINT8


446 
YYTYPE_UINT8
 
	tyyty³_ušt8
;

448 
	tyyty³_ušt8
;

451 #ifdeà
YYTYPE_INT8


452 
YYTYPE_INT8
 
	tyyty³_št8
;

454 sigÃd 
	tyyty³_št8
;

457 #ifdeà
YYTYPE_UINT16


458 
YYTYPE_UINT16
 
	tyyty³_ušt16
;

460 
	tyyty³_ušt16
;

463 #ifdeà
YYTYPE_INT16


464 
YYTYPE_INT16
 
	tyyty³_št16
;

466 
	tyyty³_št16
;

469 #iâdeà
YYSIZE_T


470 #ifdeà
__SIZE_TYPE__


471 
	#YYSIZE_T
 
__SIZE_TYPE__


	)

472 #–ià
defšed
 
size_t


473 
	#YYSIZE_T
 
size_t


	)

474 #–ià! 
defšed
 
YYSIZE_T


475 
	~<¡ddef.h
>

476 
	#YYSIZE_T
 
size_t


	)

478 
	#YYSIZE_T
 

	)

482 
	#YYSIZE_MAXIMUM
 ((
YYSIZE_T
è-1)

	)

484 #iâdeà
YY_


485 #ià
defšed
 
YYENABLE_NLS
 && YYENABLE_NLS

486 #ià
ENABLE_NLS


487 
	~<libš.h
>

488 
	#YY_
(
Msgid
è
	`dg‘‹xt
 ("bisÚ-ruÁime", Msgid)

	)

491 #iâdeà
YY_


492 
	#YY_
(
Msgid
è
	)
Msgid

496 #iâdeà
YY_ATTRIBUTE


497 #ià(
defšed
 
__GNUC__
 \

498 && (2 < 
	g__GNUC__
 || (__GNUC__ =ğ2 && 96 <ğ
__GNUC_MINOR__
))) \

499 || 
defšed
 
__SUNPRO_C
 && 0x5110 <= __SUNPRO_C

500 
	#YY_ATTRIBUTE
(
S³c
è
	`__©Œibu‹__
(S³c)

	)

502 
	#YY_ATTRIBUTE
(
S³c
è

	)

506 #iâdeà
YY_ATTRIBUTE_PURE


507 
	#YY_ATTRIBUTE_PURE
 
	`YY_ATTRIBUTE
 ((
__pu»__
))

	)

510 #iâdeà
YY_ATTRIBUTE_UNUSED


511 
	#YY_ATTRIBUTE_UNUSED
 
	`YY_ATTRIBUTE
 ((
__unu£d__
))

	)

514 #ià!
defšed
 
_NÜ‘uº
 \

515 && (!
defšed
 
__STDC_VERSION__
 || __STDC_VERSION__ < 201112)

516 #ià
defšed
 
_MSC_VER
 && 1200 <= _MSC_VER

517 
	#_NÜ‘uº
 
	`__deş¥ec
 (
nÜ‘uº
)

	)

519 
	#_NÜ‘uº
 
	`YY_ATTRIBUTE
 ((
__nÜ‘uº__
))

	)

524 #ià! 
defšed
 
lšt
 || defšed 
__GNUC__


525 
	#YYUSE
(
E
è((è(E))

	)

527 
	#YYUSE
(
E
è

	)

530 #ià
defšed
 
__GNUC__
 && 407 <ğ__GNUC__ * 100 + 
__GNUC_MINOR__


532 
	#YY_IGNORE_MAYBE_UNINITIALIZED_BEGIN
 \

533 
	`_P¿gma
 ("GCC diagnostic…ush") \

534 
	`_P¿gma
 ("GCC diagnostic ignored \"-Wuninitialized\"")\

535 
	`_P¿gma
 ("GCC dŸgno¡iøignÜed \"-Wmaybe-unš™Ÿlized\"")

	)

536 
	#YY_IGNORE_MAYBE_UNINITIALIZED_END
 \

537 
	`_P¿gma
 ("GCC dŸgno¡iøpİ")

	)

539 
	#YY_INITIAL_VALUE
(
V®ue
è
	)
Value

541 #iâdeà
YY_IGNORE_MAYBE_UNINITIALIZED_BEGIN


542 
	#YY_IGNORE_MAYBE_UNINITIALIZED_BEGIN


	)

543 
	#YY_IGNORE_MAYBE_UNINITIALIZED_END


	)

545 #iâdeà
YY_INITIAL_VALUE


546 
	#YY_INITIAL_VALUE
(
V®ue
è

	)

550 #ià! 
defšed
 
yyov”æow
 || 
YYERROR_VERBOSE


554 #ifdeà
YYSTACK_USE_ALLOCA


555 #ià
YYSTACK_USE_ALLOCA


556 #ifdeà
__GNUC__


557 
	#YYSTACK_ALLOC
 
__butš_®loÿ


	)

558 #–ià
defšed
 
__BUILTIN_VA_ARG_INCR


559 
	~<®loÿ.h
>

560 #–ià
defšed
 
_AIX


561 
	#YYSTACK_ALLOC
 
__®loÿ


	)

562 #–ià
defšed
 
_MSC_VER


563 
	~<m®loc.h
>

564 
	#®loÿ
 
_®loÿ


	)

566 
	#YYSTACK_ALLOC
 
®loÿ


	)

567 #ià! 
defšed
 
_ALLOCA_H
 && ! defšed 
EXIT_SUCCESS


568 
	~<¡dlib.h
>

570 #iâdeà
EXIT_SUCCESS


571 
	#EXIT_SUCCESS
 0

	)

578 #ifdeà
YYSTACK_ALLOC


580 
	#YYSTACK_FREE
(
PŒ
èdØ{ ; } 0)

	)

581 #iâdeà
YYSTACK_ALLOC_MAXIMUM


586 
	#YYSTACK_ALLOC_MAXIMUM
 4032

	)

589 
	#YYSTACK_ALLOC
 
YYMALLOC


	)

590 
	#YYSTACK_FREE
 
YYFREE


	)

591 #iâdeà
YYSTACK_ALLOC_MAXIMUM


592 
	#YYSTACK_ALLOC_MAXIMUM
 
YYSIZE_MAXIMUM


	)

594 #ià(
defšed
 
__ılu¥lus
 && ! defšed 
EXIT_SUCCESS
 \

595 && ! ((
defšed
 
	gYYMALLOC
 || defšed 
	gm®loc
) \

596 && (
defšed
 
	gYYFREE
 || defšed 
	gä“
)))

597 
	~<¡dlib.h
>

598 #iâdeà
EXIT_SUCCESS


599 
	#EXIT_SUCCESS
 0

	)

602 #iâdeà
YYMALLOC


603 
	#YYMALLOC
 
m®loc


	)

604 #ià! 
defšed
 
m®loc
 && ! defšed 
EXIT_SUCCESS


605 *
m®loc
 (
YYSIZE_T
);

608 #iâdeà
YYFREE


609 
	#YYFREE
 
ä“


	)

610 #ià! 
defšed
 
ä“
 && ! defšed 
EXIT_SUCCESS


611 
ä“
 (*);

618 #ià(! 
defšed
 
yyov”æow
 \

619 && (! 
defšed
 
	g__ılu¥lus
 \

620 || (
defšed
 
	gYYLTYPE_IS_TRIVIAL
 && YYLTYPE_IS_TRIVIAL \

621 && 
defšed
 
	gYYSTYPE_IS_TRIVIAL
 && YYSTYPE_IS_TRIVIAL)))

624 
	uyy®loc


626 
yyty³_št16
 
	myyss_®loc
;

627 
YYSTYPE
 
	myyvs_®loc
;

628 
YYLTYPE
 
	myyls_®loc
;

632 
	#YYSTACK_GAP_MAXIMUM
 ( (
yy®loc
è- 1)

	)

636 
	#YYSTACK_BYTES
(
N
) \

637 ((
N
è* ( (
yyty³_št16
è+  (
YYSTYPE
è+  (
YYLTYPE
)) \

638 + 2 * 
YYSTACK_GAP_MAXIMUM
)

	)

640 
	#YYCOPY_NEEDED
 1

	)

647 
	#YYSTACK_RELOCATE
(
Sck_®loc
, 
Sck
) \

650 
YYSIZE_T
 
yyÃwby‹s
; \

651 
	`YYCOPY
 (&
yy±r
->
Sck_®loc
, 
Sck
, 
yysize
); \

652 
Sck
 = &
yy±r
->
Sck_®loc
; \

653 
yyÃwby‹s
 = 
yy¡acksize
 *  (*
Sck
è+ 
YYSTACK_GAP_MAXIMUM
; \

654 
yy±r
 +ğ
yyÃwby‹s
 /  (*yyptr); \

656 0)

	)

660 #ià
defšed
 
YYCOPY_NEEDED
 && YYCOPY_NEEDED

663 #iâdeà
YYCOPY


664 #ià
defšed
 
__GNUC__
 && 1 < __GNUC__

665 
	#YYCOPY
(
D¡
, 
Src
, 
CouÁ
) \

666 
	`__butš_memıy
 (
D¡
, 
Src
, (
CouÁ
è*  (*(Src)))

	)

668 
	#YYCOPY
(
D¡
, 
Src
, 
CouÁ
) \

671 
YYSIZE_T
 
yyi
; \

672 
yyi
 = 0; yy˜< (
CouÁ
); yyi++) \

673 (
D¡
)[
yyi
] = (
Src
)[yyi]; \

675 0)

	)

681 
	#YYFINAL
 39

	)

683 
	#YYLAST
 1499

	)

686 
	#YYNTOKENS
 254

	)

688 
	#YYNNTS
 78

	)

690 
	#YYNRULES
 313

	)

692 
	#YYNSTATES
 642

	)

696 
	#YYUNDEFTOK
 2

	)

697 
	#YYMAXUTOK
 494

	)

699 
	#YYTRANSLATE
(
YYX
) \

700 ((è(
YYX
è<ğ
YYMAXUTOK
 ? 
yyŒª¦©e
[YYX] : 
YYUNDEFTOK
)

	)

704 cÚ¡ 
yyty³_ušt8
 
	gyyŒª¦©e
[] =

758 #ià
YYDEBUG


760 cÚ¡ 
yyty³_ušt16
 
	gyy¾še
[] =

797 #ià
YYDEBUG
 || 
YYERROR_VERBOSE
 || 0

800 cÚ¡ *cÚ¡ 
	gyyŠame
[] =

859 "Œim_Éb", "š‹rv®_exp", "ÿ£_li¡", 
YY_NULLPTR


863 #ifdeà
YYPRINT


866 cÚ¡ 
yyty³_ušt16
 
	gyytoknum
[] =

897 
	#YYPACT_NINF
 -371

	)

899 
	#yy·ù_v®ue_is_deçuÉ
(
Yy¡©e
) \

900 (!!((
Yy¡©e
è=ğ(-371)))

	)

902 
	#YYTABLE_NINF
 -148

	)

904 
	#yybË_v®ue_is_”rÜ
(
YybË_v®ue
) \

905 (!!((
YybË_v®ue
è=ğ(-148)))

	)

909 cÚ¡ 
yyty³_št16
 
	gyy·ù
[] =

981 cÚ¡ 
yyty³_ušt16
 
	gyydeçù
[] =

1051 cÚ¡ 
yyty³_št16
 
	gyypgÙo
[] =

1064 cÚ¡ 
yyty³_št16
 
	gyydefgÙo
[] =

1079 cÚ¡ 
yyty³_št16
 
	gyybË
[] =

1233 cÚ¡ 
yyty³_št16
 
	gyycheck
[] =

1389 cÚ¡ 
yyty³_ušt16
 
	gyy¡os
[] =

1459 cÚ¡ 
yyty³_ušt16
 
	gyyr1
[] =

1496 cÚ¡ 
yyty³_ušt8
 
	gyyr2
[] =

1533 
	#yy”rok
 (
yy”r¡©us
 = 0)

	)

1534 
	#yyş—rš
 (
yych¬
 = 
YYEMPTY
)

	)

1535 
	#YYEMPTY
 (-2)

	)

1536 
	#YYEOF
 0

	)

1538 
	#YYACCEPT
 
yyacû±Ïb


	)

1539 
	#YYABORT
 
yyabÜab


	)

1540 
	#YYERROR
 
yy”rÜÏb


	)

1543 
	#YYRECOVERING
(è(!!
yy”r¡©us
)

	)

1545 
	#YYBACKUP
(
Tok’
, 
V®ue
) \

1547 ià(
yych¬
 =ğ
YYEMPTY
) \

1549 
yych¬
 = (
Tok’
); \

1550 
yylv®
 = (
V®ue
); \

1551 
	`YYPOPSTACK
 (
yyËn
); \

1552 
yy¡©e
 = *
yys¥
; \

1553 
yybackup
; \

1557 
	`yy”rÜ
 (&
yyÎoc
, 
sÿÂ”
, 
p¡©e
, 
	`YY_
("syntaxƒrror: cannot back up")); \

1558 
YYERROR
; \

1560 0)

	)

1563 
	#YYTERROR
 1

	)

1564 
	#YYERRCODE
 256

	)

1571 #iâdeà
YYLLOC_DEFAULT


1572 
	#YYLLOC_DEFAULT
(
Cu¼’t
, 
Rhs
, 
N
) \

1574 ià(
N
) \

1576 (
Cu¼’t
).
fœ¡_lše
 = 
	`YYRHSLOC
 (
Rhs
, 1).first_line; \

1577 (
Cu¼’t
).
fœ¡_cŞumn
 = 
	`YYRHSLOC
 (
Rhs
, 1).first_column; \

1578 (
Cu¼’t
).
Ï¡_lše
 = 
	`YYRHSLOC
 (
Rhs
, 
N
).last_line; \

1579 (
Cu¼’t
).
Ï¡_cŞumn
 = 
	`YYRHSLOC
 (
Rhs
, 
N
).last_column; \

1583 (
Cu¼’t
).
fœ¡_lše
 = (Cu¼’t).
Ï¡_lše
 = \

1584 
	`YYRHSLOC
 (
Rhs
, 0).
Ï¡_lše
; \

1585 (
Cu¼’t
).
fœ¡_cŞumn
 = (Cu¼’t).
Ï¡_cŞumn
 = \

1586 
	`YYRHSLOC
 (
Rhs
, 0).
Ï¡_cŞumn
; \

1588 0)

	)

1591 
	#YYRHSLOC
(
Rhs
, 
K
è((Rhs)[K])

	)

1595 #ià
YYDEBUG


1597 #iâdeà
YYFPRINTF


1598 
	~<¡dio.h
>

1599 
	#YYFPRINTF
 
årštf


	)

1602 
	#YYDPRINTF
(
Args
) \

1604 ià(
yydebug
) \

1605 
YYFPRINTF
 
Args
; \

1606 } 0)

	)

1613 #iâdeà
YY_LOCATION_PRINT


1614 #ià
defšed
 
YYLTYPE_IS_TRIVIAL
 && YYLTYPE_IS_TRIVIAL

1618 
YY_ATTRIBUTE_UNUSED


1620 
	$yy_loÿtiÚ_´št_
 (
FILE
 *
yyo
, 
YYLTYPE
 cÚ¡ * cÚ¡ 
yyloı
)

1622 
»s
 = 0;

1623 
’d_cŞ
 = 0 !ğ
yyloı
->
Ï¡_cŞumn
 ? yylocp->last_column - 1 : 0;

1624 ià(0 <ğ
yyloı
->
fœ¡_lše
)

1626 
»s
 +ğ
	`YYFPRINTF
 (
yyo
, "%d", 
yyloı
->
fœ¡_lše
);

1627 ià(0 <ğ
yyloı
->
fœ¡_cŞumn
)

1628 
»s
 +ğ
	`YYFPRINTF
 (
yyo
, ".%d", 
yyloı
->
fœ¡_cŞumn
);

1630 ià(0 <ğ
yyloı
->
Ï¡_lše
)

1632 ià(
yyloı
->
fœ¡_lše
 < yyloı->
Ï¡_lše
)

1634 
»s
 +ğ
	`YYFPRINTF
 (
yyo
, "-%d", 
yyloı
->
Ï¡_lše
);

1635 ià(0 <ğ
’d_cŞ
)

1636 
»s
 +ğ
	`YYFPRINTF
 (
yyo
, ".%d", 
’d_cŞ
);

1638 ià(0 <ğ
’d_cŞ
 && 
yyloı
->
fœ¡_cŞumn
 <ƒnd_col)

1639 
»s
 +ğ
	`YYFPRINTF
 (
yyo
, "-%d", 
’d_cŞ
);

1641  
»s
;

1642 
	}
}

1644 
	#YY_LOCATION_PRINT
(
Fe
, 
Loc
) \

1645 
	`yy_loÿtiÚ_´št_
 (
Fe
, &(
Loc
))

	)

1648 
	#YY_LOCATION_PRINT
(
Fe
, 
Loc
è((è0)

	)

1653 
	#YY_SYMBOL_PRINT
(
T™Ë
, 
Ty³
, 
V®ue
, 
LoÿtiÚ
) \

1655 ià(
yydebug
) \

1657 
	`YYFPRINTF
 (
¡d”r
, "% ", 
T™Ë
); \

1658 
	`yy_symbŞ_´št
 (
¡d”r
, \

1659 
Ty³
, 
V®ue
, 
LoÿtiÚ
, 
sÿÂ”
, 
p¡©e
); \

1660 
	`YYFPRINTF
 (
¡d”r
, "\n"); \

1662 } 0)

	)

1670 
	$yy_symbŞ_v®ue_´št
 (
FILE
 *
yyouut
, 
yyty³
, 
YYSTYPE
 cÚ¡ * cÚ¡ 
yyv®u•
, 
YYLTYPE
 cÚ¡ * cÚ¡ 
yyloÿtiÚp
, 
yysÿn_t
 
sÿÂ”
, 
psql_¡©e
 *
p¡©e
)

1672 
FILE
 *
yyo
 = 
yyouut
;

1673 
	`YYUSE
 (
yyo
);

1674 
	`YYUSE
 (
yyloÿtiÚp
);

1675 
	`YYUSE
 (
sÿÂ”
);

1676 
	`YYUSE
 (
p¡©e
);

1677 ià(!
yyv®u•
)

1679 #ifdeà
YYPRINT


1680 ià(
yyty³
 < 
YYNTOKENS
)

1681 
	`YYPRINT
 (
yyouut
, 
yytoknum
[
yyty³
], *
yyv®u•
);

1683 
	`YYUSE
 (
yyty³
);

1684 
	}
}

1692 
	$yy_symbŞ_´št
 (
FILE
 *
yyouut
, 
yyty³
, 
YYSTYPE
 cÚ¡ * cÚ¡ 
yyv®u•
, 
YYLTYPE
 cÚ¡ * cÚ¡ 
yyloÿtiÚp
, 
yysÿn_t
 
sÿÂ”
, 
psql_¡©e
 *
p¡©e
)

1694 
	`YYFPRINTF
 (
yyouut
, "%s %s (",

1695 
yyty³
 < 
YYNTOKENS
 ? "tok’" : "Á”m", 
yyŠame
[yytype]);

1697 
	`YY_LOCATION_PRINT
 (
yyouut
, *
yyloÿtiÚp
);

1698 
	`YYFPRINTF
 (
yyouut
, ": ");

1699 
	`yy_symbŞ_v®ue_´št
 (
yyouut
, 
yyty³
, 
yyv®u•
, 
yyloÿtiÚp
, 
sÿÂ”
, 
p¡©e
);

1700 
	`YYFPRINTF
 (
yyouut
, ")");

1701 
	}
}

1709 
	$yy_¡ack_´št
 (
yyty³_št16
 *
yybÙtom
, yyty³_št16 *
yytİ
)

1711 
	`YYFPRINTF
 (
¡d”r
, "Stack‚ow");

1712 ; 
yybÙtom
 <ğ
yytİ
; yybottom++)

1714 
yybÙ
 = *
yybÙtom
;

1715 
	`YYFPRINTF
 (
¡d”r
, " %d", 
yybÙ
);

1717 
	`YYFPRINTF
 (
¡d”r
, "\n");

1718 
	}
}

1720 
	#YY_STACK_PRINT
(
BÙtom
, 
Tİ
) \

1722 ià(
yydebug
) \

1723 
	`yy_¡ack_´št
 ((
BÙtom
), (
Tİ
)); \

1724 } 0)

	)

1732 
	$yy_»duû_´št
 (
yyty³_št16
 *
yys¥
, 
YYSTYPE
 *
yyv¥
, 
YYLTYPE
 *
yyl¥
, 
yyruË
, 
yysÿn_t
 
sÿÂ”
, 
psql_¡©e
 *
p¡©e
)

1734 
yyÊo
 = 
yy¾še
[
yyruË
];

1735 
yyÄhs
 = 
yyr2
[
yyruË
];

1736 
yyi
;

1737 
	`YYFPRINTF
 (
¡d”r
, "Reducing stack by„ule %d (line %lu):\n",

1738 
yyruË
 - 1, 
yyÊo
);

1740 
yyi
 = 0; yy˜< 
yyÄhs
; yyi++)

1742 
	`YYFPRINTF
 (
¡d”r
, " $%d = ", 
yyi
 + 1);

1743 
	`yy_symbŞ_´št
 (
¡d”r
,

1744 
yy¡os
[
yys¥
[
yyi
 + 1 - 
yyÄhs
]],

1745 &(
yyv¥
[(
yyi
 + 1è- (
yyÄhs
)])

1746 , &(
yyl¥
[(
yyi
 + 1è- (
yyÄhs
)]è, 
sÿÂ”
, 
p¡©e
);

1747 
	`YYFPRINTF
 (
¡d”r
, "\n");

1749 
	}
}

1751 
	#YY_REDUCE_PRINT
(
RuË
) \

1753 ià(
yydebug
) \

1754 
	`yy_»duû_´št
 (
yys¥
, 
yyv¥
, 
yyl¥
, 
RuË
, 
sÿÂ”
, 
p¡©e
); \

1755 } 0)

	)

1759 
	gyydebug
;

1761 
	#YYDPRINTF
(
Args
)

	)

1762 
	#YY_SYMBOL_PRINT
(
T™Ë
, 
Ty³
, 
V®ue
, 
LoÿtiÚ
)

	)

1763 
	#YY_STACK_PRINT
(
BÙtom
, 
Tİ
)

	)

1764 
	#YY_REDUCE_PRINT
(
RuË
)

	)

1769 #iâdeà
YYINITDEPTH


1770 
	#YYINITDEPTH
 200

	)

1780 #iâdeà
YYMAXDEPTH


1781 
	#YYMAXDEPTH
 10000

	)

1785 #ià
YYERROR_VERBOSE


1787 #iâdeà
yy¡¾’


1788 #ià
defšed
 
__GLIBC__
 && defšed 
_STRING_H


1789 
	#yy¡¾’
 
¡¾’


	)

1792 
YYSIZE_T


1793 
	$yy¡¾’
 (cÚ¡ *
yy¡r
)

1795 
YYSIZE_T
 
yyËn
;

1796 
yyËn
 = 0; 
yy¡r
[yylen]; yylen++)

1798  
yyËn
;

1799 
	}
}

1803 #iâdeà
yy¡pıy


1804 #ià
defšed
 
__GLIBC__
 && defšed 
_STRING_H
 && defšed 
_GNU_SOURCE


1805 
	#yy¡pıy
 
¡pıy


	)

1810 
	$yy¡pıy
 (*
yyde¡
, cÚ¡ *
yy¤c
)

1812 *
yyd
 = 
yyde¡
;

1813 cÚ¡ *
yys
 = 
yy¤c
;

1815 (*
yyd
++ = *
yys
++) != '\0')

1818  
yyd
 - 1;

1819 
	}
}

1823 #iâdeà
yyŠam”r


1831 
YYSIZE_T


1832 
	$yyŠam”r
 (*
yy»s
, cÚ¡ *
yy¡r
)

1834 ià(*
yy¡r
 == '"')

1836 
YYSIZE_T
 
yyn
 = 0;

1837 cÚ¡ *
yyp
 = 
yy¡r
;

1840 *++
yyp
)

1844 
do_nÙ_¡r_quÙes
;

1847 ià(*++
yyp
 != '\\')

1848 
do_nÙ_¡r_quÙes
;

1851 ià(
yy»s
)

1852 
yy»s
[
yyn
] = *
yyp
;

1853 
yyn
++;

1857 ià(
yy»s
)

1858 
yy»s
[
yyn
] = '\0';

1859  
yyn
;

1861 
do_nÙ_¡r_quÙes
: ;

1864 ià(! 
yy»s
)

1865  
	`yy¡¾’
 (
yy¡r
);

1867  
	`yy¡pıy
 (
yy»s
, 
yy¡r
) - yyres;

1868 
	}
}

1880 
	$yysyÁax_”rÜ
 (
YYSIZE_T
 *
yymsg_®loc
, **
yymsg
,

1881 
yyty³_št16
 *
yys¥
, 
yytok’
)

1883 
YYSIZE_T
 
yysize0
 = 
	`yyŠam”r
 (
YY_NULLPTR
, 
yyŠame
[
yytok’
]);

1884 
YYSIZE_T
 
yysize
 = 
yysize0
;

1885 ’um { 
YYERROR_VERBOSE_ARGS_MAXIMUM
 = 5 };

1887 cÚ¡ *
yyfÜm©
 = 
YY_NULLPTR
;

1889 cÚ¡ *
yy¬g
[
YYERROR_VERBOSE_ARGS_MAXIMUM
];

1892 
yycouÁ
 = 0;

1917 ià(
yytok’
 !ğ
YYEMPTY
)

1919 
yyn
 = 
yy·ù
[*
yys¥
];

1920 
yy¬g
[
yycouÁ
++] = 
yyŠame
[
yytok’
];

1921 ià(!
	`yy·ù_v®ue_is_deçuÉ
 (
yyn
))

1926 
yyxbegš
 = 
yyn
 < 0 ? -yyn : 0;

1928 
yychecklim
 = 
YYLAST
 - 
yyn
 + 1;

1929 
yyx’d
 = 
yychecklim
 < 
YYNTOKENS
 ? yychecklim : YYNTOKENS;

1930 
yyx
;

1932 
yyx
 = 
yyxbegš
; yyx < 
yyx’d
; ++yyx)

1933 ià(
yycheck
[
yyx
 + 
yyn
] =ğyyx && yyx !ğ
YYTERROR


1934 && !
	`yybË_v®ue_is_”rÜ
 (
yybË
[
yyx
 + 
yyn
]))

1936 ià(
yycouÁ
 =ğ
YYERROR_VERBOSE_ARGS_MAXIMUM
)

1938 
yycouÁ
 = 1;

1939 
yysize
 = 
yysize0
;

1942 
yy¬g
[
yycouÁ
++] = 
yyŠame
[
yyx
];

1944 
YYSIZE_T
 
yysize1
 = 
yysize
 + 
	`yyŠam”r
 (
YY_NULLPTR
, 
yyŠame
[
yyx
]);

1945 ià(! (
yysize
 <ğ
yysize1


1946 && 
yysize1
 <ğ
YYSTACK_ALLOC_MAXIMUM
))

1948 
yysize
 = 
yysize1
;

1954 
yycouÁ
)

1956 
	#YYCASE_
(
N
, 
S
) \

1957 
N
: \

1958 
yyfÜm©
 = 
S
; \

1959 

	)

1960 
	`YYCASE_
(0, 
	`YY_
("syntaxƒrror"));

1961 
	`YYCASE_
(1, 
	`YY_
("syntaxƒrror, unexpected %s"));

1962 
	`YYCASE_
(2, 
	`YY_
("syntaxƒrror, unexpected %s,ƒxpecting %s"));

1963 
	`YYCASE_
(3, 
	`YY_
("syntaxƒrror, unexpected %s,ƒxpecting %s or %s"));

1964 
	`YYCASE_
(4, 
	`YY_
("syntaxƒrror, unexpected %s,ƒxpecting %s or %s or %s"));

1965 
	`YYCASE_
(5, 
	`YY_
("syntaxƒrror, unexpected %s,ƒxpecting %s or %s or %s or %s"));

1966 #undeà
YYCASE_


1970 
YYSIZE_T
 
yysize1
 = 
yysize
 + 
	`yy¡¾’
 (
yyfÜm©
);

1971 ià(! (
yysize
 <ğ
yysize1
 && yysize1 <ğ
YYSTACK_ALLOC_MAXIMUM
))

1973 
yysize
 = 
yysize1
;

1976 ià(*
yymsg_®loc
 < 
yysize
)

1978 *
yymsg_®loc
 = 2 * 
yysize
;

1979 ià(! (
yysize
 <ğ*
yymsg_®loc


1980 && *
yymsg_®loc
 <ğ
YYSTACK_ALLOC_MAXIMUM
))

1981 *
yymsg_®loc
 = 
YYSTACK_ALLOC_MAXIMUM
;

1989 *
yyp
 = *
yymsg
;

1990 
yyi
 = 0;

1991 (*
yyp
 = *
yyfÜm©
) != '\0')

1992 ià(*
yyp
 =ğ'%' && 
yyfÜm©
[1] =ğ's' && 
yyi
 < 
yycouÁ
)

1994 
yyp
 +ğ
	`yyŠam”r
 (yyp, 
yy¬g
[
yyi
++]);

1995 
yyfÜm©
 += 2;

1999 
yyp
++;

2000 
yyfÜm©
++;

2004 
	}
}

2012 
	$yyde¡ruù
 (cÚ¡ *
yymsg
, 
yyty³
, 
YYSTYPE
 *
yyv®u•
, 
YYLTYPE
 *
yyloÿtiÚp
, 
yysÿn_t
 
sÿÂ”
, 
psql_¡©e
 *
p¡©e
)

2014 
	`YYUSE
 (
yyv®u•
);

2015 
	`YYUSE
 (
yyloÿtiÚp
);

2016 
	`YYUSE
 (
sÿÂ”
);

2017 
	`YYUSE
 (
p¡©e
);

2018 ià(!
yymsg
)

2019 
yymsg
 = "Deleting";

2020 
	`YY_SYMBOL_PRINT
 (
yymsg
, 
yyty³
, 
yyv®u•
, 
yyloÿtiÚp
);

2022 
YY_IGNORE_MAYBE_UNINITIALIZED_BEGIN


2023 
yyty³
)

2027 { 
	`´štf
 ("ä“‡ˆ%d %s\n",(*
yyloÿtiÚp
).
fœ¡_lše
, ((*
yyv®u•
).
¡rv®
)); 
	`ä“
(((*yyvaluep).strval)); }

2033 { 
	`´štf
 ("ä“‡ˆ%d %s\n",(*
yyloÿtiÚp
).
fœ¡_lše
, ((*
yyv®u•
).
¡rv®
)); 
	`ä“
(((*yyvaluep).strval)); }

2039 { 
	`´štf
 ("ä“‡ˆ%d %s\n",(*
yyloÿtiÚp
).
fœ¡_lše
, ((*
yyv®u•
).
¡rv®
)); 
	`ä“
(((*yyvaluep).strval)); }

2047 
YY_IGNORE_MAYBE_UNINITIALIZED_END


2048 
	}
}

2058 
	$yy·r£
 (
yysÿn_t
 
sÿÂ”
, 
psql_¡©e
 *
p¡©e
)

2061 
yych¬
;

2067 
	`YY_INITIAL_VALUE
 (
YYSTYPE
 
yyv®_deçuÉ
;)

2068 
YYSTYPE
 
yylv®
 
	`YY_INITIAL_VALUE
 (ğ
yyv®_deçuÉ
);

2071 
YYLTYPE
 
yyloc_deçuÉ


2072 #ià
defšed
 
YYLTYPE_IS_TRIVIAL
 && YYLTYPE_IS_TRIVIAL

2076 
YYLTYPE
 
yyÎoc
 = 
yyloc_deçuÉ
;

2079 
yyÃ¼s
;

2081 
yy¡©e
;

2083 
yy”r¡©us
;

2094 
yyty³_št16
 
yys§
[
YYINITDEPTH
];

2095 
yyty³_št16
 *
yyss
;

2096 
yyty³_št16
 *
yys¥
;

2099 
YYSTYPE
 
yyv§
[
YYINITDEPTH
];

2100 
YYSTYPE
 *
yyvs
;

2101 
YYSTYPE
 *
yyv¥
;

2104 
YYLTYPE
 
yyl§
[
YYINITDEPTH
];

2105 
YYLTYPE
 *
yyls
;

2106 
YYLTYPE
 *
yyl¥
;

2109 
YYLTYPE
 
yy”rÜ_¿nge
[3];

2111 
YYSIZE_T
 
yy¡acksize
;

2113 
yyn
;

2114 
yy»suÉ
;

2116 
yytok’
 = 0;

2119 
YYSTYPE
 
yyv®
;

2120 
YYLTYPE
 
yyloc
;

2122 #ià
YYERROR_VERBOSE


2124 
yymsgbuf
[128];

2125 *
yymsg
 = 
yymsgbuf
;

2126 
YYSIZE_T
 
yymsg_®loc
 =  
yymsgbuf
;

2129 
	#YYPOPSTACK
(
N
è(
yyv¥
 -ğ(N), 
yys¥
 -ğ(N), 
yyl¥
 -ğ(N))

	)

2133 
yyËn
 = 0;

2135 
yys¥
 = 
yyss
 = 
yys§
;

2136 
yyv¥
 = 
yyvs
 = 
yyv§
;

2137 
yyl¥
 = 
yyls
 = 
yyl§
;

2138 
yy¡acksize
 = 
YYINITDEPTH
;

2140 
	`YYDPRINTF
 ((
¡d”r
, "Starting…arse\n"));

2142 
yy¡©e
 = 0;

2143 
yy”r¡©us
 = 0;

2144 
yyÃ¼s
 = 0;

2145 
yych¬
 = 
YYEMPTY
;

2146 
yyl¥
[0] = 
yyÎoc
;

2147 
yy£t¡©e
;

2152 
yyÃw¡©e
:

2155 
yys¥
++;

2157 
yy£t¡©e
:

2158 *
yys¥
 = 
yy¡©e
;

2160 ià(
yyss
 + 
yy¡acksize
 - 1 <ğ
yys¥
)

2163 
YYSIZE_T
 
yysize
 = 
yys¥
 - 
yyss
 + 1;

2165 #ifdeà
yyov”æow


2170 
YYSTYPE
 *
yyvs1
 = 
yyvs
;

2171 
yyty³_št16
 *
yyss1
 = 
yyss
;

2172 
YYLTYPE
 *
yyls1
 = 
yyls
;

2178 
	`yyov”æow
 (
	`YY_
("memoryƒxhausted"),

2179 &
yyss1
, 
yysize
 *  (*
yys¥
),

2180 &
yyvs1
, 
yysize
 *  (*
yyv¥
),

2181 &
yyls1
, 
yysize
 *  (*
yyl¥
),

2182 &
yy¡acksize
);

2184 
yyls
 = 
yyls1
;

2185 
yyss
 = 
yyss1
;

2186 
yyvs
 = 
yyvs1
;

2189 #iâdeà
YYSTACK_RELOCATE


2190 
yyexhau¡edÏb
;

2193 ià(
YYMAXDEPTH
 <ğ
yy¡acksize
)

2194 
yyexhau¡edÏb
;

2195 
yy¡acksize
 *= 2;

2196 ià(
YYMAXDEPTH
 < 
yy¡acksize
)

2197 
yy¡acksize
 = 
YYMAXDEPTH
;

2200 
yyty³_št16
 *
yyss1
 = 
yyss
;

2201 
yy®loc
 *
yy±r
 =

2202 (
yy®loc
 *è
	`YYSTACK_ALLOC
 (
	`YYSTACK_BYTES
 (
yy¡acksize
));

2203 ià(! 
yy±r
)

2204 
yyexhau¡edÏb
;

2205 
	`YYSTACK_RELOCATE
 (
yyss_®loc
, 
yyss
);

2206 
	`YYSTACK_RELOCATE
 (
yyvs_®loc
, 
yyvs
);

2207 
	`YYSTACK_RELOCATE
 (
yyls_®loc
, 
yyls
);

2208 #undeà
YYSTACK_RELOCATE


2209 ià(
yyss1
 !ğ
yys§
)

2210 
	`YYSTACK_FREE
 (
yyss1
);

2215 
yys¥
 = 
yyss
 + 
yysize
 - 1;

2216 
yyv¥
 = 
yyvs
 + 
yysize
 - 1;

2217 
yyl¥
 = 
yyls
 + 
yysize
 - 1;

2219 
	`YYDPRINTF
 ((
¡d”r
, "Stack size increasedo %lu\n",

2220 (è
yy¡acksize
));

2222 ià(
yyss
 + 
yy¡acksize
 - 1 <ğ
yys¥
)

2223 
YYABORT
;

2226 
	`YYDPRINTF
 ((
¡d”r
, "EÁ”šg s‹ %d\n", 
yy¡©e
));

2228 ià(
yy¡©e
 =ğ
YYFINAL
)

2229 
YYACCEPT
;

2231 
yybackup
;

2236 
yybackup
:

2242 
yyn
 = 
yy·ù
[
yy¡©e
];

2243 ià(
	`yy·ù_v®ue_is_deçuÉ
 (
yyn
))

2244 
yydeçuÉ
;

2249 ià(
yych¬
 =ğ
YYEMPTY
)

2251 
	`YYDPRINTF
 ((
¡d”r
, "Reading‡oken: "));

2252 
yych¬
 = 
	`yyËx
 (&
yylv®
, &
yyÎoc
, 
sÿÂ”
);

2255 ià(
yych¬
 <ğ
YYEOF
)

2257 
yych¬
 = 
yytok’
 = 
YYEOF
;

2258 
	`YYDPRINTF
 ((
¡d”r
, "Now‡tƒnd of input.\n"));

2262 
yytok’
 = 
	`YYTRANSLATE
 (
yych¬
);

2263 
	`YY_SYMBOL_PRINT
 ("Nexˆtok’ is", 
yytok’
, &
yylv®
, &
yyÎoc
);

2268 
yyn
 +ğ
yytok’
;

2269 ià(
yyn
 < 0 || 
YYLAST
 < yyÀ|| 
yycheck
[yyn] !ğ
yytok’
)

2270 
yydeçuÉ
;

2271 
yyn
 = 
yybË
[yyn];

2272 ià(
yyn
 <= 0)

2274 ià(
	`yybË_v®ue_is_”rÜ
 (
yyn
))

2275 
yy”¾ab
;

2276 
yyn
 = -yyn;

2277 
yy»duû
;

2282 ià(
yy”r¡©us
)

2283 
yy”r¡©us
--;

2286 
	`YY_SYMBOL_PRINT
 ("Shiášg", 
yytok’
, &
yylv®
, &
yyÎoc
);

2289 
yych¬
 = 
YYEMPTY
;

2291 
yy¡©e
 = 
yyn
;

2292 
YY_IGNORE_MAYBE_UNINITIALIZED_BEGIN


2293 *++
yyv¥
 = 
yylv®
;

2294 
YY_IGNORE_MAYBE_UNINITIALIZED_END


2295 *++
yyl¥
 = 
yyÎoc
;

2296 
yyÃw¡©e
;

2302 
yydeçuÉ
:

2303 
yyn
 = 
yydeçù
[
yy¡©e
];

2304 ià(
yyn
 == 0)

2305 
yy”¾ab
;

2306 
yy»duû
;

2312 
yy»duû
:

2314 
yyËn
 = 
yyr2
[
yyn
];

2324 
yyv®
 = 
yyv¥
[1-
yyËn
];

2327 
	`YYLLOC_DEFAULT
 (
yyloc
, (
yyl¥
 - 
yyËn
), yylen);

2328 
	`YY_REDUCE_PRINT
 (
yyn
);

2329 
yyn
)

2333 {  
yy»suÉ
;}

2339 {  
yy»suÉ
;}

2345 { 
	`sqÍ_¡mt
(
p¡©e
); }

2351 { 
	`sqÍ_£Ëù_nod©a
(
p¡©e
, (
yyv¥
[-1].
štv®
), (yyvsp[0].intval)); }

2357 { 
	`sqÍ_£Ëù
(
p¡©e
, (
yyv¥
[-9].
štv®
), (yyvsp[-8].intval), (yyvsp[-6].intval)); }

2363 { 
	`sqÍ_wh”e
(
p¡©e
); }

2369 { 
	`sqÍ_group_by_li¡
(
p¡©e
, (
yyv¥
[-1].
štv®
), (yyvsp[0].intval)); }

2375 { 
	`sqÍ_group_by
(
p¡©e
, (
yyv¥
[0].
štv®
)); (
yyv®
.intval) = 1; }

2381 { 
	`sqÍ_group_by
(
p¡©e
, (
yyv¥
[0].
štv®
)); (
yyv®
.intval) = (yyvsp[-3].intval) + 1; }

2387 { (
yyv®
.
štv®
) = 0; }

2393 { (
yyv®
.
štv®
) = 0; }

2399 { (
yyv®
.
štv®
) = 1; }

2405 { (
yyv®
.
štv®
) = 0; }

2411 { (
yyv®
.
štv®
) = 1; }

2417 { 
	`sqÍ_havšg
(
p¡©e
); }

2423 { 
	`sqÍ_Üd”_by
(
p¡©e
, (
yyv¥
[0].
štv®
)); }

2429 { 
	`sqÍ_lim™
(
p¡©e
, 0); }

2435 { 
	`sqÍ_lim™
(
p¡©e
, 1); }

2441 { 
	`sqÍ_što
(
p¡©e
, (
yyv¥
[0].
štv®
)); }

2447 { 
	`sqÍ_cŞumn
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = 1; }

2453 { 
	`lyy”rÜ
((
yyl¥
[0]), "¡ršg % found wh”Çm»quœed", (
yyv¥
[0].
¡rv®
));

2454 
	`sqÍ_cŞumn
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = 1; }

2460 { 
	`sqÍ_cŞumn
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-2].intval) + 1; }

2466 { 
	`lyy”rÜ
((
yyl¥
[0]), "¡ršg % found wh”Çm»quœed", (
yyv¥
[-2].
štv®
));

2467 
	`sqÍ_cŞumn
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-2].intval) + 1; }

2473 { (
yyv®
.
štv®
) = 0; }

2479 { if((
yyv®
.
štv®
è& 01è
	`lyy”rÜ
((
yyl¥
[0]),"du¶iÿ‹ ALL o±iÚ"); (yyv®.štv®èğ(
yyv¥
[-1].intval) | 01; }

2485 { if((
yyv®
.
štv®
è& 02è
	`lyy”rÜ
((
yyl¥
[0]),"du¶iÿ‹ DISTINCT o±iÚ"); (yyv®.štv®èğ(
yyv¥
[-1].intval) | 02; }

2491 { if((
yyv®
.
štv®
è& 04è
	`lyy”rÜ
((
yyl¥
[0]),"du¶iÿ‹ DISTINCTROW o±iÚ"); (yyv®.štv®èğ(
yyv¥
[-1].intval) | 04; }

2497 { if((
yyv®
.
štv®
è& 010è
	`lyy”rÜ
((
yyl¥
[0]),"du¶iÿ‹ HIGH_PRIORITY o±iÚ"); (yyv®.štv®èğ(
yyv¥
[-1].intval) | 010; }

2503 { if((
yyv®
.
štv®
è& 020è
	`lyy”rÜ
((
yyl¥
[0]),"du¶iÿ‹ STRAIGHT_JOIN o±iÚ"); (yyv®.štv®èğ(
yyv¥
[-1].intval) | 020; }

2509 { if((
yyv®
.
štv®
è& 040è
	`lyy”rÜ
((
yyl¥
[0]),"du¶iÿ‹ SQL_SMALL_RESULT o±iÚ"); (yyv®.štv®èğ(
yyv¥
[-1].intval) | 040; }

2515 { if((
yyv®
.
štv®
è& 0100è
	`lyy”rÜ
((
yyl¥
[0]),"du¶iÿ‹ SQL_BIG_RESULT o±iÚ"); (yyv®.štv®èğ(
yyv¥
[-1].intval) | 0100; }

2521 { if((
yyv®
.
štv®
è& 0200è
	`lyy”rÜ
((
yyl¥
[0]),"du¶iÿ‹ SQL_CALC_FOUND_ROWS o±iÚ"); (yyv®.štv®èğ(
yyv¥
[-1].intval) | 0200; }

2527 { (
yyv®
.
štv®
) = 1; }

2533 {(
yyv®
.
štv®
èğ(
yyv¥
[-2].intval) + 1; }

2539 { 
	`sqÍ_£Ëù_®l
(
p¡©e
); (
yyv®
.
štv®
) = 1; }

2545 { (
yyv®
.
štv®
) = 1; }

2551 { (
yyv®
.
štv®
èğ(
yyv¥
[-2].intval) + 1; }

2557 { 
	`sqÍ_bË
(
p¡©e
, 
NULL
, (
yyv¥
[-2].
¡rv®
)); 
	`ä“
((yyvsp[-2].strval)); }

2563 { 
	`sqÍ_bË
(
p¡©e
, (
yyv¥
[-4].
¡rv®
), (yyvsp[-2].strval));

2564 
	`ä“
((
yyv¥
[-4].
¡rv®
)); free((yyvsp[-2].strval)); }

2570 { 
	`sqÍ_subqu”y_as
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

2576 { 
	`sqÍ_bË_»fs
(
p¡©e
, (
yyv¥
[-1].
štv®
)); }

2582 { 
	`sqÍ_®Ÿs
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

2588 { 
	`sqÍ_®Ÿs
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

2594 { 
	`sqÍ_još
(
p¡©e
, 0100+(
yyv¥
[-3].
štv®
)); }

2600 { 
	`sqÍ_još
(
p¡©e
, 0200); }

2606 { 
	`sqÍ_još
(
p¡©e
, 0200); }

2612 { 
	`sqÍ_još
(
p¡©e
, 0300+(
yyv¥
[-4].
štv®
)+(yyvsp[-3].intval)); }

2618 { 
	`sqÍ_još
(
p¡©e
, 0400+(
yyv¥
[-2].
štv®
)); }

2624 { (
yyv®
.
štv®
) = 0; }

2630 { (
yyv®
.
štv®
) = 1; }

2636 { (
yyv®
.
štv®
) = 2; }

2642 { (
yyv®
.
štv®
) = 0; }

2648 {(
yyv®
.
štv®
) = 4; }

2654 { (
yyv®
.
štv®
) = 1; }

2660 { (
yyv®
.
štv®
) = 2; }

2666 { (
yyv®
.
štv®
èğ1 + (
yyv¥
[0].intval); }

2672 { (
yyv®
.
štv®
èğ2 + (
yyv¥
[0].intval); }

2678 { (
yyv®
.
štv®
) = 0; }

2684 { 
	`sqÍ_još_ex´
(
p¡©e
); }

2690 { 
	`sqÍ_još_usšg
(
p¡©e
, (
yyv¥
[-1].
štv®
)); }

2696 { 
	`sqÍ_šdex_hšt
(
p¡©e
, (
yyv¥
[-1].
štv®
), 010+(yyvsp[-3].intval)); }

2702 { 
	`sqÍ_šdex_hšt
(
p¡©e
, (
yyv¥
[-1].
štv®
), 020+(yyvsp[-3].intval)); }

2708 { 
	`sqÍ_šdex_hšt
(
p¡©e
, (
yyv¥
[-1].
štv®
), 030+(yyvsp[-3].intval)); }

2714 { (
yyv®
.
štv®
) = 1; }

2720 { (
yyv®
.
štv®
) = 0; }

2726 { 
	`sqÍ_šdex
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = 1; }

2732 { 
	`sqÍ_šdex
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-2].intval) + 1; }

2738 { 
	`sqÍ_subqu”y
(
p¡©e
); }

2744 { 
	`sqÍ_¡mt
(
p¡©e
); }

2750 { 
	`sqÍ_d–‘e
(
p¡©e
, (
yyv¥
[-5].
štv®
), (yyv¥[-3].
¡rv®
)); 
	`ä“
((yyvsp[-3].strval)); }

2756 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) + 01; }

2762 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) + 02; }

2768 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) + 04; }

2774 { (
yyv®
.
štv®
) = 0; }

2780 { 
	`sqÍ_d–‘e_muÉi
(
p¡©e
, (
yyv¥
[-4].
štv®
), (yyvsp[-3].intval), (yyvsp[-1].intval)); }

2786 { 
	`sqÍ_bË
(
p¡©e
, 
NULL
, (
yyv¥
[-1].
¡rv®
)); 
	`ä“
((yyv¥[-1].¡rv®)); (
yyv®
.
štv®
) = 1; }

2792 { 
	`sqÍ_bË
(
p¡©e
, 
NULL
, (
yyv¥
[-1].
¡rv®
)); 
	`ä“
((yyv¥[-1].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-3].intval) + 1; }

2798 { 
	`sqÍ_d–‘e_muÉi
(
p¡©e
, (
yyv¥
[-5].
štv®
), (yyvsp[-3].intval), (yyvsp[-1].intval)); }

2804 { 
	`sqÍ_¡mt
(
p¡©e
); }

2810 { 
	`sqÍ_š£¹
(
p¡©e
, (
yyv¥
[-6].
štv®
), (yyv¥[-1].štv®), (yyv¥[-4].
¡rv®
)); 
	`ä“
((yyvsp[-4].strval)); }

2816 { 
	`sqÍ_šs_dup_upd©e
(
p¡©e
, (
yyv¥
[0].
štv®
)); }

2822 { (
yyv®
.
štv®
) = 0; }

2828 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) | 01 ; }

2834 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) | 02 ; }

2840 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) | 04 ; }

2846 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) | 010 ; }

2852 { 
	`sqÍ_šs_cŞs
(
p¡©e
, (
yyv¥
[-1].
štv®
)); }

2858 { 
	`sqÍ_v®ues
(
p¡©e
, (
yyv¥
[-1].
štv®
)); (
yyv®
.intval) = 1; }

2864 { 
	`sqÍ_v®ues
(
p¡©e
, (
yyv¥
[-1].
štv®
)); (
yyv®
.intval) = (yyvsp[-4].intval) + 1; }

2870 { (
yyv®
.
štv®
) = 1; }

2876 { 
	`sqÍ_šs_deçuÉ
(
p¡©e
); (
yyv®
.
štv®
) = 1; }

2882 { (
yyv®
.
štv®
èğ(
yyv¥
[-2].intval) + 1; }

2888 { 
	`sqÍ_šs_deçuÉ
(
p¡©e
); (
yyv®
.
štv®
èğ(
yyv¥
[-2].intval) + 1; }

2894 { 
	`sqÍ_š£¹_as¢
(
p¡©e
, (
yyv¥
[-5].
štv®
), (yyv¥[-1].štv®), (yyv¥[-3].
¡rv®
)); 
	`ä“
((yyvsp[-3].strval)); }

2900 { 
	`sqÍ_š£¹_£l
(
p¡©e
, (
yyv¥
[-5].
štv®
), (yyv¥[-3].
¡rv®
)); 
	`ä“
((yyvsp[-3].strval)); }

2906 { ià((
yyv¥
[-1].
subtok
è!ğ4è{ 
	`lyy”rÜ
((
yyl¥
[-1]),"bad in£¹‡ssignm’ˆtØ%s", (yyv¥[-2].
¡rv®
)); 
YYERROR
; }

2907 
	`sqÍ_assign
(
p¡©e
, 
NULL
, (
yyv¥
[-2].
¡rv®
)); 
	`ä“
((yyv¥[-2].¡rv®)); (
yyv®
.
štv®
) = 1; }

2913 { ià((
yyv¥
[-1].
subtok
è!ğ4è{ 
	`lyy”rÜ
((
yyl¥
[-1]),"bad in£¹‡ssignm’ˆtØ%s", (yyv¥[-2].
¡rv®
)); 
YYERROR
; }

2914 
	`sqÍ_šs_deçuÉ
(
p¡©e
); 
	`sqÍ_assign
Õ¡©e, 
NULL
, (
yyv¥
[-2].
¡rv®
)); 
	`ä“
((yyv¥[-2].¡rv®)); (
yyv®
.
štv®
) = 1; }

2920 { ià((
yyv¥
[-1].
subtok
è!ğ4è{ 
	`lyy”rÜ
((
yyl¥
[-1]),"bad in£¹‡ssignm’ˆtØ%s", (yyv¥[-4].
štv®
)); 
YYERROR
; }

2921 
	`sqÍ_assign
(
p¡©e
, 
NULL
, (
yyv¥
[-2].
¡rv®
)); 
	`ä“
((yyv¥[-2].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-4].intval) + 1; }

2927 { ià((
yyv¥
[-1].
subtok
è!ğ4è{ 
	`lyy”rÜ
((
yyl¥
[-1]),"bad in£¹‡ssignm’ˆtØ%s", (yyv¥[-4].
štv®
)); 
YYERROR
; }

2928 
	`sqÍ_šs_deçuÉ
(
p¡©e
); 
	`sqÍ_assign
Õ¡©e, 
NULL
, (
yyv¥
[-2].
¡rv®
)); 
	`ä“
((yyv¥[-2].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-4].intval) + 1; }

2934 { 
	`sqÍ_¡mt
(
p¡©e
); }

2940 { 
	`sqÍ_»¶aû_v®s
(
p¡©e
, (
yyv¥
[-6].
štv®
), (yyv¥[-1].štv®), (yyv¥[-4].
¡rv®
)); 
	`ä“
((yyvsp[-4].strval)); }

2946 { 
	`sqÍ_»¶aû_as¢
(
p¡©e
, (
yyv¥
[-5].
štv®
), (yyv¥[-1].štv®), (yyv¥[-3].
¡rv®
)); 
	`ä“
((yyvsp[-3].strval)); }

2952 { 
	`sqÍ_»¶aû_£l
(
p¡©e
, (
yyv¥
[-5].
štv®
), (yyv¥[-3].
¡rv®
)); 
	`ä“
((yyvsp[-3].strval)); }

2958 { 
	`sqÍ_¡mt
(
p¡©e
); }

2964 { 
	`sqÍ_upd©e
(
p¡©e
, (
yyv¥
[-6].
štv®
), (yyvsp[-5].intval), (yyvsp[-3].intval)); }

2970 { (
yyv®
.
štv®
) = 0; }

2976 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) | 01 ; }

2982 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) | 010 ; }

2988 { ià((
yyv¥
[-1].
subtok
è!ğ4è{ 
	`lyy”rÜ
((
yyl¥
[-1]),"bad upd©assignm’ˆtØ%s", (yyv¥[-2].
¡rv®
)); 
YYERROR
; }

2989 
	`sqÍ_assign
(
p¡©e
, 
NULL
, (
yyv¥
[-2].
¡rv®
)); 
	`ä“
((yyv¥[-2].¡rv®)); (
yyv®
.
štv®
) = 1; }

2995 { ià((
yyv¥
[-1].
subtok
è!ğ4è{ 
	`lyy”rÜ
((
yyl¥
[-1]),"bad upd©assignm’ˆtØ%s", (yyv¥[-4].
¡rv®
)); 
YYERROR
; }

2996 
	`sqÍ_assign
(
p¡©e
, (
yyv¥
[-4].
¡rv®
), (yyv¥[-2].¡rv®)); 
	`ä“
((yyv¥[-4].¡rv®)); f»e((yyv¥[-2].¡rv®)); (
yyv®
.
štv®
) = 1; }

3002 { ià((
yyv¥
[-1].
subtok
è!ğ4è{ 
	`lyy”rÜ
((
yyl¥
[-1]),"bad upd©assignm’ˆtØ%s", (yyv¥[-2].
¡rv®
)); 
YYERROR
; }

3003 
	`sqÍ_assign
(
p¡©e
, 
NULL
, (
yyv¥
[-2].
¡rv®
)); 
	`ä“
((yyv¥[-2].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-4].intval) + 1; }

3009 { ià((
yyv¥
[-1].
subtok
è!ğ4è{ 
	`lyy”rÜ
((
yyl¥
[-1]),"bad upd©‡ssignm’ˆtØ%s.$s", (yyv¥[-4].
¡rv®
), (yyv¥[-2].¡rv®)); 
YYERROR
; }

3010 
	`sqÍ_assign
(
p¡©e
, (
yyv¥
[-4].
¡rv®
), (yyv¥[-2].¡rv®)); 
	`ä“
((yyv¥[-4].¡rv®)); f»e((yyv¥[-2].¡rv®)); (
yyv®
.
štv®
) = 1; }

3016 { 
	`sqÍ_¡mt
(
p¡©e
); }

3022 { 
	`sqÍ_ü—‹_db
(
p¡©e
, (
yyv¥
[-1].
štv®
), (yyv¥[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

3028 { 
	`sqÍ_ü—‹_db
(
p¡©e
, (
yyv¥
[-1].
štv®
), (yyv¥[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

3034 { (
yyv®
.
štv®
) = 0; }

3040 { if(!(
yyv¥
[0].
subtok
)è{ 
	`lyy”rÜ
((
yyl¥
[0]),"IF EXISTS dÛ¢'ˆexi¡"); 
YYERROR
; }

3041 (
yyv®
.
štv®
èğ(
yyv¥
[0].
subtok
); }

3047 { 
	`sqÍ_¡mt
(
p¡©e
); }

3053 { 
	`sqÍ_drİ_db
(
p¡©e
, (
yyv¥
[-1].
štv®
), (yyv¥[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

3059 { 
	`sqÍ_drİ_db
(
p¡©e
, (
yyv¥
[-1].
štv®
), (yyv¥[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

3065 { (
yyv®
.
štv®
) = 0; }

3071 { (
yyv®
.
štv®
) = 1; }

3077 { 
	`sqÍ_¡mt
(
p¡©e
); }

3083 { 
	`sqÍ_ü—‹_tbl
(
p¡©e
, (
yyv¥
[-6].
štv®
), (yyv¥[-4].štv®), (yyv¥[-1].štv®), 
NULL
, (yyv¥[-3].
¡rv®
)); 
	`ä“
((yyvsp[-3].strval)); }

3089 { 
	`sqÍ_ü—‹_tbl
(
p¡©e
, (
yyv¥
[-8].
štv®
), (yyv¥[-6].štv®), (yyv¥[-1].štv®), (yyv¥[-5].
¡rv®
), (yyvsp[-3].strval));

3090 
	`ä“
((
yyv¥
[-5].
¡rv®
)); free((yyvsp[-3].strval)); }

3096 { 
	`sqÍ_ü—‹_tbl_£l
(
p¡©e
, (
yyv¥
[-7].
štv®
), (yyv¥[-5].štv®), (yyv¥[-2].štv®), 
NULL
, (yyv¥[-4].
¡rv®
)); 
	`ä“
((yyvsp[-4].strval)); }

3102 { 
	`sqÍ_ü—‹_tbl_£l
(
p¡©e
, (
yyv¥
[-4].
štv®
), (yyv¥[-2].štv®), 0, 
NULL
, (yyv¥[-1].
¡rv®
)); 
	`ä“
((yyvsp[-1].strval)); }

3108 { 
	`sqÍ_ü—‹_tbl_£l
(
p¡©e
, (
yyv¥
[-9].
štv®
), (yyv¥[-7].štv®), 0, (yyv¥[-6].
¡rv®
), (yyvsp[-4].strval));

3109 
	`ä“
((
yyv¥
[-6].
¡rv®
)); free((yyvsp[-4].strval)); }

3115 { 
	`sqÍ_ü—‹_tbl_£l
(
p¡©e
, (
yyv¥
[-6].
štv®
), (yyv¥[-4].štv®), 0, (yyv¥[-3].
¡rv®
), (yyvsp[-1].strval));

3116 
	`ä“
((
yyv¥
[-3].
¡rv®
)); free((yyvsp[-1].strval)); }

3122 { (
yyv®
.
štv®
) = 1; }

3128 { (
yyv®
.
štv®
èğ(
yyv¥
[-2].intval) + 1; }

3134 { 
	`sqÍ_¡¬t_cŞ
(
p¡©e
); }

3140 { 
	`sqÍ_def_cŞ
(
p¡©e
, (
yyv¥
[-1].
štv®
), (yyv¥[-2].
¡rv®
)); 
	`ä“
((yyvsp[-2].strval)); }

3146 { 
	`sqÍ_cŞ_key_´i
(
p¡©e
, (
yyv¥
[-1].
štv®
)); }

3152 { 
	`sqÍ_cŞ_key
(
p¡©e
, (
yyv¥
[-1].
štv®
)); }

3158 { 
	`sqÍ_cŞ_key
(
p¡©e
, (
yyv¥
[-1].
štv®
)); }

3164 { 
	`sqÍ_cŞ_key_‹xtidx
(
p¡©e
, (
yyv¥
[-1].
štv®
)); }

3170 { 
	`sqÍ_cŞ_key_‹xtidx
(
p¡©e
, (
yyv¥
[-1].
štv®
)); }

3176 { (
yyv®
.
štv®
) = 0; }

3182 { 
	`sqÍ_cŞ_©Œ
(
p¡©e
, 
SCA_NOTNULL
); (
yyv®
.
štv®
èğ(
yyv¥
[-2].intval) + 1; }

3188 { 
	`sqÍ_cŞ_def_¡r
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-2].intval) + 1; }

3194 { 
	`sqÍ_cŞ_def_num
(
p¡©e
, (
yyv¥
[0].
štv®
)); (
yyv®
.intval) = (yyvsp[-2].intval) + 1; }

3200 { 
	`sqÍ_cŞ_def_æßt
(
p¡©e
, (
yyv¥
[0].
æßtv®
)); (
yyv®
.
štv®
) = (yyvsp[-2].intval) + 1; }

3206 { 
	`sqÍ_cŞ_def_boŞ
(
p¡©e
, (
yyv¥
[0].
štv®
)); (
yyv®
.intval) = (yyvsp[-2].intval) + 1; }

3212 { 
	`sqÍ_cŞ_©Œ
(
p¡©e
, 
SCA_AUTOINC
); (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) + 1; }

3218 { 
	`sqÍ_cŞ_©Œ_uniq
(
p¡©e
, (
yyv¥
[-1].
štv®
)); (
yyv®
.intval) = (yyvsp[-4].intval) + 1; }

3224 { 
	`sqÍ_cŞ_©Œ_uniq
(
p¡©e
, 0); (
yyv®
.
štv®
èğ(
yyv¥
[-2].intval) + 1; }

3230 { 
	`sqÍ_cŞ_©Œ
(
p¡©e
, 
SCA_PRIMARY_KEY
); (
yyv®
.
štv®
èğ(
yyv¥
[-2].intval) + 1; }

3236 { 
	`sqÍ_cŞ_©Œ
(
p¡©e
, 
SCA_PRIMARY_KEY
); (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) + 1; }

3242 { 
	`sqÍ_cŞ_©Œ_comm
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-2].intval) + 1; }

3248 { (
yyv®
.
štv®
) = 0; }

3254 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval); }

3260 { (
yyv®
.
štv®
èğ(
yyv¥
[-3].intval) + 1000*(yyvsp[-1].intval); }

3266 { (
yyv®
.
štv®
) = 0; }

3272 { (
yyv®
.
štv®
) = 4000; }

3278 { (
yyv®
.
štv®
) = 0; }

3284 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) | 1000; }

3290 { (
yyv®
.
štv®
èğ(
yyv¥
[-1].intval) | 2000; }

3296 { 
	`sqÍ_cŞ_ch¬£t
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

3302 { 
	`sqÍ_cŞ_cŞÏ‹
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

3308 { (
yyv®
.
štv®
èğ10000 + (
yyv¥
[0].intval); }

3314 { (
yyv®
.
štv®
èğ10000 + (
yyv¥
[-1].intval); }

3320 { (
yyv®
.
štv®
èğ20000 + (
yyv¥
[-1].intval) + (yyvsp[0].intval); }

3326 { (
yyv®
.
štv®
èğ30000 + (
yyv¥
[-1].intval) + (yyvsp[0].intval); }

3332 { (
yyv®
.
štv®
èğ40000 + (
yyv¥
[-1].intval) + (yyvsp[0].intval); }

3338 { (
yyv®
.
štv®
èğ50000 + (
yyv¥
[-1].intval) + (yyvsp[0].intval); }

3344 { (
yyv®
.
štv®
èğ60000 + (
yyv¥
[-1].intval) + (yyvsp[0].intval); }

3350 { (
yyv®
.
štv®
èğ70000 + (
yyv¥
[-1].intval) + (yyvsp[0].intval); }

3356 { (
yyv®
.
štv®
èğ80000 + (
yyv¥
[-1].intval) + (yyvsp[0].intval); }

3362 { (
yyv®
.
štv®
èğ90000 + (
yyv¥
[-1].intval) + (yyvsp[0].intval); }

3368 { (
yyv®
.
štv®
èğ110000 + (
yyv¥
[-1].intval) + (yyvsp[0].intval); }

3374 { (
yyv®
.
štv®
) = 100001; }

3380 { (
yyv®
.
štv®
) = 100002; }

3386 { (
yyv®
.
štv®
) = 100003; }

3392 { (
yyv®
.
štv®
) = 100004; }

3398 { (
yyv®
.
štv®
) = 100005; }

3404 { (
yyv®
.
štv®
èğ120000 + (
yyv¥
[-1].intval); }

3410 { (
yyv®
.
štv®
èğ130000 + (
yyv¥
[-2].intval); }

3416 { (
yyv®
.
štv®
èğ140000 + (
yyv¥
[0].intval); }

3422 { (
yyv®
.
štv®
èğ150000 + (
yyv¥
[-1].intval); }

3428 { (
yyv®
.
štv®
) = 160001; }

3434 { (
yyv®
.
štv®
) = 160002; }

3440 { (
yyv®
.
štv®
) = 160003; }

3446 { (
yyv®
.
štv®
) = 160004; }

3452 { (
yyv®
.
štv®
èğ170000 + (
yyv¥
[-1].intval); }

3458 { (
yyv®
.
štv®
èğ171000 + (
yyv¥
[-1].intval); }

3464 { (
yyv®
.
štv®
èğ172000 + (
yyv¥
[-1].intval); }

3470 { (
yyv®
.
štv®
èğ173000 + (
yyv¥
[-1].intval); }

3476 { (
yyv®
.
štv®
èğ200000 + (
yyv¥
[-2].intval); }

3482 { (
yyv®
.
štv®
èğ210000 + (
yyv¥
[-2].intval); }

3488 { 
	`sqÍ_’um_v®
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = 1; }

3494 { 
	`sqÍ_’um_v®
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-2].intval) + 1; }

3500 { 
	`sqÍ_ü—‹_£l
(
p¡©e
, (
yyv¥
[-2].
štv®
)); }

3506 { (
yyv®
.
štv®
) = 0; }

3512 { (
yyv®
.
štv®
) = 1; }

3518 { (
yyv®
.
štv®
) = 2; }

3524 { (
yyv®
.
štv®
) = 0; }

3530 { (
yyv®
.
štv®
) = 1;}

3536 { 
	`sqÍ_¡mt
(
p¡©e
); }

3542 { 
	`sqÍ_drİ_bË
(
p¡©e
, (
yyv¥
[-3].
štv®
), (yyvsp[-1].intval), (yyvsp[0].intval)); }

3548 { 
	`sqÍ_bË
(
p¡©e
, 
NULL
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = 1; }

3554 { 
	`lyy”rÜ
((
yyl¥
[0]), "¡ršg % found wh”Çm»quœed", (
yyv¥
[0].
¡rv®
));

3555 
	`sqÍ_bË
(
p¡©e
, 
NULL
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = 1; }

3561 { 
	`sqÍ_bË
(
p¡©e
, 
NULL
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-2].intval) + 1; }

3567 { 
	`lyy”rÜ
((
yyl¥
[0]), "¡ršg % found wh”Çm»quœed", (
yyv¥
[-2].
štv®
));

3568 
	`sqÍ_bË
(
p¡©e
, 
NULL
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyv¥[0].¡rv®)); (
yyv®
.
štv®
) = (yyvsp[-2].intval) + 1; }

3574 { 
	`sqÍ_¡mt
(
p¡©e
); }

3580 { ià((
yyv¥
[-1].
subtok
è!ğ4è{ 
	`lyy”rÜ
((
yyl¥
[-1]),"bad s‘Ø@%s", (yyv¥[-2].
¡rv®
)); 
YYERROR
; }

3581 
	`sqÍ_£t
(
p¡©e
, (
yyv¥
[-2].
¡rv®
)); 
	`ä“
((yyvsp[-2].strval)); }

3587 { 
	`sqÍ_£t
(
p¡©e
, (
yyv¥
[-2].
¡rv®
)); 
	`ä“
((yyvsp[-2].strval)); }

3593 { 
	`sqÍ_Çme
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

3599 { 
	`sqÍ_u£rv¬
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

3605 { 
	`sqÍ_f›ldÇme
(
p¡©e
, (
yyv¥
[-2].
¡rv®
), (yyv¥[0].¡rv®)); 
	`ä“
((yyvsp[-2].strval)); free((yyvsp[0].strval)); }

3611 { 
	`sqÍ_¡ršg
(
p¡©e
, (
yyv¥
[0].
¡rv®
)); 
	`ä“
((yyvsp[0].strval)); }

3617 { 
	`sqÍ_numb”
(
p¡©e
, (
yyv¥
[0].
štv®
)); }

3623 { 
	`sqÍ_æßt
(
p¡©e
, (
yyv¥
[0].
æßtv®
)); }

3629 { 
	`sqÍ_boŞ
(
p¡©e
, (
yyv¥
[0].
štv®
)); }

3635 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_ADD
); }

3641 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_SUB
); }

3647 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_MUL
); }

3653 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_DIV
); }

3659 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_MOD
); }

3665 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_MOD
); }

3671 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_NEG
); }

3677 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_AND
); }

3683 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_OR
); }

3689 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_XOR
); }

3695 { 
	`sqÍ_ex´_cmp
(
p¡©e
, (
yyv¥
[-1].
subtok
)); }

3701 { 
	`sqÍ_ex´_cmp_£l
(
p¡©e
, 0, (
yyv¥
[-3].
subtok
)); }

3707 { 
	`sqÍ_ex´_cmp_£l
(
p¡©e
, 1, (
yyv¥
[-4].
subtok
)); }

3713 { 
	`sqÍ_ex´_cmp_£l
(
p¡©e
, 2, (
yyv¥
[-4].
subtok
)); }

3719 { 
	`sqÍ_ex´_cmp_£l
(
p¡©e
, 3, (
yyv¥
[-4].
subtok
)); }

3725 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_BITOR
); }

3731 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_BITAND
); }

3737 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_BITXOR
); }

3743 { 
	`sqÍ_ex´_İ
(
p¡©e
, (
yyv¥
[-1].
subtok
è=ğ1 ? 
SEO_SHL
 : 
SEO_SHR
); }

3749 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_NOT
); }

3755 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_NOT
); }

3761 { 
	`sqÍ_assign_©
(
p¡©e
, (
yyv¥
[-2].
¡rv®
)); 
	`ä“
((yyvsp[-2].strval)); }

3767 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_IS_NULL
); }

3773 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_IS_NULL
); sqÍ_ex´_İÕ¡©e, 
SEO_NOT
); }

3779 { 
	`sqÍ_ex´_is_boŞ
(
p¡©e
, (
yyv¥
[0].
štv®
)); }

3785 { 
	`sqÍ_ex´_is_boŞ
(
p¡©e
, (
yyv¥
[0].
štv®
)); 
	`sqÍ_ex´_İ
Õ¡©e, 
SEO_NOT
); }

3791 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_BETWEEN
); }

3797 { (
yyv®
.
štv®
) = 1; }

3803 { (
yyv®
.
štv®
èğ1 + (
yyv¥
[0].intval); }

3809 { (
yyv®
.
štv®
) = 0; }

3815 { 
	`sqÍ_ex´_is_š
(
p¡©e
, (
yyv¥
[-1].
štv®
)); }

3821 { 
	`sqÍ_ex´_is_š
(
p¡©e
, (
yyv¥
[-1].
štv®
)); 
	`sqÍ_ex´_İ
Õ¡©e, 
SEO_NOT
); }

3827 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_IN_SELECT
); }

3833 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_IN_SELECT
); sqÍ_ex´_İÕ¡©e, 
SEO_NOT
); }

3839 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_EXISTS
); if((
yyv¥
[-3].
subtok
))sqÍ_ex´_İÕ¡©e, 
SEO_NOT
); }

3845 { 
	`sqÍ_ÿÎ
(
p¡©e
, (
yyv¥
[-1].
štv®
), (yyv¥[-3].
¡rv®
)); 
	`ä“
((yyvsp[-3].strval)); }

3851 { 
	`sqÍ_ÿÎ
(
p¡©e
, 0, "COUNTALL"); }

3857 { 
	`sqÍ_ÿÎ
(
p¡©e
, 1, "COUNT"); }

3863 { 
	`sqÍ_ÿÎ
(
p¡©e
, (
yyv¥
[-1].
štv®
), "SUBSTR");}

3869 { 
	`sqÍ_ÿÎ
(
p¡©e
, 2, "SUBSTR"); }

3875 { 
	`sqÍ_ÿÎ
(
p¡©e
, 3, "SUBSTR"); }

3881 { 
	`sqÍ_ÿÎ
(
p¡©e
, (
yyv¥
[-1].
štv®
), "TRIM"); }

3887 { 
	`sqÍ_ÿÎ
(
p¡©e
, 3, "TRIM"); }

3893 { 
	`sqÍ_ÿÎ_Œim_İts
(
p¡©e
, 0); }

3899 { 
	`sqÍ_ÿÎ_Œim_İts
(
p¡©e
, 1); }

3905 { 
	`sqÍ_ÿÎ_Œim_İts
(
p¡©e
, 2); }

3911 { 
	`sqÍ_ÿÎ_d©e
(
p¡©e
, 3, 
SEO_ADD
); }

3917 { 
	`sqÍ_ÿÎ_d©e
(
p¡©e
, 3, 
SEO_SUB
); }

3923 { 
	`sqÍ_d©e_š‹rv®
(
p¡©e
, 
SDI_DAY_HOUR
); }

3929 { 
	`sqÍ_d©e_š‹rv®
(
p¡©e
, 
SDI_DAY_MICROSECOND
); }

3935 { 
	`sqÍ_d©e_š‹rv®
(
p¡©e
, 
SDI_DAY_MINUTE
); }

3941 { 
	`sqÍ_d©e_š‹rv®
(
p¡©e
, 
SDI_DAY_SECOND
); }

3947 { 
	`sqÍ_d©e_š‹rv®
(
p¡©e
, 
SDI_YEAR_MONTH
); }

3953 { 
	`sqÍ_d©e_š‹rv®
(
p¡©e
, 
SDI_YEAR
); }

3959 { 
	`sqÍ_d©e_š‹rv®
(
p¡©e
, 
SDI_HOUR_MICROSECOND
); }

3965 { 
	`sqÍ_d©e_š‹rv®
(
p¡©e
, 
SDI_HOUR_MINUTE
); }

3971 { 
	`sqÍ_d©e_š‹rv®
(
p¡©e
, 
SDI_HOUR_SECOND
); }

3977 { 
	`sqÍ_ÿ£v®
(
p¡©e
, (
yyv¥
[-1].
štv®
), 0); }

3983 { 
	`sqÍ_ÿ£v®
(
p¡©e
, (
yyv¥
[-3].
štv®
), 1); }

3989 { 
	`sqÍ_ÿ£
(
p¡©e
, (
yyv¥
[-1].
štv®
), 0); }

3995 { 
	`sqÍ_ÿ£
(
p¡©e
, (
yyv¥
[-3].
štv®
), 1); }

4001 { (
yyv®
.
štv®
) = 1; }

4007 { (
yyv®
.
štv®
èğ(
yyv¥
[-4].intval)+1; }

4013 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_LIKE
); }

4019 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_LIKE
); sqÍ_ex´_İÕ¡©e, 
SEO_NOT
); }

4025 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_REGEX
); }

4031 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_REGEX
); sqÍ_ex´_İÕ¡©e, 
SEO_NOT
); }

4037 { 
	`sqÍ_now
(
p¡©e
); }

4043 { 
	`sqÍ_now
(
p¡©e
); }

4049 { 
	`sqÍ_now
(
p¡©e
); }

4055 { 
	`sqÍ_ex´_İ
(
p¡©e
, 
SEO_STRTOBIN
); }

4074 
	`YY_SYMBOL_PRINT
 ("-> $$ =", 
yyr1
[
yyn
], &
yyv®
, &
yyloc
);

4076 
	`YYPOPSTACK
 (
yyËn
);

4077 
yyËn
 = 0;

4078 
	`YY_STACK_PRINT
 (
yyss
, 
yys¥
);

4080 *++
yyv¥
 = 
yyv®
;

4081 *++
yyl¥
 = 
yyloc
;

4087 
yyn
 = 
yyr1
[yyn];

4089 
yy¡©e
 = 
yypgÙo
[
yyn
 - 
YYNTOKENS
] + *
yys¥
;

4090 ià(0 <ğ
yy¡©e
 && yy¡©<ğ
YYLAST
 && 
yycheck
[yy¡©e] =ğ*
yys¥
)

4091 
yy¡©e
 = 
yybË
[yystate];

4093 
yy¡©e
 = 
yydefgÙo
[
yyn
 - 
YYNTOKENS
];

4095 
yyÃw¡©e
;

4101 
yy”¾ab
:

4104 
yytok’
 = 
yych¬
 =ğ
YYEMPTY
 ? YYEMPTY : 
	`YYTRANSLATE
 (yychar);

4107 ià(!
yy”r¡©us
)

4109 ++
yyÃ¼s
;

4110 #ià! 
YYERROR_VERBOSE


4111 
	`yy”rÜ
 (&
yyÎoc
, 
sÿÂ”
, 
p¡©e
, 
	`YY_
("syntaxƒrror"));

4113 
	#YYSYNTAX_ERROR
 
	`yysyÁax_”rÜ
 (&
yymsg_®loc
, &
yymsg
, \

4114 
yys¥
, 
yytok’
)

	)

4116 cÚ¡ *
yymsgp
 = 
	`YY_
("syntaxƒrror");

4117 
yysyÁax_”rÜ_¡©us
;

4118 
yysyÁax_”rÜ_¡©us
 = 
YYSYNTAX_ERROR
;

4119 ià(
yysyÁax_”rÜ_¡©us
 == 0)

4120 
yymsgp
 = 
yymsg
;

4121 ià(
yysyÁax_”rÜ_¡©us
 == 1)

4123 ià(
yymsg
 !ğ
yymsgbuf
)

4124 
	`YYSTACK_FREE
 (
yymsg
);

4125 
yymsg
 = (*è
	`YYSTACK_ALLOC
 (
yymsg_®loc
);

4126 ià(!
yymsg
)

4128 
yymsg
 = 
yymsgbuf
;

4129 
yymsg_®loc
 =  
yymsgbuf
;

4130 
yysyÁax_”rÜ_¡©us
 = 2;

4134 
yysyÁax_”rÜ_¡©us
 = 
YYSYNTAX_ERROR
;

4135 
yymsgp
 = 
yymsg
;

4138 
	`yy”rÜ
 (&
yyÎoc
, 
sÿÂ”
, 
p¡©e
, 
yymsgp
);

4139 ià(
yysyÁax_”rÜ_¡©us
 == 2)

4140 
yyexhau¡edÏb
;

4142 #undeà
YYSYNTAX_ERROR


4146 
yy”rÜ_¿nge
[1] = 
yyÎoc
;

4148 ià(
yy”r¡©us
 == 3)

4153 ià(
yych¬
 <ğ
YYEOF
)

4156 ià(
yych¬
 =ğ
YYEOF
)

4157 
YYABORT
;

4161 
	`yyde¡ruù
 ("Error: discarding",

4162 
yytok’
, &
yylv®
, &
yyÎoc
, 
sÿÂ”
, 
p¡©e
);

4163 
yych¬
 = 
YYEMPTY
;

4169 
yy”¾ab1
;

4175 
yy”rÜÏb
:

4181 
yy”rÜÏb
;

4183 
yy”rÜ_¿nge
[1] = 
yyl¥
[1-
yyËn
];

4186 
	`YYPOPSTACK
 (
yyËn
);

4187 
yyËn
 = 0;

4188 
	`YY_STACK_PRINT
 (
yyss
, 
yys¥
);

4189 
yy¡©e
 = *
yys¥
;

4190 
yy”¾ab1
;

4196 
yy”¾ab1
:

4197 
yy”r¡©us
 = 3;

4201 
yyn
 = 
yy·ù
[
yy¡©e
];

4202 ià(!
	`yy·ù_v®ue_is_deçuÉ
 (
yyn
))

4204 
yyn
 +ğ
YYTERROR
;

4205 ià(0 <ğ
yyn
 && yyÀ<ğ
YYLAST
 && 
yycheck
[yyn] =ğ
YYTERROR
)

4207 
yyn
 = 
yybË
[yyn];

4208 ià(0 < 
yyn
)

4214 ià(
yys¥
 =ğ
yyss
)

4215 
YYABORT
;

4217 
yy”rÜ_¿nge
[1] = *
yyl¥
;

4218 
	`yyde¡ruù
 ("Error:…opping",

4219 
yy¡os
[
yy¡©e
], 
yyv¥
, 
yyl¥
, 
sÿÂ”
, 
p¡©e
);

4220 
	`YYPOPSTACK
 (1);

4221 
yy¡©e
 = *
yys¥
;

4222 
	`YY_STACK_PRINT
 (
yyss
, 
yys¥
);

4225 
YY_IGNORE_MAYBE_UNINITIALIZED_BEGIN


4226 *++
yyv¥
 = 
yylv®
;

4227 
YY_IGNORE_MAYBE_UNINITIALIZED_END


4229 
yy”rÜ_¿nge
[2] = 
yyÎoc
;

4232 
	`YYLLOC_DEFAULT
 (
yyloc
, 
yy”rÜ_¿nge
, 2);

4233 *++
yyl¥
 = 
yyloc
;

4236 
	`YY_SYMBOL_PRINT
 ("Shiášg", 
yy¡os
[
yyn
], 
yyv¥
, 
yyl¥
);

4238 
yy¡©e
 = 
yyn
;

4239 
yyÃw¡©e
;

4245 
yyacû±Ïb
:

4246 
yy»suÉ
 = 0;

4247 
yy»tuº
;

4252 
yyabÜab
:

4253 
yy»suÉ
 = 1;

4254 
yy»tuº
;

4256 #ià!
defšed
 
yyov”æow
 || 
YYERROR_VERBOSE


4260 
yyexhau¡edÏb
:

4261 
	`yy”rÜ
 (&
yyÎoc
, 
sÿÂ”
, 
p¡©e
, 
	`YY_
("memoryƒxhausted"));

4262 
yy»suÉ
 = 2;

4266 
yy»tuº
:

4267 ià(
yych¬
 !ğ
YYEMPTY
)

4271 
yytok’
 = 
	`YYTRANSLATE
 (
yych¬
);

4272 
	`yyde¡ruù
 ("Cleanup: discarding†ookahead",

4273 
yytok’
, &
yylv®
, &
yyÎoc
, 
sÿÂ”
, 
p¡©e
);

4277 
	`YYPOPSTACK
 (
yyËn
);

4278 
	`YY_STACK_PRINT
 (
yyss
, 
yys¥
);

4279 
yys¥
 !ğ
yyss
)

4281 
	`yyde¡ruù
 ("Cleanup:…opping",

4282 
yy¡os
[*
yys¥
], 
yyv¥
, 
yyl¥
, 
sÿÂ”
, 
p¡©e
);

4283 
	`YYPOPSTACK
 (1);

4285 #iâdeà
yyov”æow


4286 ià(
yyss
 !ğ
yys§
)

4287 
	`YYSTACK_FREE
 (
yyss
);

4289 #ià
YYERROR_VERBOSE


4290 ià(
yymsg
 !ğ
yymsgbuf
)

4291 
	`YYSTACK_FREE
 (
yymsg
);

4293  
yy»suÉ
;

4294 
	}
}

4299 
	$yy”rÜ
(
YYLTYPE
 *
t
, 
yysÿn_t
 
sÿÂ”
, 
psql_¡©e
 *
p¡©e
, cÚ¡ *
s
, ...)

4301 
va_li¡
 
­
;

4302 
	`va_¡¬t
(
­
, 
s
);

4304 if(
t
->
fœ¡_lše
)

4305 
	`årštf
(
¡d”r
, "%s:%d.%d-%d.%d:ƒ¼Ü: ", 
t
->
f’ame
,->
fœ¡_lše
,->
fœ¡_cŞumn
,

4306 
t
->
Ï¡_lše
,->
Ï¡_cŞumn
);

4307 
	`vårštf
(
¡d”r
, 
s
, 
­
);

4308 
	`årštf
(
¡d”r
, "\n");

4310 
	}
}

4313 
	$lyy”rÜ
(
YYLTYPE
 
t
, cÚ¡ *
s
, ...)

4315 
va_li¡
 
­
;

4316 
	`va_¡¬t
(
­
, 
s
);

4318 if(
t
.
fœ¡_lše
)

4319 
	`årštf
(
¡d”r
, "%s:%d.%d-%d.%d:ƒ¼Ü: ", 
t
.
f’ame
,.
fœ¡_lše
,.
fœ¡_cŞumn
,

4320 
t
.
Ï¡_lše
,.
Ï¡_cŞumn
);

4321 
	`vårštf
(
¡d”r
, 
s
, 
­
);

4322 
	`årštf
(
¡d”r
, "\n");

4323 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/parser/sql.tab.h

33 #iâdeà
YY_YY_SQL_TAB_H_INCLUDED


34 
	#YY_YY_SQL_TAB_H_INCLUDED


	)

36 #iâdeà
YYDEBUG


37 
	#YYDEBUG
 0

	)

39 #ià
YYDEBUG


40 
yydebug
;

45 *
	gf’ame
;

47 
	sYYLTYPE
 {

48 
	mfœ¡_lše
;

49 
	mfœ¡_cŞumn
;

50 
	mÏ¡_lše
;

51 
	mÏ¡_cŞumn
;

52 *
	mf’ame
;

53 } 
	tYYLTYPE
;

54 
	#YYLTYPE_IS_DECLARED
 1

	)

56 
	#YYLLOC_DEFAULT
(
Cu¼’t
, 
Rhs
, 
N
) \

58 ià(
N
) \

60 (
Cu¼’t
).
fœ¡_lše
 = 
	`YYRHSLOC
 (
Rhs
, 1).first_line; \

61 (
Cu¼’t
).
fœ¡_cŞumn
 = 
	`YYRHSLOC
 (
Rhs
, 1).first_column; \

62 (
Cu¼’t
).
Ï¡_lše
 = 
	`YYRHSLOC
 (
Rhs
, 
N
).last_line; \

63 (
Cu¼’t
).
Ï¡_cŞumn
 = 
	`YYRHSLOC
 (
Rhs
, 
N
).last_column; \

64 (
Cu¼’t
).
f’ame
 = 
	`YYRHSLOC
 (
Rhs
, 1).filename; \

68 (
Cu¼’t
).
fœ¡_lše
 = (Cu¼’t).
Ï¡_lše
 = \

69 
	`YYRHSLOC
 (
Rhs
, 0).
Ï¡_lše
; \

70 (
Cu¼’t
).
fœ¡_cŞumn
 = (Cu¼’t).
Ï¡_cŞumn
 = \

71 
	`YYRHSLOC
 (
Rhs
, 0).
Ï¡_cŞumn
; \

72 (
Cu¼’t
).
f’ame
 = 
NULL
; \

74 0)

	)

76 #iâdeà
YY_TYPEDEF_YY_SCANNER_T


77 
	#YY_TYPEDEF_YY_SCANNER_T


	)

78 * 
	tyysÿn_t
;

81 
	gpsql_¡©e
;

86 #iâdeà
YYTOKENTYPE


87 
	#YYTOKENTYPE


	)

88 
	eyytok’ty³


90 
	mNAME
 = 258,

91 
	mSTRING
 = 259,

92 
	mINTNUM
 = 260,

93 
	mBOOL
 = 261,

94 
	mAPPROXNUM
 = 262,

95 
	mUSERVAR
 = 263,

96 
	mASSIGN
 = 264,

97 
	mOR
 = 265,

98 
	mXOR
 = 266,

99 
	mANDOP
 = 267,

100 
	mIN
 = 268,

101 
	mIS
 = 269,

102 
	mLIKE
 = 270,

103 
	mREGEXP
 = 271,

104 
	mNOT
 = 272,

105 
	mBETWEEN
 = 273,

106 
	mCOMPARISON
 = 274,

107 
	mSHIFT
 = 275,

108 
	mMOD
 = 276,

109 
	mUMINUS
 = 277,

110 
	mADD
 = 278,

111 
	mALL
 = 279,

112 
	mALTER
 = 280,

113 
	mANALYZE
 = 281,

114 
	mAND
 = 282,

115 
	mANY
 = 283,

116 
	mAS
 = 284,

117 
	mASC
 = 285,

118 
	mAUTO_INCREMENT
 = 286,

119 
	mBEFORE
 = 287,

120 
	mBIGINT
 = 288,

121 
	mBINARY
 = 289,

122 
	mBIT
 = 290,

123 
	mBLOB
 = 291,

124 
	mBOTH
 = 292,

125 
	mBY
 = 293,

126 
	mCALL
 = 294,

127 
	mCASCADE
 = 295,

128 
	mCASE
 = 296,

129 
	mCHANGE
 = 297,

130 
	mCHAR
 = 298,

131 
	mCHECK
 = 299,

132 
	mCOLLATE
 = 300,

133 
	mCOLUMN
 = 301,

134 
	mCOMMENT
 = 302,

135 
	mCONDITION
 = 303,

136 
	mCONSTRAINT
 = 304,

137 
	mCONTINUE
 = 305,

138 
	mCONVERT
 = 306,

139 
	mCREATE
 = 307,

140 
	mCROSS
 = 308,

141 
	mCURRENT_DATE
 = 309,

142 
	mCURRENT_TIME
 = 310,

143 
	mCURRENT_TIMESTAMP
 = 311,

144 
	mCURRENT_USER
 = 312,

145 
	mCURSOR
 = 313,

146 
	mDATABASE
 = 314,

147 
	mDATABASES
 = 315,

148 
	mDATE
 = 316,

149 
	mDATETIME
 = 317,

150 
	mDAY_HOUR
 = 318,

151 
	mDAY_MICROSECOND
 = 319,

152 
	mDAY_MINUTE
 = 320,

153 
	mDAY_SECOND
 = 321,

154 
	mDECIMAL
 = 322,

155 
	mDECLARE
 = 323,

156 
	mDEFAULT
 = 324,

157 
	mDELAYED
 = 325,

158 
	mDELETE
 = 326,

159 
	mDESC
 = 327,

160 
	mDESCRIBE
 = 328,

161 
	mDETERMINISTIC
 = 329,

162 
	mDISTINCT
 = 330,

163 
	mDISTINCTROW
 = 331,

164 
	mDIV
 = 332,

165 
	mDOUBLE
 = 333,

166 
	mDROP
 = 334,

167 
	mDUAL
 = 335,

168 
	mEACH
 = 336,

169 
	mELSE
 = 337,

170 
	mELSEIF
 = 338,

171 
	mENCLOSED
 = 339,

172 
	mEND
 = 340,

173 
	mENUM
 = 341,

174 
	mESCAPED
 = 342,

175 
	mEXISTS
 = 343,

176 
	mEXIT
 = 344,

177 
	mEXPLAIN
 = 345,

178 
	mFETCH
 = 346,

179 
	mFLOAT
 = 347,

180 
	mFOR
 = 348,

181 
	mFORCE
 = 349,

182 
	mFOREIGN
 = 350,

183 
	mFROM
 = 351,

184 
	mFULLTEXT
 = 352,

185 
	mGRANT
 = 353,

186 
	mGROUP
 = 354,

187 
	mHAVING
 = 355,

188 
	mHIGH_PRIORITY
 = 356,

189 
	mHOUR_MICROSECOND
 = 357,

190 
	mHOUR_MINUTE
 = 358,

191 
	mHOUR_SECOND
 = 359,

192 
	mIF
 = 360,

193 
	mIGNORE
 = 361,

194 
	mINDEX
 = 362,

195 
	mINFILE
 = 363,

196 
	mINNER
 = 364,

197 
	mINOUT
 = 365,

198 
	mINSENSITIVE
 = 366,

199 
	mINSERT
 = 367,

200 
	mINT
 = 368,

201 
	mINTEGER
 = 369,

202 
	mINTERVAL
 = 370,

203 
	mINTO
 = 371,

204 
	mITERATE
 = 372,

205 
	mJOIN
 = 373,

206 
	mKEY
 = 374,

207 
	mKEYS
 = 375,

208 
	mKILL
 = 376,

209 
	mLEADING
 = 377,

210 
	mLEAVE
 = 378,

211 
	mLEFT
 = 379,

212 
	mLIMIT
 = 380,

213 
	mLINES
 = 381,

214 
	mLOAD
 = 382,

215 
	mLOCALTIME
 = 383,

216 
	mLOCALTIMESTAMP
 = 384,

217 
	mLOCK
 = 385,

218 
	mLONG
 = 386,

219 
	mLONGBLOB
 = 387,

220 
	mLONGTEXT
 = 388,

221 
	mLOOP
 = 389,

222 
	mLOW_PRIORITY
 = 390,

223 
	mMATCH
 = 391,

224 
	mMEDIUMBLOB
 = 392,

225 
	mMEDIUMINT
 = 393,

226 
	mMEDIUMTEXT
 = 394,

227 
	mMINUTE_MICROSECOND
 = 395,

228 
	mMINUTE_SECOND
 = 396,

229 
	mMODIFIES
 = 397,

230 
	mNATURAL
 = 398,

231 
	mNO_WRITE_TO_BINLOG
 = 399,

232 
	mNULLX
 = 400,

233 
	mNUMBER
 = 401,

234 
	mON
 = 402,

235 
	mONDUPLICATE
 = 403,

236 
	mOPTIMIZE
 = 404,

237 
	mOPTION
 = 405,

238 
	mOPTIONALLY
 = 406,

239 
	mORDER
 = 407,

240 
	mOUT
 = 408,

241 
	mOUTER
 = 409,

242 
	mOUTFILE
 = 410,

243 
	mPRECISION
 = 411,

244 
	mPRIMARY
 = 412,

245 
	mPROCEDURE
 = 413,

246 
	mPURGE
 = 414,

247 
	mQUICK
 = 415,

248 
	mREAD
 = 416,

249 
	mREADS
 = 417,

250 
	mREAL
 = 418,

251 
	mREFERENCES
 = 419,

252 
	mRELEASE
 = 420,

253 
	mRENAME
 = 421,

254 
	mREPEAT
 = 422,

255 
	mREPLACE
 = 423,

256 
	mREQUIRE
 = 424,

257 
	mRESTRICT
 = 425,

258 
	mRETURN
 = 426,

259 
	mREVOKE
 = 427,

260 
	mRIGHT
 = 428,

261 
	mROLLUP
 = 429,

262 
	mSCHEMA
 = 430,

263 
	mSCHEMAS
 = 431,

264 
	mSECOND_MICROSECOND
 = 432,

265 
	mSELECT
 = 433,

266 
	mSENSITIVE
 = 434,

267 
	mSEPARATOR
 = 435,

268 
	mSET
 = 436,

269 
	mSHOW
 = 437,

270 
	mSMALLINT
 = 438,

271 
	mSOME
 = 439,

272 
	mSONAME
 = 440,

273 
	mSPATIAL
 = 441,

274 
	mSPECIFIC
 = 442,

275 
	mSQL
 = 443,

276 
	mSQLEXCEPTION
 = 444,

277 
	mSQLSTATE
 = 445,

278 
	mSQLWARNING
 = 446,

279 
	mSQL_BIG_RESULT
 = 447,

280 
	mSQL_CALC_FOUND_ROWS
 = 448,

281 
	mSQL_SMALL_RESULT
 = 449,

282 
	mSSL
 = 450,

283 
	mSTARTING
 = 451,

284 
	mSTRAIGHT_JOIN
 = 452,

285 
	mTABLE
 = 453,

286 
	mTEMPORARY
 = 454,

287 
	mTEXT
 = 455,

288 
	mTERMINATED
 = 456,

289 
	mTHEN
 = 457,

290 
	mTIME
 = 458,

291 
	mTIMESTAMP
 = 459,

292 
	mTINYBLOB
 = 460,

293 
	mTINYINT
 = 461,

294 
	mTINYTEXT
 = 462,

295 
	mTO
 = 463,

296 
	mTRAILING
 = 464,

297 
	mTRIGGER
 = 465,

298 
	mUNDO
 = 466,

299 
	mUNION
 = 467,

300 
	mUNIQUE
 = 468,

301 
	mUNLOCK
 = 469,

302 
	mUNSIGNED
 = 470,

303 
	mUPDATE
 = 471,

304 
	mUSAGE
 = 472,

305 
	mUSE
 = 473,

306 
	mUSING
 = 474,

307 
	mUTC_DATE
 = 475,

308 
	mUTC_TIME
 = 476,

309 
	mUTC_TIMESTAMP
 = 477,

310 
	mVALUES
 = 478,

311 
	mVARBINARY
 = 479,

312 
	mVARCHAR
 = 480,

313 
	mVARYING
 = 481,

314 
	mWHEN
 = 482,

315 
	mWHERE
 = 483,

316 
	mWHILE
 = 484,

317 
	mWITH
 = 485,

318 
	mWRITE
 = 486,

319 
	mYEAR
 = 487,

320 
	mYEAR_MONTH
 = 488,

321 
	mZEROFILL
 = 489,

322 
	mFSUBSTRING
 = 490,

323 
	mFTRIM
 = 491,

324 
	mFDATE_ADD
 = 492,

325 
	mFDATE_SUB
 = 493,

326 
	mFCOUNT
 = 494

331 #ià! 
defšed
 
YYSTYPE
 && ! defšed 
YYSTYPE_IS_DECLARED


333 
	uYYSTYPE


337 
	mštv®
;

338 
	mæßtv®
;

339 *
	m¡rv®
;

340 
	msubtok
;

345 
YYSTYPE
 
	tYYSTYPE
;

346 
	#YYSTYPE_IS_TRIVIAL
 1

	)

347 
	#YYSTYPE_IS_DECLARED
 1

	)

351 #ià! 
defšed
 
YYLTYPE
 && ! defšed 
YYLTYPE_IS_DECLARED


352 
YYLTYPE
 
	tYYLTYPE
;

353 
	sYYLTYPE


355 
	mfœ¡_lše
;

356 
	mfœ¡_cŞumn
;

357 
	mÏ¡_lše
;

358 
	mÏ¡_cŞumn
;

360 
	#YYLTYPE_IS_DECLARED
 1

	)

361 
	#YYLTYPE_IS_TRIVIAL
 1

	)

366 
yy·r£
 (
yysÿn_t
 
sÿÂ”
, 
psql_¡©e
 *
p¡©e
);

	@/home/huangwentao/WorkSpaces/carrots/dbms/segment/DataSegment.cpp

1 
	~"D©aSegm’t.h
"

2 #ifdeà
DEBUG


3 
	~<c¡dlib
>

4 
	~<c¡dio
>

6 
	~<c¡dlib
>

7 
	~<c¡dio
>

8 
	gD©aSegm’t
::
	$D©aSegm’t
(
BufãrMªag”
* 
mgr
,
DœeùÜySegm’t
* 
dœ
,
TabËM‘a
* 
mt
):
	`Segm’t
(mgr),
	`mªag”
(mgr),
	`dœeùÜy
(dœ),
	$m‘a
(
mt
)

10 
tu¶eSize
 = 
TabËUt
::
	`e¡im©eTu¶eSize
(
m‘a
);

11 
ä“PageAddr
=0;

12 #ifdeà
DEBUG


13 
	`´štf
("\ÀÚtu¶siz%d\n",
tu¶eSize
);

15 
	}
}

16 
	gD©aSegm’t
::~
	$D©aSegm’t
()

19 
	}
}

20 
Tu¶e
* 
D©aSegm’t
::
	$budEm±yTu¶e
()

22  
TabËUt
::
	`budTu¶e
(
m‘a
);

23 
	}
}

24 
	gD©aSegm’t
::
	$»Ëa£Em±yTu¶e
(
Tu¶e
*& 
tu¶e
)

26 
TabËUt
::
	`»Ëa£Tu¶e
(
tu¶e
,
m‘a
);

27 
	}
}

28 
	gD©aSegm’t
::
	$fšdTu¶eAtPos™iÚ
(
Tu¶e
* 
tu¶e
,
Addr
 
addr
)

30 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜR—d
(
addr
);

31 
Page
* 
·ge
 = 
äame
->page;

32 
PageUt
* 
ut
 = 
mªag”
->
	`g‘PageUt
();

33 
By‹
* 
d©a
 = 
·ge
->data;

34 
PageAddr
 
off£t
 = (
	`PAGE_OFFSET
(
addr
));

35 
d©a
[
off£t
]!=
TUPLE_MAGIC
)

37 
off£t
++;

38 if(
off£t
==
PAGE_SIZE
-1);

40 if(
off£t
==
PAGE_SIZE
-1)

42 #ifdeà
DEBUG


43 
	`´štf
("d©¨£gm’ˆfound‚Øtu¶e!‡ddr=%Îd\n",
addr
);

48 
TabËUt
::
	`»adTu¶e
(
d©a
+
off£t
,
tu¶e
,
m‘a
);

49 
tu¶e
->
off£t
 = offset;

50 
tu¶e
->
tu¶eAddr
 = 
addr
+
off£t
;

52 
mªag”
->
	`fšishR—d
(
äame
);

53 
	}
}

54 
	gD©aSegm’t
::
	$fšdFœ¡Tu¶e
(
Tu¶e
* 
tu¶e
)

56 
Addr
 
addr
 = 
dœeùÜy
->
	`fšdFœ¡Block
(
Segm’tTy³
::
D©aSeg
);

57 if(
addr
<=0)

59 #ifdeà
DEBUG


60 
	`´štf
("no datasegment found!\n");

64 
PageAddr
 
off£t
 = 
PAGE_HEAD_LEN
+
PAGE_ALIGN
;

65 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜR—d
(
addr
);

66 
Page
* 
·ge
 = 
äame
->page;

67 
PageUt
* 
ut
 = 
mªag”
->
	`g‘PageUt
();

68 
By‹
* 
d©a
 = 
·ge
->data;

70 
d©a
[
off£t
]!=
TUPLE_MAGIC
)

72 
off£t
++;

73 if(
off£t
==
PAGE_SIZE
-1);

75 if(
off£t
==
PAGE_SIZE
-1)

77 #ifdeà
DEBUG


78 
	`´štf
("d©¨£gm’ˆfound‚Øtu¶e!‡ddr=%Îd\n",
addr
);

83 
TabËUt
::
	`»adTu¶e
(
d©a
+
off£t
,
tu¶e
,
m‘a
);

84 
tu¶e
->
off£t
 = offset;

85 
tu¶e
->
tu¶eAddr
 = 
addr
+
off£t
;

87 
mªag”
->
	`fšishR—d
(
äame
);

89 
	}
}

90 
	gD©aSegm’t
::
	$fšdNextTu¶e
(
Tu¶e
* 
tu¶e
,Tu¶e* 
tu¶e2
)

92 
Addr
 
tu¶eAddr
 = 
tu¶e
->tupleAddr;

93 
Addr
 
·geNo1
 = 
	`PAGE_ID
(
tu¶eAddr
);

94 
Addr
 
·geNo2
 = 
	`PAGE_ID
(
tu¶eAddr
+
tu¶eSize
+tupleSize+3);

95 if(
·geNo1
==
·geNo2
)

97 
tu¶eAddr
+=
tu¶eSize
;

98 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜR—d
(
tu¶eAddr
);

99 
PageAddr
 
off£t
 = 
	`PAGE_OFFSET
(
tu¶eAddr
);

100 
Page
* 
·ge
 = 
äame
->page;

101 
By‹
* 
d©a
 = 
·ge
->data;

102 
PageAddr
 
Şdof¡
 = 
off£t
;

103 
d©a
[
off£t
]!=
TUPLE_MAGIC
)

105 
off£t
++;

106 if(
off£t
==
PAGE_SIZE
-1);

108 if(
off£t
==
PAGE_SIZE
-1)

110 #ifdeà
DEBUG


111 
	`´štf
("d©¨£gm’ˆfound‚Øtu¶e!‡ddr=%Îx\n",
tu¶eAddr
);

116 
TabËUt
::
	`»adTu¶e
(
d©a
+
off£t
,
tu¶e2
,
m‘a
);

117 
tu¶e2
->
off£t
 = offset;

118 
tu¶e2
->
tu¶eAddr
 = 
	`PAGE_ADDR
(
·geNo1
)+
off£t
;

120 
mªag”
->
	`fšishR—d
(
äame
);

124 
Addr
 
addr
 = 
dœeùÜy
->
	`fšdNextBlock
(
tu¶eAddr
,
Segm’tTy³
::
D©aSeg
);

125 #ifdeà
DEBUG


126 
	`´štf
("add¸%Îx‚exˆadd¸%Îx\n",
tu¶eAddr
,
addr
);

128 if(
addr
>0)

130 
PageAddr
 
off£t
 = 
PAGE_HEAD_LEN
+
PAGE_ALIGN
;

131 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜR—d
(
addr
);

132 
Page
* 
·ge
 = 
äame
->page;

133 
PageUt
* 
ut
 = 
mªag”
->
	`g‘PageUt
();

134 
By‹
* 
d©a
 = 
·ge
->data;

136 
d©a
[
off£t
]!=
TUPLE_MAGIC
)

138 
off£t
++;

139 if(
off£t
==
PAGE_SIZE
-1);

141 if(
off£t
==
PAGE_SIZE
-1)

143 #ifdeà
DEBUG


144 
	`´štf
("d©¨£gm’ˆfound‚Øtu¶es!‡ddr=%Îx\n",
addr
);

148 
TabËUt
::
	`»adTu¶e
(
d©a
+
off£t
,
tu¶e2
,
m‘a
);

149 
tu¶e2
->
off£t
 = offset;

150 
tu¶e2
->
tu¶eAddr
 = 
addr
+
off£t
;

152 
mªag”
->
	`fšishR—d
(
äame
);

156 
	}
}

157 
Addr
 
	gD©aSegm’t
::
	$š£¹Tu¶e
(
Tu¶e
* 
tu¶e
)

159 
Œue
)

161 
Addr
 
addr
 = 0;

162 
addr
 = 
ä“PageAddr
;

163 if(
addr
<=0){

164 
addr
 = 
dœeùÜy
->
	`fšdF»eS­ûBlock
(
Segm’tTy³
::
D©aSeg
);

166 if(
addr
<=0)

168 
addr
 = 
dœeùÜy
->
	`®loÿ‹Block
(
Segm’tTy³
::
D©aSeg
,
PageStus
::
Em±yPage
);

170 if(
addr
<=0)

172 #ifdeà
DEBUG


173 
	`´štf
("allocationƒrror!");

177 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

178 
Page
* 
·ge
 = 
äame
->page;

179 
PageUt
* 
ut
 = 
mªag”
->
	`g‘PageUt
();

180 
PageAddr
 
off£t
 = 
ut
->
	`®locS·û
(*
·ge
,
tu¶eSize
);

181 
By‹
 
£g
 = 
Segm’tTy³
::
D©aSeg
;

182 
By‹
 
¡©us
 = 
PageStus
::
H®fPage
;

183 if(
off£t
<=0)

186 
¡©us
 = 
PageStus
::
FuÎPage
;

187 
dœeùÜy
->
	`upd©eS·ûM¬k
(
äame
,
£g
,
¡©us
);

188 
mªag”
->
	`fšishWr™e
(
äame
);

192 
tu¶e
->
off£t
= offset;

193 
tu¶e
->
tu¶eAddr
 = 
addr
+
off£t
;

194 
wr™‹n
 = 
TabËUt
::
	`wr™eTu¶e
(
·ge
->
d©a
+
off£t
,
tu¶e
,
m‘a
);

195 if(
wr™‹n
 !=
tu¶eSize
)

197 
	`´štf
("w¬nšg: wr™‹Àsizi nÙƒqu® tØtu¶eSize! wr™‹Àsiz%du¶siz%d\n",
wr™‹n
,
tu¶eSize
);

199 if((
PAGE_BODY_LEN
-
äame
->
·ge
->
u£dBy‹
)<
tu¶eSize
)

201 
¡©us
 = 
PageStus
::
FuÎPage
;

202 
ä“PageAddr
 = 0;

205 
ä“PageAddr
 = 
addr
;

207 
dœeùÜy
->
	`upd©eS·ûM¬k
(
äame
,
£g
,
¡©us
);

208 
äame
->
ed™
 = 
Œue
;

209 
mªag”
->
	`fšishWr™e
(
äame
);

210  
addr
+
off£t
;

214 
	}
}

215 
Addr
 
	gD©aSegm’t
::
	$æushTu¶e
(
Tu¶e
* 
tu¶e
)

217 
Addr
 
addr
 = 
tu¶e
->
tu¶eAddr
;

218 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

219 
Page
* 
·ge
 = 
äame
->page;

220 
wr™‹n
 = 
TabËUt
::
	`wr™eTu¶e
(
·ge
->
d©a
+
	`PAGE_OFFSET
(
addr
),
tu¶e
,
m‘a
);

221 
äame
->
ed™
 = 
Œue
;

222 
mªag”
->
	`fšishWr™e
(
äame
);

223  
tu¶e
->
tu¶eAddr
;

224 
	}
}

227 
boŞ
 
	gD©aSegm’t
::
	$d–‘eTu¶e
(
Tu¶e
* 
tu¶e
)

229 
Addr
 
addr
 = 
tu¶e
->
tu¶eAddr
;

230 if(
addr
>0)

232 
PageAddr
 
off£t
 = 
	`PAGE_OFFSET
(
addr
);

233 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

234 
PageUt
* 
ut
 = 
mªag”
->
	`g‘PageUt
();

235 
boŞ
 
suc
 = 
ut
->
	`ä“S·û
(*
äame
->
·ge
,
off£t
,
tu¶eSize
);

236 
i
 = 0; i<
tu¶eSize
; i++)

238 
äame
->
·ge
->
d©a
[
off£t
+
i
]=0u;

240 
äame
->
ed™
 = 
Œue
;

241 if(!
suc
)

243 #ifdeà
DEBUG


244 
	`´štf
("ä“htu¶sizçu» w™h‡dd¸ğ%Îd \ˆ%Îx\n",
addr
,addr);

247 
mªag”
->
	`fšishWr™e
(
äame
);

251 #ifdeà
DEBUG


252 
	`´štf
("missing‡ddr when deleting");

255 
	}
}

256 
	gD©aSegm’t
::
	$š™RoÙPage
()

259 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/segment/DataSegment.h

1 #iâdeà
DATASEGMENT_H_INCLUDED


2 
	#DATASEGMENT_H_INCLUDED


	)

3 
	~"../commÚ.h
"

4 
	~"../bufãr/BufãrMªag”.h
"

5 
	~"../bË/m‘a.h
"

6 
	~"DœeùÜySegm’t.h
"

7 
	~"../bË/TabËUt.h
"

9 şas 
	cD©aSegm’t
:
public
 
Segm’t


11 
public
:

12 
D©aSegm’t
(
BufãrMªag”
* 
mgr
,
DœeùÜySegm’t
* 
dœ
,
TabËM‘a
* 
mt
);

13 ~
D©aSegm’t
();

14 
Tu¶e
* 
budEm±yTu¶e
();

15 
»Ëa£Em±yTu¶e
(
Tu¶e
*& 
tu¶e
);

16 
fšdFœ¡Tu¶e
(
Tu¶e
* 
tu¶e
);

17 
fšdTu¶eAtPos™iÚ
(
Tu¶e
* 
tu¶e
,
Addr
 
addr
);

18 
fšdNextTu¶e
(
Tu¶e
* 
tu¶e
,Tu¶e* 
tu¶e2
);

19 
Addr
 
š£¹Tu¶e
(
Tu¶e
* 
tu¶e
);

20 
boŞ
 
d–‘eTu¶e
(
Tu¶e
* 
tu¶e
);

21 
Addr
 
æushTu¶e
(
Tu¶e
* 
tu¶e
);

22 
	m´Ùeùed
:

23 
š™RoÙPage
();

24 
	m´iv©e
:

25 
BufãrMªag”
* 
mªag”
;

26 
DœeùÜySegm’t
* 
	mdœeùÜy
;

27 
TabËM‘a
* 
	mm‘a
;

28 
Addr
 
	mä“PageAddr
;

39 
	mtu¶eSize
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/segment/DirectorySegment.cpp

1 
	~"DœeùÜySegm’t.h
"

2 #ifdeà
DEBUG


3 
	~<c¡dlib
>

4 
	~<c¡dio
>

6 
	~<c¡dlib
>

7 
	~<c¡dio
>

8 
DœeùÜy
* 
	gDœeùÜySegm’t
::
	$®loÿ‹DœeùÜy
()

10 
Addr
 
addr
 = 
	`g‘NewDœAddr
();

11 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`®locNewBufãrF¿meFÜWr™e
();

12 
DœeùÜy
* 
d
 = 
Ãw
 
	`DœeùÜy
();

13 
d
->
ba£Addr
=
	`PAGE_ADDR
(
äame
->
·geNo
);

14 
d
->
Ãxt
=0;

15 
d
->
off£t
=0;

16 
d
->
·geNo
=
äame
->pageNo;

17 
d
->
tmpNextBlockAddr
=0;

18 
d
->
maxAddr
=1;

19 
d
->
ed™
=
Œue
;

20 
d
->
ÃxtTok’
 = 0;

21 
d
->
d©a
[0]=
Segm’tTy³
::
DœeùÜySeg
|
PageStus
::
H®fPage
;

22 
this
->
	`ŒªsDœToF¿me
(
d
,
äame
);

23 
äame
->
ed™
=
Œue
;

24 
mªag”
->
	`fšishWr™e
(
äame
);

25 if(
theLa¡
!=0)

27 
theLa¡
->
tmpNextBlockAddr
 = 
d
->
ba£Addr
;

28 
theLa¡
->
Ãxt
 = 
d
;

29 
theLa¡
 = 
d
;

31 
m­pšg
.
	`š£¹
(
¡d
::
m­
<
Addr
,
DœeùÜy
*>::
	`v®ue_ty³
(
theLa¡
->
ba£Addr
+
	`PAGE_ADDR
(
DIRPAGE_BODY
),theLast));

34  
d
;

35 
	}
}

36 
	gDœeùÜySegm’t
::
	$DœeùÜySegm’t
(
BufãrMªag”
* 
mgr
):
	$Segm’t
(
mgr
)

38 
this
->
mªag”
ğ
mgr
;

39 
h—d
 = 0;

40 
theLa¡
 = 0;

41 #ifdeà
DEBUG


42 
	`´štf
("\nsize:%d\n",
mgr
->
	`g‘PageUt
()->
	`g‘Fe
()->
size
);

44 if(
mgr
->
	`g‘PageUt
()->
	`g‘Fe
()->
size
<
PAGE_SIZE
)

47 #ifdeà
DEBUG


50 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`®locNewBufãrF¿meFÜWr™e
();

51 
h—d
 = 
Ãw
 
	`DœeùÜy
();

52 
h—d
->
ba£Addr
=0;

53 
h—d
->
Ãxt
=0;

54 
h—d
->
off£t
=0;

55 
h—d
->
·geNo
=
äame
->pageNo;

56 
h—d
->
tmpNextBlockAddr
=0;

57 
h—d
->
maxAddr
=1;

58 
h—d
->
ÃxtTok’
=0;

59 
h—d
->
ed™
=
Œue
;

60 
h—d
->
d©a
[0]=
Segm’tTy³
::
DœeùÜySeg
|
PageStus
::
H®fPage
;

61 
this
->
	`ŒªsDœToF¿me
(
h—d
,
äame
);

62 
äame
->
ed™
=
Œue
;

63 
mªag”
->
	`fšishWr™e
(
äame
);

64 #ifdeà
DEBUG


67 
theLa¡
 = 
h—d
;

68 
m­pšg
.
	`š£¹
(
¡d
::
m­
<
Addr
,
DœeùÜy
*>::
	`v®ue_ty³
(
h—d
->
ba£Addr
+
	`PAGE_ADDR
(
DIRPAGE_BODY
),head));

72 
h—d
 = 
Ãw
 
	`DœeùÜy
();

73 
BufãrF¿me
* 
äame
ğ
mgr
->
	`»que¡PageFÜR—d
(0);

74 
this
->
	`ŒªsF¿meToDœ
(
äame
,
h—d
);

75 
mgr
->
	`fšishR—d
(
äame
);

76 
theLa¡
 = 
h—d
;

77 
m­pšg
.
	`š£¹
(
¡d
::
m­
<
Addr
,
DœeùÜy
*>::
	`v®ue_ty³
(
h—d
->
ba£Addr
+
	`PAGE_ADDR
(
DIRPAGE_BODY
),head));

78 
theLa¡
->
tmpNextBlockAddr
!=0)

80 
DœeùÜy
* 
d
 = 
Ãw
 
	`DœeùÜy
();

81 
äame
 = 
mgr
->
	`»que¡PageFÜR—d
(
theLa¡
->
tmpNextBlockAddr
);

82 
this
->
	`ŒªsF¿meToDœ
(
äame
,
d
);

83 
mgr
->
	`fšishR—d
(
äame
);

84 
m­pšg
.
	`š£¹
(
¡d
::
m­
<
Addr
,
DœeùÜy
*>::
	`v®ue_ty³
(
d
->
ba£Addr
+
	`PAGE_ADDR
(
DIRPAGE_BODY
),d));

85 
theLa¡
->
Ãxt
=
d
;

86 
theLa¡
 =heLa¡->
Ãxt
;

89 
	}
}

90 
	gDœeùÜySegm’t
::
	$æushOÃ
(
DœeùÜy
* 
dœ
)

92 
Addr
 
addr
 = 
	`PAGE_ADDR
(
dœ
->
·geNo
);

93 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜWr™e
(
addr
,
çl£
);

94 
	`ŒªsDœToF¿me
(
dœ
,
äame
);

95 
äame
->
ed™
=
Œue
;

96 
mªag”
->
	`fšishWr™e
(
äame
);

97 
	}
}

98 
	gDœeùÜySegm’t
::
	$æushAÎ
(){

99 
DœeùÜy
* 
d
 = 
h—d
;

100 
d
!=0)

102 
	`æushOÃ
(
d
);

103 
d
 = d->
Ãxt
;

105 
	}
}

106 
	gDœeùÜySegm’t
::~
	$DœeùÜySegm’t
()

108 
	`æushAÎ
();

109 
DœeùÜy
* 
d
 = 
h—d
;

110 
d
!=0)

112 
DœeùÜy
* 
tmp
 = 
d
;

113 
d
 = d->
Ãxt
;

114 
d–‘e
 
tmp
;

116 
h—d
 = 
theLa¡
 = 0;

117 
m­pšg
.
	`ş—r
();

118 
	}
}

119 
	gDœeùÜySegm’t
::
	$ŒªsF¿meToDœ
(
BufãrF¿me
* 
äame
,
DœeùÜy
* 
dœ
)

122 
ushÜt
 
æag
 = 0&(~
Segm’tTy³
::
mask
);

123 
æag
|=
Segm’tTy³
::
DœeùÜySeg
;

124 
æag
&=(~
PageStus
::
mask
);

125 
æag
|=
PageStus
::
FuÎPage
;

126 
Page
* 
·ge
 = 
äame
->page;

127 if((
·ge
->
æag
&flag)!=flag)

129 #ifdeà
DEBUG


130 
	`´štf
("thi äami nÙ‡ÀdœeùÜy segm’ˆblock!…ageNo=%Îd\n",
äame
->
·geNo
);

134 
dœ
->
·geNo
=
äame
->pageNo;

135 
dœ
->
off£t
=0;

136 
By‹
* 
d©a
 = 
·ge
->data;

137 
d©a
+=
PAGE_HEAD_LEN
;

138 
d©a
+=
PAGE_ALIGN
;

139 
	`memıy
(&
dœ
->
ba£Addr
,
d©a
,
DIRPAGE_BASE_LEN
);

140 #ifdeà
DEBUG


141 
	`´štf
("\näom s¹ %d:",
·ge
->
d©a
-data);

142 
k
=0;k<
DIRPAGE_BASE_LEN
;k++)

144 
	`´štf
("0x%x ",
d©a
[
k
]);

146 
	`´štf
("\nfromƒnd");

148 
d©a
+=
DIRPAGE_BASE_LEN
;

149 
	`memıy
(&
dœ
->
tmpNextBlockAddr
,
d©a
,
DIRPAGE_NEXT_LEN
);

150 
d©a
+=
DIRPAGE_NEXT_LEN
;

152 
	`memıy
(
dœ
->
d©a
,d©a,
DIRPAGE_BODY
);

153 
	}
}

154 
	gDœeùÜySegm’t
::
	$ŒªsDœToF¿me
(
DœeùÜy
* 
dœ
,
BufãrF¿me
* 
äame
)

156 
Page
* 
·ge
 = 
äame
->page;

157 
·ge
->
u£dBy‹
=
PAGE_BODY_LEN
;

158 
·ge
->
u£dL’
=1;

159 
·ge
->
u£dBy‹Li¡
[0].
addr
=
PAGE_HEAD_LEN
;

160 
·ge
->
u£dBy‹Li¡
[0].
Ën
=
PAGE_BODY_LEN
;

161 
ushÜt
 
æag
 = 
·ge
->flag;

162 
æag
 = fÏg&(~
Segm’tTy³
::
mask
)|Segm’tTy³::
DœeùÜySeg
&(~
PageStus
::mask)|PageStus::
FuÎPage
;

163 
·ge
->
æag
=flag;

164 
By‹
* 
d©a
 = 
·ge
->data;

166 
d©a
+=
PAGE_HEAD_LEN
;

167 
d©a
+=
PAGE_ALIGN
;

170 
	`memıy
(
d©a
,&
dœ
->
ba£Addr
,
DIRPAGE_BASE_LEN
);

171 #ifdeà
DEBUG


172 
	`´štf
("\ÁØäam¡¬ˆ%d:",
·ge
->
d©a
-data);

173 
k
=0;k<
DIRPAGE_BASE_LEN
;k++)

175 
	`´štf
("0x%x ",
d©a
[
k
]);

177 
	`´štf
("\ntoƒnd:");

179 
d©a
+=
DIRPAGE_BASE_LEN
;

182 if(
dœ
->
Ãxt
=0)

186 
Addr
 
rg‘
 = 
	`PAGE_ADDR
(
dœ
->
Ãxt
->
·geNo
);

187 
	`memıy
(
d©a
,&
rg‘
,
DIRPAGE_NEXT_LEN
);

190 
Addr
 
rg‘
 = 0;

191 
	`memıy
(
d©a
,&
rg‘
,
DIRPAGE_NEXT_LEN
);

193 
d©a
+=
DIRPAGE_NEXT_LEN
;

196 
	`memıy
(
d©a
,
dœ
->d©a,
DIRPAGE_BODY
);

199 
äame
->
ed™
=
Œue
;

200 
	}
}

202 
	gDœeùÜySegm’t
::
	$š™RoÙPage
()

205 
	}
}

212 
Addr
 
DœeùÜySegm’t
::
	$fšdF»eS­ûBlock
(
By‹
 
£gm’tTy³
)

215 
DœeùÜy
* 
dœ
 = 
h—d
;

216 
dœ
!=0)

218 
Addr
 
ba£
 = 
dœ
->
ba£Addr
;

219 
i
=0;i<
DIRPAGE_BODY
;i++)

221 
By‹
 
™em
 = 
dœ
->
d©a
[
i
];

222 #ifdeà
DEBUG


226 
By‹
 
¡
 = 
™em
&
Segm’tTy³
::
mask
;

227 
£gm’tTy³
 = segmentType;

228 if(
¡
==
£gm’tTy³
)

230 
By‹
 
b
 = 
™em
&
PageStus
::
mask
;

231 if(
b
==
PageStus
::
Em±yPage
||b==PageStus::
H®fPage
)

233 
Addr
 
off£t
 = 
	`PAGE_ADDR
(
i
);

234  (
ba£
+
off£t
);

238 
dœ
 = dœ->
Ãxt
;

241 
	}
}

243 
Addr
 
	gDœeùÜySegm’t
::
	$fšdFœ¡Block
(
By‹
 
£gm’tTy³
)

246 
DœeùÜy
* 
dœ
 = 
h—d
;

247 
dœ
!=0)

249 
Addr
 
ba£
 = 
dœ
->
ba£Addr
;

250 
i
=0;i<
DIRPAGE_BODY
;i++)

252 
By‹
 
™em
 = 
dœ
->
d©a
[
i
];

254 #ifdeà
DEBUG


255 if(
i
<5)

256 
	`´štf
("%Îx i‹m %Îx\n",
™em
&
Segm’tTy³
::
mask
,
£gm’tTy³
);

258 if((
™em
&
Segm’tTy³
::
mask
)==
£gm’tTy³
)

260 
Addr
 
off£t
 = 
	`PAGE_ADDR
(
i
);

261  
ba£
+
off£t
;

264 
dœ
 = dœ->
Ãxt
;

267 
	}
}

268 
Addr
 
	gDœeùÜySegm’t
::
	$fšdNextBlock
(
Addr
 
addr
,
By‹
 
£gm’tTy³
)

270 
DœeùÜy
* 
dœ
 = 
h—d
;

271 
boŞ
 
fšd™
 = 
çl£
;

272 
Addr
 
of¡
 = 0;

273 
PageAddr
 
bŸs
 =0;

274 
dœ
!=0)

276 
Addr
 
ba£
 = 
dœ
->
ba£Addr
;

277 
Addr
 
of¡
 = 
addr
-
ba£
;

278 if(
of¡
>0)

279 { 
bŸs
 = 
	`PAGE_ID
(
of¡
);

280 ifĞ
bŸs
<
DIRPAGE_BODY
&&
of¡
>=0)

282 #ifdeà
DEBUG


283 
	`´štf
("of¡ fšd!%x\n", 
bŸs
);

285 
fšd™
 = 
Œue
;

289 
dœ
 = dœ->
Ãxt
;

291 if(
fšd™
)

293 
bŸs
&=
PAGE_MASK
;

294 
bŸs
++;

295 
dœ
!=0)

297 
Addr
 
ba£a
 = 
dœ
->
ba£Addr
;

298 
i
ğ
bŸs
;i<
DIRPAGE_BODY
;i++)

300 
By‹
 
™em
 = 
dœ
->
d©a
[
i
];

301 if((
™em
&
Segm’tTy³
::
mask
)==
£gm’tTy³
)

303 
Addr
 
off£t
 = 
	`PAGE_ADDR
(
i
);

304 #ifdeà
DEBUG


305 
	`´štf
("of¡ %x\n", 
bŸs
);

307  
ba£a
+
off£t
;

310 
bŸs
=0;

311 
dœ
 = dœ->
Ãxt
;

315 
	}
}

316 
	gDœeùÜySegm’t
::
	$upd©eS·ûM¬k
(
BufãrF¿me
* 
äame
,
By‹
 
£gm’tTy³
,By‹ 
·geStus
)

318 
Addr
 
·geNo
 = 
äame
->pageNo;

319 
Addr
 
addr
 = 
	`PAGE_ADDR
(
·geNo
);

320 
DœeùÜy
* 
dœ
 = 
	`fšdDœeùÜy
(
addr
);

321 
off£t
 =
	`PAGE_ID
(
addr
-
dœ
->
ba£Addr
);

322 if(
off£t
>=
DIRPAGE_BODY
)

324 
	`´štf
("error!he block is out of„ange! missing its control block!");

326 
dœ
->
d©a
[
off£t
]=
£gm’tTy³
|
·geStus
;

327 if(
dœ
->
d©a
[
off£t
]==0)dœ->
maxAddr
--;

328 
	}
}

329 
Addr
 
	gDœeùÜySegm’t
::
	$g‘NewDœAddr
()

331 
DœeùÜy
* 
dœ
 = 
h—d
;

332 
dœ
!=0)

334 if(
dœ
->
Ãxt
!=0)

336 
dœ
 = dœ->
Ãxt
;

339  
dœ
->
ba£Addr
+(
	`PAGE_ADDR
(
DIRPAGE_BODY
));

343 
	}
}

344 
DœeùÜy
* 
	gDœeùÜySegm’t
::
	$fšdDœeùÜy
(
Addr
 
addr
)

346 
¡d
::
m­
<
Addr
,
DœeùÜy
*>::
™”©Ü
 
™”
 = 
m­pšg
.
	`low”_bound
(
addr
);

347 
DœeùÜy
* 
dœ
 = 
™”
->
£cÚd
;

348 if(
dœ
->
ba£Addr
<=
addr
&&(dœ->ba£Addr+
	`PAGE_ADDR
(
DIRPAGE_BODY
))>addr){

350  
dœ
;

352 
	`´štf
("‚ot hit it!\n");

353 
dœ
 = 
h—d
;

354 
dœ
!=0)

356 if(
dœ
->
Ãxt
!=0)

358 if(
dœ
->
Ãxt
->
ba£Addr
>
addr
)

360  
dœ
;

364 
dœ
 = dœ->
Ãxt
;

368  
dœ
;

371 
	}
}

379 
	gDœeùÜySegm’t
::
	$ä“Block
(
Addr
 
addr
)

381 
DœeùÜy
* 
dœ
 = 
	`fšdDœeùÜy
(
addr
);

383 
off£t
 =
	`PAGE_ID
(
addr
-
dœ
->
ba£Addr
);

384 if(
off£t
>=
DIRPAGE_BODY
)

386 
	`´štf
("error!he block is out of„ange! missing its control block!");

388 
dœ
->
d©a
[
off£t
] = 0;

389 
dœ
->
maxAddr
--;

390 
	}
}

391 
Addr
 
	gDœeùÜySegm’t
::
	$®loÿ‹BlockInOÃPage
(
DœeùÜy
* 
dœ
,
By‹
 
£gm’tTy³
,By‹ 
·geStus
)

393 if(
dœ
->
maxAddr
<
DIRPAGE_BODY
)

395 if(
dœ
->
ÃxtTok’
>0&&dœ->ÃxtTok’<
DIRPAGE_BODY
)

397 if(
dœ
->
d©a
[dœ->
ÃxtTok’
]==0)

399 
dœ
->
d©a
[dœ->
ÃxtTok’
]=
£gm’tTy³
|
·geStus
;

400 
Addr
 
·geOff£t
 = 
	`PAGE_ADDR
(
dœ
->
ÃxtTok’
);

401 
dœ
->
maxAddr
++;

402 
dœ
->
ÃxtTok’
=dir->nextToken+1;

403 #ifdeà
DEBUG


404 
	`´štf
("\tba£ Add¸%Îd i=%Îd…ageOff£ˆ%Îx\t",
dœ
->
ba£Addr
,dœ->
ÃxtTok’
,
·geOff£t
);

406  
dœ
->
ba£Addr
+
·geOff£t
;

409 
dœ
->
ÃxtTok’
 = 0;

412 
i
=0;i<
DIRPAGE_BODY
;i++)

414 if(
dœ
->
d©a
[
i
]==0)

416 
dœ
->
d©a
[
i
]=
£gm’tTy³
|
·geStus
;

417 
Addr
 
·geOff£t
 = 
	`PAGE_ADDR
(
i
);

418 
dœ
->
maxAddr
++;

419 
dœ
->
ÃxtTok’
=
i
+1;

420 #ifdeà
DEBUG


421 
	`´štf
("\tba£ Add¸%Îd i=%Îd…ageOff£ˆ%Îx\t",
dœ
->
ba£Addr
,
i
,
·geOff£t
);

423  
dœ
->
ba£Addr
+
·geOff£t
;

428 
	}
}

442 
Addr
 
	gDœeùÜySegm’t
::
	$®loÿ‹Block
(
By‹
 
£gm’tTy³
,By‹ 
·geStus
)

444 
DœeùÜy
* 
dœ
 = 
h—d
;

445 
Addr
 
®locAddrs
 = 
	`®loÿ‹BlockInOÃPage
(
theLa¡
,
£gm’tTy³
,
·geStus
);

446 if(
®locAddrs
>=0)‡llocAddrs;

447 
dœ
!=0)

449 
Addr
 
®locAddr
 = 
	`®loÿ‹BlockInOÃPage
(
dœ
,
£gm’tTy³
,
·geStus
);

450 if(
®locAddr
>=0)‡llocAddr;

454 
dœ
=dœ->
Ãxt
;

458 #ifdeà
DEBUG


459 
	`´štf
("******************************************************************\n");

460 
	`´štf
("allocate‚ew directory\n");

461 
	`´štf
("******************************************************************\n");

463 
	`®loÿ‹DœeùÜy
();

464 #ifdeà
DEBUG


465 
	`´štf
("******************************************************************\n");

466 
	`´štf
("®loÿ‹‚ew dœeùÜy %x‡nd h—d %x\n",
theLa¡
,
h—d
);

467 
	`´štf
("******************************************************************\n");

469 
Addr
 
pgno
 = 
theLa¡
->
·geNo
;

471 if(
pgno
%
DIRPAGE_BODY
!=0)

473 
	`´štf
("®loÿ‹hdœeùÜy blockƒ¼Ü!…agnumb” = %d\n",
pgno
);

478  
this
->
	`®loÿ‹Block
(
£gm’tTy³
,
·geStus
);

480 
dœ
 = 
theLa¡
;

482 
Addr
 
ba£s
 = 
dœ
->
ba£Addr
;

484 
k
=0;k<
DIRPAGE_BODY
;k++)

486 
	`´štf
("k=%d\n",
k
);

487 #ifdeà
DEBUG


488 
	`´štf
("\t3ã€€check ba£ Add¸%Îd i=%Îd…ageOff£ˆ%Îx\ˆd©¨%x i=%d\t\t",
dœ
->
ba£Addr
,
k
, 
	`PAGE_ADDR
(k),dœ->
d©a
[k],k);

490 if(
dœ
->
d©a
[
k
]==0)

492 
dœ
->
d©a
[
k
]=
£gm’tTy³
|
·geStus
;

493 
Addr
 
·geOff£t
 = 
	`PAGE_ADDR
(
k
);

494 
dœ
->
maxAddr
++;

495 #ifdeà
DEBUG


496 
	`´štf
("\t3ba£ Add¸%Îd i=%Îd…ageOff£ˆ%Îx\t",
dœ
->
ba£Addr
,
k
,
·geOff£t
);

498  
ba£s
+
·geOff£t
;

501 
	`´štf
("unreachable\n");

505 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/segment/DirectorySegment.h

1 #iâdeà
DIRECTORYSEGMENT_H_INCLUDED


2 
	#DIRECTORYSEGMENT_H_INCLUDED


	)

4 
	~<m­
>

5 
	~"../commÚ.h
"

6 
	~"Segm’t.h
"

8 
	#DIRPAGE_BASE_LEN
 8u

9 
	#DIRPAGE_NEXT_LEN
 8u

10 
	#DIRPAGE_HEAD_LEN
 (
DIRPAGE_BASE_LEN
+
DIRPAGE_NEXT_LEN
)

11 
	#DIRPAGE_OFFSET
 (
PAGE_HEAD_LEN
+
DIRPAGE_HEAD_LEN
)

12 
	#DIRPAGE_BODY
 (
PAGE_HEAD_BODY
*8 - 
DIRPAGE_HEAD_LEN
)

17 

	)

18 şas 
	cDœeùÜy


20 
	mpublic
:

21 
Addr
 
ba£Addr
;

22 
Addr
 
	m·geNo
;

23 
By‹
* 
	md©a
;

24 
DœeùÜy
* 
	mÃxt
;

25 
boŞ
 
	med™
;

26 
Addr
 
	mtmpNextBlockAddr
;

27 
	$DœeùÜy
():
	`ba£Addr
(0),
	`·geNo
(0),
	`Ãxt
(0),
	$ed™
(
çl£
)

29 
d©a
 = 
Ãw
 
By‹
[
DIRPAGE_BODY
];

30 
	`mem£t
(
d©a
,0,
DIRPAGE_BODY
*(
By‹
));

31 
ÃxtTok’
 = 0;

33 ~
	$DœeùÜy
()

35 
d–‘e
[] 
d©a
;

36 
	}
}

37 
	goff£t
;

38 
Addr
 
	gmaxAddr
;

39 
Addr
 
	gÃxtTok’
;

42 şas 
	cDœeùÜySegm’t
 : 
public
 
Segm’t


44 
public
:

45 
DœeùÜySegm’t
(
BufãrMªag”
* 
mgr
);

46 ~
DœeùÜySegm’t
();

57 
Addr
 
fšdF»eS­ûBlock
(
By‹
 
£gm’tTy³
);

58 
Addr
 
fšdFœ¡Block
(
By‹
 
£gm’tTy³
);

59 
Addr
 
fšdNextBlock
(Add¸
addr
,
By‹
 
£gm’tTy³
);

60 
upd©eS·ûM¬k
(
BufãrF¿me
* 
äame
,
By‹
 
£gm’tTy³
,By‹ 
·geStus
);

61 
ä“Block
(
Addr
 
addr
);

62 
DœeùÜy
* 
®loÿ‹DœeùÜy
();

63 
Addr
 
®loÿ‹Block
(
By‹
 
£gm’tTy³
,By‹ 
·geStus
);

64 
Addr
 
g‘NewDœAddr
();

65 
š™RoÙPage
();

67 
	m´iv©e
:

68 
Addr
 
®loÿ‹BlockInOÃPage
(
DœeùÜy
* 
dœ
,
By‹
 
£gm’tTy³
,By‹ 
·geStus
);

69 
ŒªsF¿meToDœ
(
BufãrF¿me
* 
äame
,
DœeùÜy
* 
dœ
);

70 
ŒªsDœToF¿me
(
DœeùÜy
* 
dœ
,
BufãrF¿me
* 
äame
);

71 
æushOÃ
(
DœeùÜy
* 
dœ
);

73 
æushAÎ
();

75 
DœeùÜy
* 
fšdDœeùÜy
(
Addr
 
addr
);

76 
DœeùÜy
* 
	mh—d
;

77 
DœeùÜy
* 
	mtheLa¡
;

78 
	m¡d
::
m­
<
Addr
,
	mDœeùÜy
*> 
	mm­pšg
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/segment/IndexSegment.cpp

1 
	~"IndexSegm’t.h
"

2 
	~"../šdex/BPT»e.h
"

3 
	~"../šdex/Prim¬yHashIndex.h
"

4 #ifdeà
DEBUG_INDEX


5 
	~<c¡dio
>

6 
	~<c¡dlib
>

8 
	gIndexSegm’t
::
	$š™RoÙPage
()

11 
	}
}

12 
IndexSegm’t
::
	$IndexSegm’t
(
BufãrMªag”
* 
mgr
,
DœeùÜySegm’t
* 
dœ
,
D©aSegm’t
* 
d©a£g
,
M‘aD©aSegm’t
* 
m‘a£g
):
	`Segm’t
(mgr),
	`drs
(dœ),
	`dts
(d©a£g),
	$mts
(
m‘a£g
)

14 
this
->
šdexM‘a
 = 
Ãw
 
	`IndexM‘a
();

15 
this
->
šdexM‘aAddr
 = 
drs
->
	`fšdFœ¡Block
(
Segm’tTy³
::
IndexSeg
);

16 if(
šdexM‘aAddr
<=0)

18 
šdexM‘aAddr
 = 
drs
->
	`®loÿ‹Block
(
Segm’tTy³
::
IndexSeg
,
PageStus
::
H®fPage
);

19 
šdexM‘a
->
tid
 = 
mts
->
	`g‘M‘aD©a
()->tid;

20 
šdexM‘a
->
u£L’
 = 0;

21 
šdexM‘a
->
blockNum
=1;

22 
šdexM‘a
->
f›ldNum
=
mts
->
	`g‘M‘aD©a
()->fieldNum;

23 
šdexM‘a
->
ÃxtAddr
=0;

24 
šdexM‘a
->
·geNo
 = 
	`PAGE_ID
(
šdexM‘aAddr
);

26 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜWr™e
(
šdexM‘aAddr
,
çl£
);

27 
	`ŒªsM‘aToF¿me
(
šdexM‘a
,
äame
);

28 
äame
->
ed™
 = 
Œue
;

29 
mªag”
->
	`fšishWr™e
(
äame
);

36 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜR—d
(
šdexM‘aAddr
);

37 
	`ŒªsF¿meToM‘a
(
äame
,
this
->
šdexM‘a
);

38 
mªag”
->
	`fšishR—d
(
äame
);

42 
	}
}

43 
	gIndexSegm’t
::
	$æush
()

45 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜWr™e
(
this
->
šdexM‘aAddr
,
çl£
);

46 
	`ŒªsM‘aToF¿me
(
this
->
šdexM‘a
,
äame
);

47 
mªag”
->
	`fšishWr™e
(
äame
);

48 
	}
}

49 
	gIndexSegm’t
::~
	$IndexSegm’t
()

51 
	`æush
();

52 
i
=0;i<
this
->
šdexM‘a
->
u£L’
;i++)

54 
IndexM‘aI‹m
* 
™em
 = &
šdexM‘a
->
šdexLi¡
[
i
];

55 if(
™em
->
šdex
!=0)

57 
™em
->
šdex
->
	`»Ëa£AÎ
();

58 
d–‘e
 
™em
->
šdex
;

59 
™em
->
šdex
=0;

62 
d–‘e
 
this
->
šdexM‘a
;

63 
this
->
šdexM‘a
 = 0;

64 
	}
}

66 
	gIndexSegm’t
::
	$ŒªsF¿meToM‘a
(
BufãrF¿me
* 
äame
,
IndexM‘a
* 
m‘a
)

68 
Page
* 
·ge
 = 
äame
->page;

69 
ushÜt
 
æag
 = 
·ge
->æag&
Segm’tTy³
::
mask
;

70 if(
æag
!=
Segm’tTy³
::
IndexSeg
)

72 #ifdeà
DEBUG_INDEX


73 
	`´štf
("warning:his…age is‚ot‡ index segment…age!\n");

77 
m‘a
->
·geNo
 = 
äame
->pageNo;

78 
By‹
* 
d©a
 = 
·ge
->data;

79 
By‹
* 
Şd
 = 
d©a
;

80 
d©a
+=
PAGE_HEAD_LEN
;

81 
d©a
+=
PAGE_ALIGN
;

82 
pos
 = 0;

83 if(
d©a
[
pos
++]!=
IndexM‘aMagic
)

85 #ifdeà
DEBUG_INDEX


86 
	`´štf
("warning:his…osition is‚ot‡ indexMeta!\n");

89 
m‘a
->
tid
=
d©a
[
pos
++];

90 
m‘a
->
f›ldNum
=
d©a
[
pos
++];

91 
m‘a
->
blockNum
=
d©a
[
pos
++];

92 
d©a
+=
pos
;

93 
	`memıy
(&
m‘a
->
·geNo
,
d©a
,(
Addr
));

94 
d©a
+=(
Addr
);

95 
	`memıy
(&
m‘a
->
ÃxtAddr
,
d©a
,(
Addr
));

96 
d©a
+=(
Addr
);

97 
	`memıy
(&
m‘a
->
u£L’
,
d©a
,());

98 
d©a
+=();

99 
i
=0;i<
m‘a
->
u£L’
;i++)

101 
»ads
 = 
this
->
	`»adIndexM‘aI‹m
(&
m‘a
->
šdexLi¡
[
i
],
d©a
);

102 
m‘a
->
šdexLi¡
[
i
].
šdex
 = 0;

103 
d©a
+=
»ads
;

104 if(
»ads
!=12)

106 #ifdeà
DEBUG_INDEX


107 
	`´štf
("warning:‡n item is‚otƒqualo 12 when„eading\n");

111 
	}
}

113 
	gIndexSegm’t
::
	$ŒªsM‘aToF¿me
(
IndexM‘a
* 
m‘a
,
BufãrF¿me
* 
äame
)

115 
Page
* 
·ge
 = 
äame
->page;

116 
By‹
* 
d©a
 = 
·ge
->data;

117 
·ge
->
u£dBy‹
 = 
PAGE_BODY_LEN
;

118 
·ge
->
u£dL’
=0;

119 
·ge
->
u£dBy‹Li¡
[0].
addr
=0;

120 
·ge
->
u£dBy‹Li¡
[0].
Ën
=0;

121 
ushÜt
 
æag
 = 
·ge
->flag;

122 
æag
 = fÏg&(~
Segm’tTy³
::
mask
)|Segm’tTy³::
IndexSeg
&(~
PageStus
::mask)|PageStus::
H®fPage
;

123 
·ge
->
æag
 = flag;

124 
d©a
+=
PAGE_HEAD_LEN
;

125 
d©a
+=
PAGE_ALIGN
;

126 
pos
 = 0;

127 
d©a
[
pos
++]=
IndexM‘aMagic
;

128 
d©a
[
pos
++]=
m‘a
->
tid
;

129 
d©a
[
pos
++]=
m‘a
->
f›ldNum
;

130 
d©a
[
pos
++]=
m‘a
->
blockNum
;

131 
d©a
+=
pos
;

132 
	`memıy
(
d©a
,&
m‘a
->
·geNo
,(
Addr
));

133 
d©a
+=(
Addr
);

134 
	`memıy
(
d©a
,&
m‘a
->
ÃxtAddr
,(
Addr
));

135 
d©a
+=(
Addr
);

136 
	`memıy
(
d©a
,&
m‘a
->
u£L’
,());

137 
d©a
+=();

138 
i
=0;i<
m‘a
->
u£L’
;i++)

140 if(
i
>=
MAX_INDEX_NUM
);

141 
wr™‹n
 = 
this
->
	`wr™eIndexM‘aI‹m
(&
m‘a
->
šdexLi¡
[
i
],
d©a
);

142 
d©a
+=
wr™‹n
;

143 if(
wr™‹n
!=12)

145 #ifdeà
DEBUG_INDEX


146 
	`´štf
("warning:‡n item is‚otƒqualo 12 when writing\n");

151 
	}
}

153 
	gIndexSegm’t
::
	$wr™eIndexM‘aI‹m
(
IndexM‘aI‹m
* 
™em
,
By‹
* 
d©a
)

155 
By‹
* 
Şd
 = 
d©a
;

156 
pos
 = 0;

157 
d©a
[
pos
++]=
IndexI‹mMagic
;

158 
d©a
[
pos
++]=
™em
->
fid
;

159 
d©a
[
pos
++]=
™em
->
šdexTy³
;

160 
d©a
[
pos
++]=
™em
->
šdexL’
;

161 
d©a
+=
pos
;

162 
	`memıy
(
d©a
,&
™em
->
šdexAddr
,(
Addr
));

163 
d©a
+=(
Addr
);

164  
d©a
-
Şd
;

165 
	}
}

166 
	gIndexSegm’t
::
	$»adIndexM‘aI‹m
(
IndexM‘aI‹m
* 
™em
,
By‹
* 
d©a
)

168 
By‹
* 
Şd
 = 
d©a
;

169 
pos
 =0;

170 if(
d©a
[
pos
++]!=
IndexI‹mMagic
)

172 #ifdeà
DEBUG_INDEX


173 
	`´štf
("warning:„ead badly when„eadinghe indexMetaItem!\n");

176 
™em
->
fid
 = 
d©a
[
pos
++];

177 
™em
->
šdexTy³
=
d©a
[
pos
++];

178 
™em
->
šdexL’
=
d©a
[
pos
++];

179 
d©a
+=
pos
;

180 
	`memıy
(&
™em
->
šdexAddr
,
d©a
,(
Addr
));

181 
d©a
+=(
Addr
);

182  
d©a
-
Şd
;

183 
	}
}

184 
Index
* 
	gIndexSegm’t
::
	$ü—‹Index
(
By‹
 
fid
,By‹ 
šdexTy³
)

187 
IndexM‘aI‹m
* 
™em
 = &
this
->
šdexM‘a
->
šdexLi¡
[this->šdexM‘a->
u£L’
];

188 
™em
->
fid
 = fid;

189 
™em
->
šdexL’
 = 
this
->
mts
->
	`g‘M‘aD©a
()->
h—d
->
f›ldLi¡
[
fid
].
Ën
;

190 
™em
->
šdexTy³
=indexType;

191 
šdexTy³
)

193 
IndexTy³
::
•tidx
:

194 
™em
->
šdex
 = 
Ãw
 
	`Index
(
this
,
fid
,0);

195 
™em
->
šdexAddr
 = i‹m->
šdex
->
	`g‘RoÙAddr
();

196 
™em
->
šdex
->
	`ü—‹
();

198 
IndexTy³
::
b±idx
:

199 
™em
->
šdex
 = 
Ãw
 
	`BPT»e
(
this
,
fid
,0,item);

200 
™em
->
šdexAddr
 = i‹m->
šdex
->
	`g‘RoÙAddr
();

201 
™em
->
šdex
->
	`ü—‹
();

203 
IndexTy³
::
hashidx
:

204 
	`´štf
("create index‚ow");

205 
™em
->
šdex
=
Ãw
 
	`Prim¬yHashIndex
(
this
,
fid
,0);

206 
™em
->
šdexAddr
=™em->
šdex
->
	`g‘RoÙAddr
();

207 
™em
->
šdex
->
	`ü—‹
();

210 
this
->
šdexM‘a
->
u£L’
++;

211  
™em
->
šdex
;

212 
	}
}

213 
Index
* 
	gIndexSegm’t
::
	$lßdIndex
(
IndexM‘aI‹m
* 
™em
)

215 
Index
* 
šdx
 = 0;

216 
™em
->
šdexTy³
)

218 
IndexTy³
::
•tidx
:

219 
šdx
 = 
Ãw
 
	`Index
(
this
,
™em
->
fid
,™em->
šdexAddr
);

220 
šdx
->
	`lßd
();

222 
IndexTy³
::
b±idx
:

223 
šdx
 = 
Ãw
 
	`BPT»e
(
this
,
™em
->
fid
,™em->
šdexAddr
,item);

224 
šdx
->
	`lßd
();

226 
IndexTy³
::
hashidx
:

227 
šdx
=
Ãw
 
	`Prim¬yHashIndex
(
this
,
™em
->
fid
,0);

228 
šdx
->
	`lßd
();

231  
šdx
;

232 
	}
}

233 
Index
* 
	gIndexSegm’t
::
	$fšdIndex
(
By‹
 
fid
,By‹ 
šdexTy³
)

235 #ifdeà
DEBUG_INDEX


236 
	`´štf
("šdexM‘¨size:%d\n",
this
->
šdexM‘a
->
u£L’
);

238 
i
=0;i<
this
->
šdexM‘a
->
u£L’
;i++)

240 #ifdeà
DEBUG_INDEX


241 
	`´štf
("šdexM‘¨[%d] fid %dy³ %d\n",
i
,
šdexM‘a
->
šdexLi¡
[i].
fid
,šdexM‘a->šdexLi¡[i].
šdexTy³
);

243 if(
šdexM‘a
->
šdexLi¡
[
i
].
fid
==fid&&šdexM‘a->šdexLi¡[i].
šdexTy³
==indexType)

246 
IndexM‘aI‹m
* 
™em
 = &
šdexM‘a
->
šdexLi¡
[
i
];

247 if(
™em
->
šdex
==0)

249 
™em
->
šdex
 = 
	`lßdIndex
(item);

250  
™em
->
šdex
;

254  
™em
->
šdex
;

258 
	}
}

259 
	gIndexSegm’t
::
	$drİIndex
(
By‹
 
fid
,By‹ 
šdexTy³
)

261 
IndexM‘aI‹m
* 
™em
 = 0;

262 
i
=0;i<
this
->
šdexM‘a
->
u£L’
;i++)

264 if(
šdexM‘a
->
šdexLi¡
[
i
].
fid
==fid&&šdexM‘a->šdexLi¡[i].
šdexTy³
==indexType)

266 
™em
 = &
šdexM‘a
->
šdexLi¡
[
i
];

267 
j
=
i
;j<
this
->
šdexM‘a
->
u£L’
-1;j++)

269 
IndexM‘aI‹m
* 
k1
 = &
šdexM‘a
->
šdexLi¡
[
j
];

270 
IndexM‘aI‹m
* 
k2
 = &
šdexM‘a
->
šdexLi¡
[
j
+1];

271 
k1
->
fid
 = 
k2
->fid;

272 
k1
->
šdex
 = 
k2
->index;

273 
k1
->
šdexAddr
 = 
k2
->indexAddr;

274 
k1
->
šdexL’
 = 
k2
->indexLen;

275 
k1
->
šdexTy³
 = 
k2
->indexType;

280 if(
™em
!=0)

282 if(
™em
->
šdex
==0)

284 
™em
->
šdex
 = 
	`lßdIndex
(item);

286 if(
™em
->
šdex
!=0)

288 
™em
->
šdex
->
	`de¡royMyS–f
();

290 
this
->
šdexM‘a
->
u£L’
--;

292 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/segment/IndexSegment.h

1 #iâdeà
INDEXSEGMENT_H_INCLUDED


2 
	#INDEXSEGMENT_H_INCLUDED


	)

3 
	#DEBUG_INDEX


	)

4 
	~<m­
>

5 
	~"../commÚ.h
"

6 
	~"../bufãr/BufãrMªag”.h
"

7 
	~"../bË/m‘a.h
"

8 
	~"Segm’t.h
"

9 
	~"DœeùÜySegm’t.h
"

10 
	~"M‘aD©aSegm’t.h
"

11 
	~"D©aSegm’t.h
"

12 
	~"../šdex/Index.h
"

13 
	#IndexI‹mMagic
 0x61

	)

14 
	#IndexM‘aMagic
 0x62

	)

15 
	#MAX_INDEX_NUM
 700

	)

17 
	sIndexM‘aI‹m


20 
By‹
 
	mfid
;

21 
By‹
 
	mšdexTy³
;

22 
By‹
 
	mšdexL’
;

23 
Addr
 
	mšdexAddr
;

24 
Index
* 
	mšdex
;

26 } 
	tIndexM‘aI‹m
;

28 
	sIndexM‘a


31 
By‹
 
	mtid
;

32 
By‹
 
	mf›ldNum
;

33 
By‹
 
	mblockNum
;

34 
Addr
 
	m·geNo
;

35 
Addr
 
	mÃxtAddr
;

36 
	mu£L’
;

37 
IndexM‘aI‹m
 
	mšdexLi¡
[
MAX_INDEX_NUM
];

38 }
	tIndexM‘a
;

40 şas 
	cIndexSegm’t
: 
public
 
Segm’t


42 
public
:

43 
IndexM‘a
* 
šdexM‘a
;

44 
IndexSegm’t
(
BufãrMªag”
* 
mgr
,
DœeùÜySegm’t
* 
dœ
,
D©aSegm’t
* 
d©a£g
,
M‘aD©aSegm’t
* 
m‘a£g
);

45 ~
IndexSegm’t
();

46 
Index
* 
ü—‹Index
(
By‹
 
fid
,By‹ 
šdexTy³
);

47 
Index
* 
lßdIndex
(
IndexM‘aI‹m
* 
™em
);

48 
Index
* 
fšdIndex
(
By‹
 
fid
,By‹ 
šdexTy³
);

49 
drİIndex
(
By‹
 
fid
,By‹ 
IndexTy³
);

50 
ä›nd
 
şass
 
	mIndex
;

51 
	m´Ùeùed
:

52 
š™RoÙPage
();

53 
	m´iv©e
:

55 
DœeùÜySegm’t
* 
drs
;

56 
D©aSegm’t
* 
	mdts
;

57 
M‘aD©aSegm’t
* 
	mmts
;

59 
Addr
 
	mšdexM‘aAddr
;

60 
ŒªsF¿meToM‘a
(
BufãrF¿me
* 
äame
,
IndexM‘a
* 
m‘a
);

61 
ŒªsM‘aToF¿me
(
IndexM‘a
* 
m‘a
,
BufãrF¿me
* 
äame
);

62 
wr™eIndexM‘aI‹m
(
IndexM‘aI‹m
* 
™em
,
By‹
* 
d©a
);

63 
»adIndexM‘aI‹m
(
IndexM‘aI‹m
* 
™em
,
By‹
* 
d©a
);

64 
æush
();

	@/home/huangwentao/WorkSpaces/carrots/dbms/segment/MetaDataSegment.cpp

1 
	~"M‘aD©aSegm’t.h
"

2 #ifdeà
DEBUG


3 
	~<c¡dlib
>

4 
	~<c¡dio
>

6 
	~"../bË/TabËUt.h
"

7 
	gM‘aD©aSegm’t
::
	$M‘aD©aSegm’t
(
BufãrMªag”
* 
mgr
,
DœeùÜySegm’t
* 
dœ
)

9 
this
->
mªag”
 = 
mgr
;

10 
this
->
dœ
=dir;

11 
this
->
bËM‘a
 = 
Ãw
 
	`TabËM‘a
();

12 
this
->
m‘aPageAddr
 = 
dœ
->
	`fšdFœ¡Block
(
Segm’tTy³
::
M‘aD©aSeg
);

13 if(
m‘aPageAddr
==0)

16 
this
->
m‘aPageAddr
 = 
dœ
->
	`®loÿ‹Block
(
Segm’tTy³
::
M‘aD©aSeg
,
PageStus
::
FuÎPage
);

17 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜWr™e
(
this
->
m‘aPageAddr
,
çl£
);

18 
bËM‘a
->
blockNum
=1;

19 
bËM‘a
->
f›ldNum
=0;

20 
bËM‘a
->
h—d
=
Ãw
 
	`F›ldP¬t
();

21 
bËM‘a
->
·geNo
=
	`PAGE_ID
(
m‘aPageAddr
);

22 
bËM‘a
->
tid
=0;

23 
bËM‘a
->
h—d
->
f›ldOff£t
=0;

24 
bËM‘a
->
h—d
->
Ãxt
=0;

25 
bËM‘a
->
h—d
->
ÃxtP¬tAddr
=0;

26 
bËM‘a
->
h—d
->
·¹Num
=0;

27 
bËM‘a
->
h—d
->
tid
=0;

28 
bËM‘a
->
h—d
->
f›ldLi¡
 = 0;

29 
this
->
	`ŒªsTabËM‘aToF¿me
(
äame
);

30 
äame
->
ed™
=
Œue
;

31 
mªag”
->
	`fšishWr™e
(
äame
);

34 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜR—d
(
this
->
m‘aPageAddr
);

35 
this
->
	`ŒªsF¿meToTabËM‘a
(
äame
);

36 
mªag”
->
	`fšishR—d
(
äame
);

37 
F›ldP¬t
* 
·¹
 = 
bËM‘a
->
h—d
;

38 
of¡
 = 0;

39 
·¹
!=0)

41 
k
=0;k<
·¹
->
·¹Num
;k++)

43 
·¹
->
f›ldLi¡
[
k
].
off£tInTu¶e
=
of¡
;

44 
of¡
+=
·¹
->
f›ldLi¡
[
k
].
Ën
;

46 
·¹
ğ·¹->
Ãxt
;

49 
	}
}

50 
	gM‘aD©aSegm’t
::
	$d–‘eF›ldLi¡
()

52 
bËM‘a
->
h—d
!=0)

54 if(
bËM‘a
->
h—d
->
f›ldLi¡
!=0)

56 
d–‘e
[] 
bËM‘a
->
h—d
->
f›ldLi¡
;

57 
bËM‘a
->
h—d
->
f›ldLi¡
=0;

59 
F›ldP¬t
* 
·¹
 = 
bËM‘a
->
h—d
;

60 
bËM‘a
->
h—d
 = 
·¹
->
Ãxt
;

61 
d–‘e
 
·¹
;

63 
	}
}

64 
	gM‘aD©aSegm’t
::~
	$M‘aD©aSegm’t
()

66 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜWr™e
(
this
->
m‘aPageAddr
,
çl£
);

67 
this
->
	`ŒªsTabËM‘aToF¿me
(
äame
);

68 
äame
->
ed™
=
Œue
;

69 
mªag”
->
	`fšishWr™e
(
äame
);

70 
	`d–‘eF›ldLi¡
();

71 
d–‘e
 
bËM‘a
;

72 
this
->
bËM‘a
=0;

73 
	}
}

74 
	gM‘aD©aSegm’t
::
	$ŒªsTabËM‘aToF¿me
(
BufãrF¿me
* 
äame
)

76 
Page
* 
·ge
 = 
äame
->page;

77 
·ge
->
u£dBy‹
 = 
PAGE_BODY_LEN
;

78 
·ge
->
u£dL’
=1;

79 
·ge
->
u£dBy‹Li¡
[0].
addr
=
PAGE_HEAD_LEN
;

80 
·ge
->
u£dBy‹Li¡
[0].
Ën
=
PAGE_BODY_LEN
;

81 
ushÜt
 
æag
 = 
·ge
->flag;

82 
æag
 = fÏg&(~
Segm’tTy³
::
mask
)|Segm’tTy³::
M‘aD©aSeg
&(~
PageStus
::mask)|PageStus::
FuÎPage
;

83 
·ge
->
æag
=flag;

84 
By‹
* 
d©a
 = 
·ge
->data;

85 
d©a
+=
PAGE_HEAD_LEN
;

86 
d©a
+=
PAGE_ALIGN
;

87 
pos
 = 0;

88 
d©a
[
pos
++]=
TABLE_MAGIC
;

89 
d©a
[
pos
++]=
bËM‘a
->
tid
;

90 
d©a
[
pos
++]=
bËM‘a
->
f›ldNum
;

91 
d©a
[
pos
++]=
bËM‘a
->
blockNum
;

92 
d©a
+=
pos
;

94 
	`memıy
(
d©a
,
bËM‘a
->
Šame
,
MAX_TABLE_NAME_LEN
);

95 
d©a
+=
MAX_TABLE_NAME_LEN
;

98 
F›ldP¬t
* 
·¹
 = 
bËM‘a
->
h—d
;

99 
m
 = 
d©a
-
·ge
->data;

101 
m
 = 
PAGE_SIZE
-m;

102 
·¹
!=0)

105 
w
 =
TabËUt
::
	`wœ‹F›ldP¬tM‘a
(
d©a
,
·¹
,
m
);

106 
d©a
+=
w
;

107 
m
-=
w
;

108 #ifdeà
DEBUG


109 
	`´štf
("f›ld…¬ˆadd¸%Îx, wr™%d by‹\n",(
	`PAGE_ADDR
(
äame
->
·geNo
))+(
d©a
-
·ge
->d©a),
w
);

111 
·¹
 =…¬t->
Ãxt
;

113 
	}
}

114 
	gM‘aD©aSegm’t
::
	$ŒªsF¿meToTabËM‘a
(
BufãrF¿me
* 
äame
)

116 
ushÜt
 
æag
 = 0&(~
Segm’tTy³
::
mask
);

117 
æag
|=
Segm’tTy³
::
M‘aD©aSeg
;

118 
æag
&=(~
PageStus
::
mask
);

119 
æag
|=
PageStus
::
FuÎPage
;

120 
Page
* 
·ge
 = 
äame
->page;

121 if((
·ge
->
æag
&flag)!=flag)

123 #ifdeà
DEBUG


124 
	`´štf
("thi äami nÙ‡Àm‘ad©¨£gm’ˆblock!…ageNo=%Îd\n",
äame
->
·geNo
);

128 
bËM‘a
->
·geNo
 = 
äame
->pageNo;

129 
By‹
* 
d©a
 = 
·ge
->data;

130 
By‹
* 
Şd
 = 
d©a
;

131 
d©a
+=
PAGE_HEAD_LEN
;

132 
d©a
+=
PAGE_ALIGN
;

133 
pos
 = 0;

134 if(
d©a
[0]!=
TABLE_MAGIC
)

136 #ifdeà
DEBUG


137 
	`´štf
("thi bË magiø”rÜ!…ageNo=%Îd\n",
äame
->
·geNo
);

141 
pos
++;

142 
bËM‘a
->
tid
ğ
d©a
[
pos
++];

143 
bËM‘a
->
f›ldNum
ğ
d©a
[
pos
++];

144 
bËM‘a
->
blockNum
=
d©a
[
pos
++];

145 
d©a
+=
pos
;

146 
	`memıy
(
bËM‘a
->
Šame
,
d©a
,
MAX_TABLE_NAME_LEN
);

147 
d©a
+=
MAX_TABLE_NAME_LEN
;

149 
	`d–‘eF›ldLi¡
();

150 
bËM‘a
->
h—d
 = 
Ãw
 
	`F›ldP¬t
();

151 
bËM‘a
->
h—d
->
Ãxt
=0;

152 
bËM‘a
->
h—d
->
ÃxtP¬tAddr
=0;

153 
m
 = 
d©a
-
Şd
;

154 
m
 = 
PAGE_SIZE
-m;

155 
TabËUt
::
	`»adF›ldP¬tM‘a
(
d©a
,
bËM‘a
->
h—d
,
m
);

156 
	}
}

158 
boŞ
 
	gM‘aD©aSegm’t
::
	$ü—‹OrUpd©e
()

160 
BufãrF¿me
* 
äame
 = 
mªag”
->
	`»que¡PageFÜWr™e
(
this
->
m‘aPageAddr
,
çl£
);

161 
this
->
	`ŒªsTabËM‘aToF¿me
(
äame
);

162 
mªag”
->
	`fšishWr™e
(
äame
);

163 
	}
}

164 
TabËM‘a
* 
	gM‘aD©aSegm’t
::
	$g‘M‘aD©a
(){

165  
bËM‘a
;

166 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/segment/MetaDataSegment.h

1 #iâdeà
METADATASEGMENT_H_INCLUDED


2 
	#METADATASEGMENT_H_INCLUDED


	)

4 
	~"../commÚ.h
"

5 
	~"../bufãr/BufãrMªag”.h
"

6 
	~"DœeùÜySegm’t.h
"

7 
	~"../bË/m‘a.h
"

8 
	~"../bË/TabËUt.h
"

14 şas 
	cM‘aD©aSegm’t


16 
	mpublic
:

17 
M‘aD©aSegm’t
(
BufãrMªag”
* 
mgr
,
DœeùÜySegm’t
* 
dœ
);

18 ~
M‘aD©aSegm’t
();

19 
boŞ
 
ü—‹OrUpd©e
();

20 
TabËM‘a
* 
g‘M‘aD©a
();

21 
d–‘eF›ldLi¡
();

22 
	m´iv©e
:

23 
BufãrMªag”
* 
mªag”
;

24 
DœeùÜySegm’t
* 
	mdœ
;

25 
TabËM‘a
* 
	mbËM‘a
;

26 
Addr
 
	mm‘aPageAddr
;

28 
ŒªsTabËM‘aToF¿me
(
BufãrF¿me
* 
äame
);

29 
ŒªsF¿meToTabËM‘a
(
BufãrF¿me
* 
äame
);

	@/home/huangwentao/WorkSpaces/carrots/dbms/segment/Segment.cpp

1 
	~"Segm’t.h
"

2 
	gSegm’t
::
	$Segm’t
(
BufãrMªag”
* 
mgr
)

4 
this
->
mªag”
=
mgr
;

5 
	}
}

7 
	gSegm’t
::~
	$Segm’t
()

9 
this
->
mªag”
=0;

10 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/segment/Segment.h

1 #iâdeà
SEGMENT_H_INCLUDED


2 
	#SEGMENT_H_INCLUDED


	)

3 
	~"../commÚ.h
"

4 
	~"../bufãr/BufãrMªag”.h
"

6 şas 
	cSegm’tTy³


8 
	mpublic
:

9 cÚ¡ 
By‹
 
Em±ySeg
=0x00;

10 cÚ¡ 
By‹
 
	mDœeùÜySeg
=0x01;

11 cÚ¡ 
By‹
 
	mM‘aD©aSeg
=0x02;

12 cÚ¡ 
By‹
 
	mSti¡icsSeg
=0x03;

13 cÚ¡ 
By‹
 
	mD©aSeg
=0x04;

14 cÚ¡ 
By‹
 
	mBlobSeg
=0x05;

15 cÚ¡ 
By‹
 
	mIndexSeg
=0x06;

16 cÚ¡ 
By‹
 
	mmask
 = 0x0f;

19 şas 
	cPageStus


21 
	mpublic
:

22 cÚ¡ 
By‹
 
Em±yPage
 = 0x00;

23 cÚ¡ 
By‹
 
	mH®fPage
 =0x10;

24 cÚ¡ 
By‹
 
	mFuÎPage
 = 0x20;

25 cÚ¡ 
By‹
 
	mmask
 = 0xf0;

28 şas 
	cSegm’t


30 
	mpublic
:

31 
Segm’t
(
BufãrMªag”
* 
mgr
);

32 ~
Segm’t
();

33 
	m´Ùeùed
:

34 
BufãrMªag”
* 
mªag”
;

35 
BufãrF¿me
* 
	mroÙPage
;

36 
vœtu®
 
š™RoÙPage
()=0;

	@/home/huangwentao/WorkSpaces/carrots/dbms/storage/DBFile.cpp

1 
	~"DBFe.h
"

2 
	~<c¡dlib
>

3 
	~<c¡dio
>

4 #ifdeà
DEBUG


5 
	~<c¡dlib
>

6 
	~<c¡dio
>

8 
boŞ
 
	gDBFe
::
	$İ’
(cÚ¡ * 
dbÇme
,
boŞ
 
»adOÆy
)

10 
umasks
 = 
	`umask
(0);

11 if(!
»adOÆy
)

13 
fd
 = ::
	`İ’
(
dbÇme
,
O_CREAT
|
O_EXCL
,0x700);

15 if(
fd
<0)fd = ::
	`İ’
(
dbÇme
,
»adOÆy
?
O_RDONLY
:
O_RDWR
);

16 if(
fd
<0)

18 
fd
 = 0;

19 #ifdeà
DEBUG


20 
	`´štf
("open file failure");

22  
çl£
;

24 
size
=
	`l£ek
(
fd
,0,
SEEK_END
);

25  
Œue
;

26 
	}
}

28 
	gDBFe
::
	$şo£
()

30 if(
fd
!=0)

32 
	`æush
();

33 ::
	`şo£
(
fd
);

35 
	}
}

37 
	gDBFe
::
	$»ad
(* 
block
,
Addr
 
off£t
,
Ën
)

39 if(
off£t
+
Ën
>=
size
)

41 
to
 = 
off£t
+
Ën
;

42 
th»shŞd
 = 
INCREASE_THRESHOLD
*
PAGE_SIZE
;

43 if(
to
-
size
<
th»shŞd
)

46 if((
to
&(~
PAGE_MASK
))!=to)

48 
to
 = (to&(~
PAGE_MASK
))+
PAGE_SIZE
;

50 
šüem’t
 = 
to
-
size
;

51 
boŞ
 
suc
 = 
this
->
	`growšg
(
šüem’t
);

52 #ifdeà
DEBUG


53 if(!
suc
){

54 
	`´štf
("»ad sizi toØÏrge,‡nd inü—£d faed!‡ddrğ%Îd,†’ = %d inü—m’ˆğ%d\n",
off£t
,
Ën
,
šüem’t
);

60 #ifdeà
DEBUG


61 
	`´štf
("»ad sizi toØÏrge,‡ndƒxûedhšü—£h»shŞd!‡ddrğ%Îd,†’ = %d\n",
off£t
,
Ën
);

67 
	`´—d
(
fd
,
block
,
Ën
,
off£t
);

68 
	}
}

70 
	gDBFe
::
	$wr™e
(* 
block
,
Addr
 
off£t
,
Ën
)

72 if(
off£t
+
Ën
>=
size
)

74 
to
 = 
off£t
+
Ën
;

75 
th»shŞd
 = 
INCREASE_THRESHOLD
*
PAGE_SIZE
;

76 if(
to
-
size
<
th»shŞd
)

79 if((
to
&(~
PAGE_MASK
))!=to)

81 
to
 = (to&(~
PAGE_MASK
))+
PAGE_SIZE
;

83 
šüem’t
 = 
to
-
size
;

84 
boŞ
 
suc
 = 
this
->
	`growšg
(
šüem’t
);

85 #ifdeà
DEBUG


86 if(!
suc
)
	`´štf
("wr™sizi toØÏrge,‡nd inü—£d faed!‡ddrğ%Îd,†’ = %d inü—m’ˆğ%d\n",
off£t
,
Ën
,
šüem’t
);

90 #ifdeà
DEBUG


91 
	`´štf
("wr™sizi toØÏrge,‡ndƒxûedhšü—£h»shŞd!‡ddrğ%Îd,†’ = %d\n",
off£t
,
Ën
);

96 
size_t
 
wt
 = 
	`pwr™e
(
fd
,
block
,
Ën
,
off£t
);

97 #ifdeà
DEBUG


100 
	}
}

101 
boŞ
 
	gDBFe
::
	$æush
()

103  
	`fd©async
(
fd
)==0;

104 
	}
}

105 
boŞ
 
	gDBFe
::
	$growšg
(
šüem’t
)

108 
»s
 = 
	`árunÿ‹
(
fd
,
size
+
šüem’t
);

109 if(
»s
==0)

111 
size
 = size+
šüem’t
;

112  
Œue
;

114  
çl£
;

115 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/storage/DBFile.h

1 #iâdeà
DBFILE_H_INCLUDED


2 
	#DBFILE_H_INCLUDED


	)

3 
	~<uni¡d.h
>

4 
	~<sys/ty³s.h
>

5 
	~<sys/¡©.h
>

6 
	~<fú.h
>

8 
	~"../commÚ.h
"

10 
	#INCREASE_THRESHOLD
 100

	)

16 şas 
	cDBFe


18 
	mpublic
:

19 
boŞ
 
İ’
(cÚ¡ * 
dbÇme
, boŞ 
»adOÆy
);

20 
vœtu®
 
»ad
(* 
block
, 
Addr
 
off£t
, 
Ën
);

22 
vœtu®
 
wr™e
(* 
block
, 
Addr
 
off£t
, 
Ën
);

23 
vœtu®
 
boŞ
 
growšg
(
size
);

24 
vœtu®
 
boŞ
 
æush
();

25 
vœtu®
 
şo£
();

26 
	msize
;

27 
	m´iv©e
:

28 
fd
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/storage/FreeBuffer.cpp

1 
	~"F»eBufãr.h
"

2 
Bufãr
* 
	gF»eBufãr
::
	$®locBufãr
()

4 
Bufãr
* 
»t
 = 0;

5 if(
h—d
)

7 
»t
 = 
h—d
;

8 
h—d
 = h—d->
Ãxt
;

9 
»t
->
Ãxt
 = 0;

10  
»t
;

14  
	`ÃwBufãr
();

16 
	}
}

18 
	gF»eBufãr
::
	$F»eBufãr
()

20 
h—d
 = 0;

21 
	}
}

23 
	gF»eBufãr
::~
	$F»eBufãr
()

25 
h—d
!=0)

27 
Bufãr
* 
tmp
 = 
h—d
->
Ãxt
;

28 
d–‘e
 
h—d
;

29 
h—d
 = 
tmp
;

31 
	}
}

32 
	gF»eBufãr
::
	$ä“Bufãr
(
Bufãr
* 
bufãr
)

34 if(
h—d
=0)

36 
h—d
 = 
bufãr
;

37 
bufãr
->
Ãxt
=0;

40 
bufãr
->
Ãxt
 = 
h—d
;

41 
h—d
 = 
bufãr
;

43 
	}
}

45 
Bufãr
* 
	gF»eBufãr
::
	$ÃwBufãr
()

47 
Bufãr
* 
bufãr
 = 
Ãw
 
	`Bufãr
();

48 
bufãr
->
·ge
 = 0;

49 
bufãr
->
¡©e
 = 0;

50 
bufãr
->
Ãxt
 = 0;

51  
bufãr
;

52 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/storage/FreeBuffer.h

1 #iâdeà
FREEBUFFER_H_INCLUDED


2 
	#FREEBUFFER_H_INCLUDED


	)

3 
	~"../commÚ.h
"

11 
	sBufãr


13 
By‹
 
	md©a
[
PAGE_SIZE
];

14 * 
	m·ge
;

15 
	m¡©e
;

16 
Bufãr
* 
	mÃxt
;

17 } 
	tBufãr
;

19 şas 
	cF»eBufãr


21 
	mpublic
:

22 
F»eBufãr
();

23 
Bufãr
* 
®locBufãr
();

24 
ä“Bufãr
(
Bufãr
* 
bufãr
);

25 ~
F»eBufãr
();

26 
	m´iv©e
:

27 
Bufãr
* 
h—d
;

28 
Bufãr
* 
ÃwBufãr
();

	@/home/huangwentao/WorkSpaces/carrots/dbms/storage/PageUtil.cpp

1 
	~"PageUt.h
"

2 #ifdeà
DEBUG


3 
	~<c¡dio
>

4 
	~<c¡dlib
>

7 
Addr
 
	gPageUt
::
	$budNewPage
(
Page
& 
·ge
)

9 
Addr
 
size
 = 
dbfe
->size;

10 
Addr
 
Œunÿt
ğ
size
&(~
PAGE_MASK
);

11 
Addr
 
·geNo
 = 
	`PAGE_ID
(
Œunÿt
);

12 
By‹
 
buf
[
PAGE_SIZE
];

13 
	`mem£t
(
buf
,0u,
PAGE_SIZE
);

14 
dbfe
->
	`wr™e
(
buf
,
Œunÿt
,
PAGE_SIZE
);

15 
	`budPage
(
·ge
,
·geNo
);

16  
Œunÿt
;

17 
	}
}

18 
	gPageUt
::
	$PageUt
(
DBFe
* 
dbfes
,
F»eBufãr
* 
bufãrs
)

20 
this
->
dbfe
 = 
dbfes
;

21 
this
->
ä“Bufãr
=
bufãrs
;

22 
	}
}

23 
	gPageUt
::~
	$PageUt
()

25 
this
->
dbfe
 = 0;

26 
this
->
ä“Bufãr
= 0;

27 
	}
}

30 
Addr
 
	gPageUt
::
	$®locS·û
(
Page
& 
·ge
,
Ën
)

37 
PageAddr
 
addr
 = 
PAGE_HEAD_LEN
+
PAGE_ALIGN
;

38 
k
 = 0;

39 
fšdk
 = 0;

40 ;
k
<
·ge
.
u£dL’
;k++)

42 
pos
 = 
·ge
.
u£dBy‹Li¡
[
k
].
addr
;

43 
Ëngth
 = 
·ge
.
u£dBy‹Li¡
[
k
].
Ën
;

44 if(
pos
-
addr
>=
Ën
){

45 if(
fšdk
==0){

46 
fšdk
 = 
k
;

51 
addr
 = 
pos
+
Ëngth
;

58 if(
fšdk
!=0)
k
 = findk;

59 if(
k
<
·ge
.
u£dL’
)

61 
	`li¡Move
(
k
,1,
Œue
,
·ge
);

69 
·ge
.
u£dBy‹Li¡
[
k
].
addr
=addr;

70 
·ge
.
u£dBy‹Li¡
[
k
].
Ën
=len;

72 
·ge
.
u£dBy‹
+=
Ën
;

73  
addr
;

74 }if(
PAGE_SIZE
-
addr
>=
Ën
)

76 
·ge
.
u£dBy‹Li¡
[·ge.
u£dL’
].
addr
=addr;

77 
·ge
.
u£dBy‹Li¡
[·ge.
u£dL’
].
Ën
=len;

78 
·ge
.
u£dL’
++;

79 
·ge
.
u£dBy‹
+=
Ën
;

80  
addr
;

83 
	}
}

84 
	$´štU£dBy‹Li¡
(
Page
* 
·ge
)

86 
i
 =0;i<
·ge
->
u£dL’
;i++)

88 
	`´štf
("add¸ğ%Îx†’=%d\n",
·ge
->
u£dBy‹Li¡
[
i
].
addr
,·ge->u£dBy‹Li¡[i].
Ën
);

90 
	}
}

91 
	gPageUt
::
	$li¡Move
(
k
,
off£t
,
boŞ
 
fÜw¬d
,
Page
& 
·ge
)

93 if(
fÜw¬d
)

96 
j
=
·ge
.
u£dL’
-1;j>=
k
;j--)

98 
·ge
.
u£dBy‹Li¡
[
j
+
off£t
].
addr
=page.usedByteList[j].addr;

99 
·ge
.
u£dBy‹Li¡
[
j
+
off£t
].
Ën
=page.usedByteList[j].len;

101 
·ge
.
u£dL’
+=
off£t
;

105 
j
=
k
;j<
·ge
.
u£dL’
-
off£t
;j++)

107 
·ge
.
u£dBy‹Li¡
[
j
].
addr
õage.u£dBy‹Li¡[j+
off£t
].addr;

108 
·ge
.
u£dBy‹Li¡
[
j
].
Ën
õage.u£dBy‹Li¡[j+
off£t
].len;

110 
·ge
.
u£dL’
-=
off£t
;

112 
	}
}

114 
boŞ
 
	gPageUt
::
	$ä“S·û
(
Page
& 
·ge
,
PageAddr
 
addr
,
Ën
)

118 
k
 = 0;

119 
pos
 =0;

120 
Ëngth
 =0;

132 ;
k
<
·ge
.
u£dL’
;k++)

134 
pos
 = 
·ge
.
u£dBy‹Li¡
[
k
].
addr
;

135 
Ëngth
 = 
·ge
.
u£dBy‹Li¡
[
k
].
Ën
;

136 if(
addr
>=
pos
&&pos+
Ëngth
>÷ddr+
Ën
)

141 
boŞ
 
dæag
;

142 if(
k
<
·ge
.
u£dL’
)

144 if(
addr
==
pos
 && 
Ën
<
Ëngth
)

146 
·ge
.
u£dBy‹Li¡
[
k
].
addr
=
pos
+
Ën
;

147 
·ge
.
u£dBy‹Li¡
[
k
].
Ën
 = 
Ëngth
-len;

148 
dæag
 = 
Œue
;

149 }if(
addr
>
pos
&&…os+
Ëngth
=÷ddr+
Ën
)

151 
·ge
.
u£dBy‹Li¡
[
k
].
addr
=
pos
;

152 
·ge
.
u£dBy‹Li¡
[
k
].
Ën
 = 
Ëngth
-len;

153 
dæag
 = 
Œue
;

154 }if(
addr
==
pos
&&…os+
Ëngth
=÷ddr+
Ën
)

156 
	`li¡Move
(
k
,1,
çl£
,
·ge
);

157 
dæag
 = 
Œue
;

158 }if(
addr
>
pos
 &&…os+
Ëngth
>addr+
Ën
)

160 
·ge
.
u£dBy‹Li¡
[
k
].
addr
=
pos
;

161 
·ge
.
u£dBy‹Li¡
[
k
].
Ën
 = 
addr
-
pos
;

162 
	`li¡Move
(
k
+1,1,
Œue
,
·ge
);

163 
·ge
.
u£dBy‹Li¡
[
k
+1].
addr
÷ddr+
Ën
;

164 
·ge
.
u£dBy‹Li¡
[
k
+1].
Ën
 = 
pos
+
Ëngth
-(
addr
+len);

165 
dæag
 = 
Œue
;

168 
·ge
.
u£dBy‹
-=
Ën
;

170  
dæag
;

186  
çl£
;

187 
	}
}

188 
	gPageUt
::
	$budU£dBy‹Li¡
(
By‹
* 
™”
,
Page
& 
·ge
)

190 
Ën
 =0;

191 
boŞ
 
cu¼’tIsU£d
 = 
çl£
;

192 
PageAddr
 
addr
 = 
PAGE_HEAD_LEN
+
PAGE_ALIGN
;

193 
i
=0;i<
PAGE_HEAD_BODY
;i++)

195 
By‹
 
b
 = *(
™”
++);

196 
By‹
 
mask
 = 0x1;

197 
mask
!=0x0)

199 if((
b
&
mask
)!=0)

201 if(!
cu¼’tIsU£d
)

203 
cu¼’tIsU£d
=
Œue
;

204 
·ge
.
u£dBy‹Li¡
[
Ën
].
addr
=addr;

206 
·ge
.
u£dBy‹Li¡
[
Ën
].len++;

209 if(
cu¼’tIsU£d
)

211 
Ën
++;

212 
cu¼’tIsU£d
=
çl£
;

215 
mask
<<=1;

216 
addr
++;

219 
·ge
.
u£dL’
=
Ën
;

220 
	}
}

221 
	gPageUt
::
	$»adPage
(
Addr
 
·geNo
,
Page
& 
·ge
)

223 
dbfe
->
	`»ad
(
·ge
.
d©a
,
·geNo
*
PAGE_SIZE
,PAGE_SIZE);

224 
By‹
* 
™”
 = 
·ge
.
d©a
;

225 
	`memıy
(&
·ge
.
u£dBy‹
,
™”
,(
ushÜt
));

226 
™”
+=(
ushÜt
)/(
By‹
);

227 
	`memıy
(&
·ge
.
æag
,
™”
,(
ushÜt
));

228 
™”
+=(
ushÜt
)/(
By‹
);

229 
	`budU£dBy‹Li¡
(
™”
,
·ge
);

230 
·ge
.
šMem
=
Œue
;

231 
	}
}

232 
	gPageUt
::
	$budPageU£dBy‹M­
(
Page
& 
·ge
)

235 
i
=
PAGE_META_HEAD
;i<
PAGE_HEAD_BODY
;i++)

237 
·ge
.
d©a
[
i
]=0u;

240 
i
=0;i<
·ge
.
u£dL’
;i++)

242 
PageAddr
 
addr
 = 
·ge
.
u£dBy‹Li¡
[
i
].addr;

243 
Ën
 = 
·ge
.
u£dBy‹Li¡
[
i
].len;

244 
PageAddr
 
off£t
 = 
addr
-
PAGE_HEAD_LEN
-
PAGE_ALIGN
;

245 
PageAddr
 
pos
 = 
off£t
/8+
PAGE_USED
+
PAGE_FLAG
;

246 
off£t
 = offset%8;

247 
By‹
 
b
 = 0x1u;

248 
b
<<ğ
off£t
;

249 
j
=0;j<
Ën
;j++)

251 
·ge
.
d©a
[
pos
]|ğ
b
;

252 #ifdeà
DEBUG


255 
b
<<=1;

256 
off£t
++;

257 if(
off£t
==8)

259 
off£t
 = 0;

260 
b
=0x1u;

261 
pos
++;

265 
	}
}

266 
	gPageUt
::
	$wr™ePage
(
Addr
 
·geNo
,
Page
& 
·ge
)

268 #ifdeà
DEBUG


269 
	`´štf
("·geNØğ%Îd wa wr™šg\t",
·geNo
);

271 
By‹
* 
™”
 = 
·ge
.
d©a
;

272 
	`memıy
(
™”
,&
·ge
.
u£dBy‹
,(
ushÜt
));

273 
™”
+=(
ushÜt
);

274 
	`memıy
(
™”
,&
·ge
.
æag
,(
ushÜt
));

275 
™”
+=(
ushÜt
);

276 
	`budPageU£dBy‹M­
(
·ge
);

277 
dbfe
->
	`wr™e
(
·ge
.
d©a
,
·geNo
*
PAGE_SIZE
,PAGE_SIZE);

278 
	}
}

280 
	gPageUt
::
	$budPage
(
Page
& 
·ge
,
Addr
 
·geNo
)

282 
·ge
.
·geNo
 =…ageNo;

283 
Bufãr
* 
bufãr
 = 
ä“Bufãr
->
	`®locBufãr
();

284 
bufãr
->
·ge
=&page;

285 
·ge
.
bufãr
=buffer;

286 
·ge
.
d©a
ğ
bufãr
->data;

287 
·ge
.
u£dBy‹
=0;

288 
·ge
.
u£dL’
=0;

289 
	}
}

291 
	gPageUt
::
	$»Ëa£Page
(
Page
& 
·ge
)

293 
·ge
.
d©a
=0;

294 
·ge
.
bufãr
->page=0;

295 
ä“Bufãr
->
	`ä“Bufãr
(
·ge
.
bufãr
);

296 
·ge
.
bufãr
=0;

297 
·ge
.
šMem
=
çl£
;

298 
	}
}

300 
DBFe
* 
	gPageUt
::
	$g‘Fe
()

302  
this
->
dbfe
;

303 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/storage/PageUtil.h

1 #iâdeà
FILEBUFFER_H_INCLUDED


2 
	#FILEBUFFER_H_INCLUDED


	)

3 
	~<m­
>

4 
	~<queue
>

5 
	~<c¡ršg
>

6 
	~"../commÚ.h
"

7 
	~"DBFe.h
"

8 
	~"F»eBufãr.h
"

16 
	sU£d


18 
PageAddr
 
	maddr
;

19 
ušt
 
	mËn
;

20 }
	tU£d
;

25 
	sPage


27 
Addr
 
	m·geNo
;

28 
Bufãr
* 
	mbufãr
;

29 
By‹
* 
	md©a
;

31 
ushÜt
 
	mu£dBy‹
;

34 
ushÜt
 
	mæag
;

36 
boŞ
 
	mšMem
;

38 
U£d
 
	mu£dBy‹Li¡
[
PAGE_HEAD_BODY
/2];

39 
	mu£dL’
;

40 
	m»adLock
;

41 
boŞ
 
	mwr™eLock
;

43 
ushÜt
 
	mmaxL’
;

44 } 
	tPage
;

56 şas 
	cPageUt


58 
	mpublic
:

59 
PageUt
(
DBFe
* 
dbfe
,
F»eBufãr
* 
bufãr
);

60 ~
PageUt
();

61 
budPage
(
Page
& 
·ge
,
Addr
 
·geNo
=0);

62 
Addr
 
budNewPage
(
Page
& 
·ge
);

63 
»Ëa£Page
(
Page
& 
·ge
);

64 
budU£dBy‹Li¡
(
By‹
* 
™”
,
Page
& 
·ge
);

65 
budPageU£dBy‹M­
(
Page
& 
·ge
);

66 
»adPage
(
Addr
 
·geNo
,
Page
& 
·ge
);

67 
wr™ePage
(
Addr
 
·geNo
,
Page
& 
·ge
);

68 
Addr
 
®locS·û
(
Page
& 
·ge
,
Ën
);

69 
boŞ
 
ä“S·û
(
Page
& 
·ge
,
PageAddr
 
addr
, 
Ën
);

70 
DBFe
* 
g‘Fe
();

71 
	m´iv©e
:

72 
DBFe
* 
dbfe
;

73 
F»eBufãr
* 
	mä“Bufãr
;

74 
li¡Move
(
k
,
off£t
,
boŞ
 
fÜw¬d
,
Page
& 
·ge
);

	@/home/huangwentao/WorkSpaces/carrots/dbms/storage/main1.cpp

1 
	~<c¡dlib
>

2 
	~<c¡dio
>

3 
	~<şim™s
>

4 
	~<io¡»am
>

5 
	~"DBFe.h
"

6 
	~"F»eBufãr.h
"

7 
	~"PageUt.h
"

8 
	~"../ut/Th»ad.h
"

9 
	~"../bufãr/BufãrMªag”.h
"

10 
	~"../bufãr/ClockFIFOSŒ©egy.h
"

11 
	~"../£gm’t/Segm’t.h
"

12 
	~"../£gm’t/DœeùÜySegm’t.h
"

13 
	~"../£gm’t/M‘aD©aSegm’t.h
"

14 
	~"../bË/m‘a.h
"

15 
	~"../£gm’t/D©aSegm’t.h
"

16 
	~"../bË/TabË.h
"

17 
	~"../‹¡/‹¡.h
"

18 
	~"../d©aIÅut/špu‹r.h
"

19 
	~"../ut/D©aUt.h
"

20 
	~"../£gm’t/IndexSegm’t.h
"

21 
	~"../šdex/Index.h
"

22 
	~"../šdex/Prim¬yHashIndex.h
"

23 
	~"../SPJ/SPJ.h
"

24 
	~"../SPJ/ProjeùiÚ.h
"

25 
	~"../SPJ/S–eùiÚ.h
"

26 
	~"../SPJ/Još.h
"

27 
usšg
 
Çme¥aû
 
	g¡d
;

29 
	$flTu¶e
(
Tu¶e
* 
tu¶e
)

31 
suµkey
 = 1;

32 
s_Çme
[]="Supplier#000000001";

33 
s_add»ss
[] = " N kD4on9OM Ipw3,gf0JBoQDd7tgrzrddZ";

34 
s_ÇtiÚkey
 = 17;

35 
s_phÚe
[] = "27-918-335-1736";

36 
s_acùb®
 = 5755.94;

37 
s_comm’t
[] = "each slyly‡bovehe careful";

38 
TabËUt
::
	`wr™eCŞumn
(&
suµkey
,&
tu¶e
->
cŞumn
[0]);

39 
TabËUt
::
	`wr™eCŞumn
(
s_Çme
,&
tu¶e
->
cŞumn
[1]);

40 
TabËUt
::
	`wr™eCŞumn
(
s_add»ss
,&
tu¶e
->
cŞumn
[2]);

41 
TabËUt
::
	`wr™eCŞumn
(&
s_ÇtiÚkey
,&
tu¶e
->
cŞumn
[3]);

42 
TabËUt
::
	`wr™eCŞumn
(
s_phÚe
,&
tu¶e
->
cŞumn
[4]);

43 
TabËUt
::
	`wr™eCŞumn
(&
s_acùb®
,&
tu¶e
->
cŞumn
[5]);

44 
TabËUt
::
	`wr™eCŞumn
(
s_comm’t
,&
tu¶e
->
cŞumn
[6]);

45 
	}
}

46 
	$flM‘aSegm’t
(
TabËM‘a
* 
m‘a
,
M‘aD©aSegm’t
 *
ms
)

49 
m‘a
->
f›ldNum
= 7;

50 
	`¡rıy
(
m‘a
->
Šame
,"SUPPLIER");

51 
m‘a
->
tid
=1;

52 
F›ldP¬t
* 
·¹s
 = 
m‘a
->
h—d
;

53 if(
·¹s
->
f›ldLi¡
!=0)

55 
d–‘e
 
·¹s
->
f›ldLi¡
;

57 
·¹s
->
·¹Num
=7;

58 
·¹s
->
tid
=1;

59 
·¹s
->
f›ldLi¡
 = 
Ãw
 
F›ld
[7];

60 
Ëng
[]={4,25,40,4,15,4,101};

61 
¡y³
[]={
D©aTy³FÏg
::
INTEGER
,D©aTy³FÏg::
CHAR
,D©aTy³FÏg::
VARCHAR
,

62 
D©aTy³FÏg
::
INTEGER
,D©aTy³FÏg::
CHAR
,D©aTy³FÏg::
FLOAT
,D©aTy³FÏg::
VARCHAR


64 
Çme
[7][
MAX_TABLE_NAME_LEN
]={"S_SUPPKEY","S_NAME","S_ADDRESS","S_NATIONKEY","S_PHONE","S_ACCTBAL","S_COMMENT"};

65 
off£t
 = 0;

66 
i
=0;i<7;i++)

68 
·¹s
->
f›ldLi¡
[
i
].
fid
=i;

69 
·¹s
->
f›ldLi¡
[
i
].
d©aTy³
=
¡y³
[i];

70 
·¹s
->
f›ldLi¡
[
i
].
æag
=0;

71 
	`¡rıy
(
·¹s
->
f›ldLi¡
[
i
].
âame
,
Çme
[i]);

73 
·¹s
->
f›ldLi¡
[
i
].
Ën
=
Ëng
[i];

74 
·¹s
->
f›ldLi¡
[
i
].
off£tInTu¶e
=
off£t
;

75 
off£t
 +=
·¹s
->
f›ldLi¡
[
i
].
Ën
;

77 
·¹s
->
Ãxt
=0;

78 if(
ms
!=0)ms->
	`ü—‹OrUpd©e
();

113 
	}
}

114 
	$uÅackage
(
Tu¶e
* 
tu¶e
, 
TabËM‘a
* 
m‘a
)

116 
ccc
[255];

117 
F›ldP¬t
* 
å
 = 
m‘a
->
h—d
;

118 
c¡r
[8092];

119 
i
=0; i<
å
->
·¹Num
; i++)

121 
D©aUt
::
	`cŞ2¡r
(
tu¶e
->
cŞumn
[
i
],
ccc
);

122 
	`´štf
("%s|",
ccc
);

124 
	`´štf
("\n");

125 
	}
}

126 
	$·ckage2
(
Tu¶e
* 
tu¶e
,** 
mp
,
TabËM‘a
* 
m‘a
)

128 
¡ršgs
[8092];

129 
F›ldP¬t
* 
å
 = 
m‘a
->
h—d
;

130 
i
=0;i<
å
->
·¹Num
;i++)

132 
D©aUt
::
	`¡r2cŞ
(
mp
[
i
],
tu¶e
->
cŞumn
[i]);

136 
	}
}

219 
	$»addb
()

221 
s
[] = "data/nation.db";

223 
TabË
* 
bË
 = 
Ãw
 
	`TabË
();

224 
bË
->
	`İ’
(
s
,
çl£
);

225 
TabËM‘a
* 
m‘a
 = 
bË
->
	`g‘TabËM‘a
();

229 
Tu¶e
* 
tu¶e
 = 
bË
->
	`budEm±yTu¶e
();

230 
veùÜ
<
¡ršg
> 
mp
;

231 
	`g‘ch¬
();

232 
bË
->
	`fšdFœ¡Tu¶e
(
tu¶e
);

233 
	`uÅackage
(
tu¶e
,
m‘a
);

234 
tu¶e
->
tu¶eAddr
>0)

236 
Addr
 
Şd
 = 
tu¶e
->
tu¶eAddr
;

237 
bË
->
	`fšdNextTu¶e
(
tu¶e
,tuple);

238 if(
tu¶e
->
tu¶eAddr
==
Şd
)

242 
	`uÅackage
(
tu¶e
,
m‘a
);

251 
	`g‘ch¬
();

252 
Addr
 
addr
ğ
bË
->
	`š£¹Tu¶e
(
tu¶e
);

253 
	`´štf
("\nš£¹‡dd¸%Îx\n",
tu¶e
->
tu¶eAddr
);

254 
bË
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

256 
bË
->
	`şo£
();

257 
d–‘e
 
bË
;

258 
bË
 = 0;

260 
	}
}

262 
	$wr™edb
()

264 
s
[] = "data/supplier.db";

265 
d©a
[] = "benchmark_data/benchmark_data/supplier.tbl";

268 
TabË
* 
bË
 = 
Ãw
 
	`TabË
();

269 
bË
->
	`İ’
(
s
,
çl£
);

270 
TabËM‘a
* 
m‘a
 = 
bË
->
	`g‘TabËM‘a
();

271 
	`flM‘aSegm’t
(
m‘a
,0);

272 
bË
->
	`upd©eTabËM‘a
();

273 
IndexSegm’t
* 
idx£g
 = 
bË
->
	`g‘IndexSegm’t
();

274 
Tu¶e
* 
tu¶e
 = 
bË
->
	`budEm±yTu¶e
();

276 ** 
ms
 = 
Ãw
 *[30];

277 
i
=0;i<30;i++)

279 
ms
[
i
]=
Ãw
 [255];

281 
D©aIÅut
 
k
;

282 
k
.
	`İ’
(
d©a
);

283 
Ën
 = 
k
.
	`fšdNext
(
ms
);

284 
m
 = 0;

285 
	`g‘ch¬
();

286 
út
=0;

287 
Ën
>1)

289 
	`·ckage2
(
tu¶e
,
ms
,
m‘a
);

291 
Addr
 
w
 = 
bË
->
	`š£¹Tu¶e
(
tu¶e
);

294 
Ën
 = 0;

295 
Ën
 = 
k
.
	`fšdNext
(
ms
);

296 
út
++;

297 if(
út
>20) ;

300 
k
.
	`şo£
();

301 
	`´štf
("built‡ bpt‚ow!\n");

302 
	`g‘ch¬
();

304 
	`´štf
("built‡ bpt finish\n!");

305 
	`´štf
("built‡nother bpt‚ow!\n");

307 
	`´štf
("built‡nother bpt finish!\n");

308 
	`g‘ch¬
();

309 
i
=0;i<30;i++)

311 
d–‘e
[] 
ms
[
i
];

313 
d–‘e
[] 
ms
;

318 
bË
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

319 
bË
->
	`şo£
();

320 
d–‘e
 
bË
;

321 
bË
 = 0;

323 
	}
}

325 
	$mašSMR
()

331 
TabË
**
bËLi¡
=
Ãw
 Table*[2];

332 
SPJ
**
¥jLi¡
=
Ãw
 SPJ*[2];

333 
bËLi¡
[0]=
Ãw
 
	`TabË
();

334 
bËLi¡
[1]=
Ãw
 
	`TabË
();

335 
s
[] = "data/supplier.db";

336 
bËLi¡
[0]->
	`İ’
(
s
,
çl£
);

337 
s1
[]="data/nation.db";

338 
bËLi¡
[1]->
	`İ’
(
s1
,
çl£
);

339 
ProjeùiÚ
*
p¥j1
=
Ãw
 
	`ProjeùiÚ
(
O³¿tÜTy³
::
PROJECTION
,
SPJ
::
TABLEINITIAL
);

340 
¡ršg
 
cŞumnName1
[2]={"S_SUPPKEY","S_NATIONKEY"};

341 
p¥j1
->
	`š™ProjeùiÚ
(
bËLi¡
[0],
cŞumnName1
,2);

342 
ProjeùiÚ
*
p¥j2
=
Ãw
 
	`ProjeùiÚ
(
O³¿tÜTy³
::
PROJECTION
,
SPJ
::
TABLEINITIAL
);

343 
¡ršg
 
cŞumnName2
[2]={"N_NATIONKEY","N_NAME"};

344 
p¥j2
->
	`š™ProjeùiÚ
(
bËLi¡
[1],
cŞumnName2
,2);

361 
¥jLi¡
[0]=
p¥j1
;

362 
¥jLi¡
[1]=
p¥j2
;

365 
CÚd™iÚ
 * 
cÚd™iÚ
=
Ãw
 Condition[1];

367 
cÚd™iÚ
[0].
cÚd™iÚTy³
=2;

368 
cÚd™iÚ
[0].
fedName
="S_NATIONKEY";

369 
cÚd™iÚ
[0].
com·»
=
Com·»Ty³
::
LESSEQUAL
;

370 
cÚd™iÚ
[0].
D©aTy³
=
D©aTy³FÏg
::
INTEGER
;

372 
ss
[] = "N_NATIONKEY";

374 
cÚd™iÚ
[0].
v®ue
=
ss
;

375 
cÚd™iÚ
[0].
Ën
=(
ss
);

387 
Još
*
¥j
=
Ãw
 
	`Još
(
O³¿tÜTy³
::
JOIN
,
SPJ
::
TABLEINITIAL
,
JošTy³
::
NESTLOOPJOIN
);

389 
¥j
->
	`š™Još
(
bËLi¡
,2,0,0,0,0);

390 
SPJI‹m
*
™em
=
¥j
->
	`budSPJI‹m
();

391 
¥j
->
	`g‘Fœ¡
(
™em
);

392 
út
=0;

393 
™em
->
u£
!=0){

394 *
¡r
=
Ãw
 [1000];

396 
i
=0;i<
™em
->
f›ldNum
&&™em->
u£
!=0;i++){

397 
D©aUt
::
	`toSŒšg
(
¡r
,
™em
->
d©a
[
i
],™em->
d©aTy³
[i]);

398 
	`´štf
("%s\n",
¡r
);

400 
út
++;

401 
¥j
->
	`g‘Next
(
™em
);

402 
	`´štf
("###################\n");

406 
	`´štf
("ThwhŞsize::%d\n",
út
);

417 
¥j
->
	`»Ëa£SPJI‹m
(
™em
);

418 
¥j
->
	`de¡roy
();

420 
	}
}

421 
	$mašHH2
()

424 
s
[] = "data/nation.db";

425 
s1
[] = "hello!world!";

426 
DBFe
* 
dbfe
 = 
Ãw
 
	`DBFe
();

427 
dbfe
->
	`İ’
(
s
,
çl£
);

428 
F»eBufãr
* 
fb
 = 
Ãw
 
	`F»eBufãr
();

429 
PageUt
* 
ut
 = 
Ãw
 
	`PageUt
(
dbfe
,
fb
);

430 
ClockFIFOSŒ©egy
* 
¡s
 = 
Ãw
 
	`ClockFIFOSŒ©egy
();

431 
BufãrMªag”
* 
mgr
=
Ãw
 
	`BufãrMªag”
(
¡s
,
ut
);

432 
DœeùÜySegm’t
* 
ds
 = 
Ãw
 
	`DœeùÜySegm’t
(
mgr
);

433 
M‘aD©aSegm’t
 *
ms
 = 
Ãw
 
	`M‘aD©aSegm’t
(
mgr
,
ds
);

434 
TabËM‘a
* 
m‘as
 = 
ms
->
	`g‘M‘aD©a
();

436 
D©aSegm’t
* 
d©a£g
 = 
Ãw
 
	`D©aSegm’t
(
mgr
,
ds
,
m‘as
);

437 
Tu¶e
* 
tu¶e
 = 
d©a£g
->
	`budEm±yTu¶e
();

441 
d©a£g
->
	`fšdFœ¡Tu¶e
(
tu¶e
);

443 
s_Çme
[]="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx";

445 
TabËUt
::
	`»adCŞumn
(
s_Çme
, &
tu¶e
->
cŞumn
[1]);

447 
	`´štf
("\nfšd‡dd¸%Îx\n",
tu¶e
->
tu¶eAddr
);

448 
	`´štf
("s_Çm%s\n",
s_Çme
);

449 
d©a£g
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

472 
Addr
 
add
 = 
ds
->
	`®loÿ‹Block
(
Segm’tTy³
::
D©aSeg
,
PageStus
::
Em±yPage
);

475 
Addr
 
·geNo
 = 
	`PAGE_ID
(
add
);

476 
	`´štf
("®loø·gnØ%Îx d =%Îx \n",
·geNo
,
add
);

477 
BufãrF¿me
* 
äame
 = 
mgr
->
	`»que¡PageFÜR—d
(
add
);

478 
mgr
->
	`fšishR—d
(
äame
);

479 
Addr
 
·geAddr
 = 
ds
->
	`fšdF»eS­ûBlock
(
Segm’tTy³
::
D©aSeg
);

480 
	`´štf
("h·gAdd¸w™h fœ¡ f»S·û i %Îd\n",
·geAddr
);

502 
d–‘e
 
d©a£g
;

503 
d–‘e
 
ms
;

504 
d–‘e
 
ds
;

505 
dbfe
->
	`æush
();

506 
d–‘e
 
mgr
;

507 
d–‘e
 
¡s
;

508 
d–‘e
 
ut
;

511 
dbfe
->
	`şo£
();

512 
d–‘e
 
dbfe
;

513 
d–‘e
 
fb
;

514 
	}
}

516 
	$mašHH1
()

518 
	`´štf
("WELCOME TO USE OUR DATABSE: CARROT!!!\n");

539 
F»eBufãr
 
fb
;

540 
Bufãr
* 
b
 = 
fb
.
	`®locBufãr
();

541 
fb
.
	`ä“Bufãr
(
b
);

543 
BufãrF¿me
** 
¬¿y
 = 
Ãw
 BufferFrame*[10];

544 
¡d
::
queue
<
BufãrF¿me
*>* 
que
 = 0;

545 
¡d
::
m­
<
Addr
,
BufãrF¿me
*>* 
·geM­
 = 0;

546 
ClockFIFOSŒ©egy
 
s
;

547 
s
.
	`š™Ÿlize
(
que
, 
·geM­
);

548 
i
=0;i<10;i++)

550 
¬¿y
[
i
]=
Ãw
 
	`BufãrF¿me
();

551 
¬¿y
[
i
]->
·geNo
=i+1;

552 
s
.
	`wh’R—d
(
¬¿y
[
i
]);

554 
s
.
	`wh’R—d
(
¬¿y
[1]);

556 
¡d
::
veùÜ
<
Addr
> 
vec
;

557 
s
.
	`–eùPageToDrİ
(
vec
,10);

558 
s
.
	`wh’R—d
(
¬¿y
[1]);

559 
s
.
	`–eùPageToDrİ
(
vec
,5);

561 
i
=0;i<10;i++)

563 
d–‘e
 
¬¿y
[
i
];

565 
s
.
	`»Ëa£
(
que
,
·geM­
);

566 
d–‘e
[] 
¬¿y
;

570 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/storage/main2.cpp

1 
	~<c¡dlib
>

2 
	~<c¡dio
>

3 
	~<şim™s
>

4 
	~"DBFe.h
"

5 
	~"F»eBufãr.h
"

6 
	~"PageUt.h
"

7 
	~"../ut/Th»ad.h
"

8 
	~"../bufãr/BufãrMªag”.h
"

9 
	~"../bufãr/ClockFIFOSŒ©egy.h
"

10 
	~"../£gm’t/Segm’t.h
"

11 
	~"../£gm’t/DœeùÜySegm’t.h
"

12 
	~"../£gm’t/M‘aD©aSegm’t.h
"

13 
	~"../bË/m‘a.h
"

14 
	~"../£gm’t/D©aSegm’t.h
"

15 
	~"../bË/TabË.h
"

16 
	~"../‹¡/‹¡.h
"

17 
	~"../d©aIÅut/špu‹r.h
"

18 
	~"../ut/D©aUt.h
"

19 
	~"../£gm’t/IndexSegm’t.h
"

20 
	~"../šdex/Index.h
"

21 
	~"../šdex/BPT»e.h
"

23 
	$flM‘aSegm’t2
(
TabËM‘a
* 
m‘a
,
M‘aD©aSegm’t
 *
ms
)

25 
m‘a
->
f›ldNum
= 16;

26 
	`¡rıy
(
m‘a
->
Šame
,"LINEITEM");

27 
m‘a
->
tid
=1;

28 
F›ldP¬t
* 
·¹s
 = 
m‘a
->
h—d
;

29 if(
·¹s
->
f›ldLi¡
!=0)

31 
d–‘e
 
·¹s
->
f›ldLi¡
;

33 
·¹s
->
·¹Num
=16;

34 
·¹s
->
tid
=1;

35 
·¹s
->
f›ldLi¡
 = 
Ãw
 
F›ld
[16];

36 
Ëng
[]={4,4,4,4,4,4,4,4,4,16,16,16,28,12,44};

37 
¡y³
[]={
D©aTy³FÏg
::
INTEGER
,DataTypeFlag::INTEGER,DataTypeFlag::INTEGER,DataTypeFlag::INTEGER,

38 
D©aTy³FÏg
::
FLOAT
,DataTypeFlag::FLOAT,DataTypeFlag::FLOAT,DataTypeFlag::FLOAT,

39 
D©aTy³FÏg
::
CHAR
,DataTypeFlag::CHAR,DataTypeFlag::CHAR,DataTypeFlag::CHAR,DataTypeFlag::CHAR,

40 
D©aTy³FÏg
::
CHAR
,D©aTy³FÏg::CHAR,D©aTy³FÏg::
VARCHAR


42 
Çme
[16][
MAX_TABLE_NAME_LEN
]={"L_ORDERKEY","L_PARTKEY","L_SUPPKEY","L_LINENUMBER",

47 
off£t
 = 0;

48 
i
=0;i<16;i++)

50 
·¹s
->
f›ldLi¡
[
i
].
fid
=i;

51 
·¹s
->
f›ldLi¡
[
i
].
d©aTy³
=
¡y³
[i];

52 
·¹s
->
f›ldLi¡
[
i
].
æag
=0;

53 
	`¡rıy
(
·¹s
->
f›ldLi¡
[
i
].
âame
,
Çme
[i]);

55 
·¹s
->
f›ldLi¡
[
i
].
Ën
=
Ëng
[i];

56 
·¹s
->
f›ldLi¡
[
i
].
off£tInTu¶e
=
off£t
;

57 
off£t
 +=
·¹s
->
f›ldLi¡
[
i
].
Ën
;

59 
·¹s
->
Ãxt
=0;

60 if(
ms
!=0)ms->
	`ü—‹OrUpd©e
();

61 
	}
}

63 
	$uÅackage2
(
Tu¶e
* 
tu¶e
,
TabËM‘a
* 
m‘a
)

65 
ccc
[255];

66 
F›ldP¬t
* 
å
 = 
m‘a
->
h—d
;

67 
c¡r
[8092];

68 
i
=0;i<
å
->
·¹Num
;i++)

70 
D©aUt
::
	`cŞ2¡r
(
tu¶e
->
cŞumn
[
i
],
ccc
);

71 
	`´štf
("%s|",
ccc
);

73 
	`´štf
("\n");

74 
	}
}

75 
	$·ckage22
(
Tu¶e
* 
tu¶e
,** 
mp
,
TabËM‘a
* 
m‘a
)

77 
¡ršgs
[8092];

78 
F›ldP¬t
* 
å
 = 
m‘a
->
h—d
;

79 
i
=0;i<
å
->
·¹Num
;i++)

81 
D©aUt
::
	`¡r2cŞ
(
mp
[
i
],
tu¶e
->
cŞumn
[i]);

85 
	}
}

86 
	$wr™edb2
(* 
s
,* 
d©a
)

90 
TabË
* 
bË
 = 
Ãw
 
	`TabË
();

91 
bË
->
	`İ’
(
s
,
çl£
);

92 
TabËM‘a
* 
m‘a
 = 
bË
->
	`g‘TabËM‘a
();

93 
	`flM‘aSegm’t2
(
m‘a
,0);

94 
bË
->
	`upd©eTabËM‘a
();

95 
IndexSegm’t
* 
idx£g
 = 
bË
->
	`g‘IndexSegm’t
();

96 
Tu¶e
* 
tu¶e
 = 
bË
->
	`budEm±yTu¶e
();

98 ** 
ms
 = 
Ãw
 *[30];

99 
i
=0;i<30;i++)

101 
ms
[
i
]=
Ãw
 [255];

103 
D©aIÅut
 
k
;

104 
k
.
	`İ’
(
d©a
);

105 
Ën
 = 
k
.
	`fšdNext
(
ms
);

106 
m
 = 0;

107 
	`g‘ch¬
();

108 
Ën
>1)

110 
	`·ckage22
(
tu¶e
,
ms
,
m‘a
);

112 
Addr
 
w
 = 
bË
->
	`š£¹Tu¶e
(
tu¶e
);

113 
m
++;

114 if(
m
%100000==0)
	`´štf
("m=%d\n",m);

116 
Ën
 = 0;

117 
Ën
 = 
k
.
	`fšdNext
(
ms
);

120 
k
.
	`şo£
();

121 
	`´štf
("built‡ bpt‚ow!");

122 
	`g‘ch¬
();

123 
idx£g
->
	`ü—‹Index
(0,
IndexTy³
::
b±idx
);

124 
	`´štf
("built‡ bpt finish!");

125 
	`´štf
("built‡nother bpt‚ow!");

126 
idx£g
->
	`ü—‹Index
(5,
IndexTy³
::
b±idx
);

127 
	`´štf
("built‡nother bpt finish!");

128 
	`g‘ch¬
();

129 
i
=0;i<30;i++)

131 
d–‘e
[] 
ms
[
i
];

133 
d–‘e
[] 
ms
;

137 
	`´štf
("\nš£¹‡dd¸%Îx\n",
tu¶e
->
tu¶eAddr
);

138 
bË
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

139 
bË
->
	`şo£
();

140 
d–‘e
 
bË
;

141 
bË
 = 0;

144 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/table/MemoryTable.cpp

	@/home/huangwentao/WorkSpaces/carrots/dbms/table/MemoryTalbe.h

1 
	~"m‘a.h
"

2 şas 
	cMemÜyTabË
{

3 
By‹
 
	mFedNum
;

4 
D©aTy³
* 
	mf›ldTy³
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/table/Table.cpp

1 
	~"TabË.h
"

2 
	~<c¡dio
>

3 
	~<c¡dlib
>

4 
	gTabË
::
	$TabË
(){

5 
¡¿‹gy
=0;

6 
dœ£g
 = 0;

7 
m‘a£g
=0;

8 
d©a£g
=0;

9 
š™
=
çl£
;

10 
	}
}

12 
BufãrSŒ©egy
* 
	gTabË
::
	$g‘SŒ©egy
(){

13  
this
->
¡¿‹gy
;

14 
	}
}

23 
	gTabË
::
	$£tSŒ©egy
(
SŒ©egyInBufãr
 
_¡¿‹gy
){

24 if(
š™
)

26 #ifdeà
DEBUG


27 
	`´štf
("the strategy is‡lready‡pplied!‡ndhis setting is invalid.");

31 if(
this
->
¡¿‹gy
!=0)

33 
d–‘e
 
this
->
¡¿‹gy
;

34 
this
->
¡¿‹gy
 =0;

36 if(
_¡¿‹gy
==
FIFO
)

38 
¡¿‹gy
=
Ãw
 
	`FIFOSŒ©egy
();

39 }if(
_¡¿‹gy
==
ClOCK
)

41 
¡¿‹gy
 = 
Ãw
 
	`ClockFIFOSŒ©egy
();

45 #ifdeà
DEBUG


46 
	`´štf
("the strategy is‚ot implemented yet!.");

49 
	}
}

51 
boŞ
 
	gTabË
::
	$İ’
(* 
Çme
,
boŞ
 
»adÚly
){

52 if(
š™
)

54 #ifdeà
DEBUG


55 
	`´štf
("heable is‡lready open!");

57  
çl£
;

59 
this
->
dbfe
 = 
Ãw
 
	`DBFe
();

60 
dbfe
->
	`İ’
(
Çme
,
»adÚly
);

61 
this
->
fb
 = 
Ãw
 
	`F»eBufãr
();

62 
this
->
ut
 = 
Ãw
 
	`PageUt
(
dbfe
,
fb
);

63 if(
this
->
¡¿‹gy
==0éhis->¡¿‹gy = 
Ãw
 
	`ClockFIFOSŒ©egy
();

64 
this
->
mgr
 = 
Ãw
 
	`BufãrMªag”
(
¡¿‹gy
,
ut
);

65 
this
->
dœ£g
 = 
Ãw
 
	`DœeùÜySegm’t
(
mgr
);

66 
this
->
m‘a£g
 = 
Ãw
 
	`M‘aD©aSegm’t
(
mgr
,
dœ£g
);

67 
this
->
m‘a
 = 
m‘a£g
->
	`g‘M‘aD©a
();

68 
this
->
d©a£g
 = 
Ãw
 
	`D©aSegm’t
(
mgr
,
dœ£g
,
m‘a
);

73 
this
->
šdex£g
 = 0;

74 
š™
 = 
Œue
;

75 
	}
}

77 
boŞ
 
	gTabË
::
	$isIn™
(){

78  
š™
;

79 
	}
}

81 
TabËM‘a
* 
	gTabË
::
	$g‘TabËM‘a
(){

82  
m‘a
;

83 
	}
}

85 
	gTabË
::
	$upd©eTabËM‘a
(){

86 
m‘a£g
->
	`ü—‹OrUpd©e
();

87 
d–‘e
 
d©a£g
;

88 
this
->
d©a£g
 = 
Ãw
 
	`D©aSegm’t
(
mgr
,
dœ£g
,
m‘a
);

89 
	}
}

90 
IndexSegm’t
* 
	gTabË
::
	$g‘IndexSegm’t
()

92 if(
this
->
šdex£g
==0)

94 
this
->
šdex£g
 = 
Ãw
 
	`IndexSegm’t
Ñhis->
mgr
,this->
dœ£g
,this->
d©a£g
,this->
m‘a£g
);

96  
this
->
šdex£g
;

97 
	}
}

98 
D©aSegm’t
*
	gTabË
::
	$g‘D©aSegm’t
(){

99  
this
->
d©a£g
;

100 
	}
}

101 
Tu¶e
* 
	gTabË
::
	$budEm±yTu¶e
(){

102  
d©a£g
->
	`budEm±yTu¶e
();

103 
	}
}

104 
	gTabË
::
	$fšdTu¶eAtPos™iÚ
(
Tu¶e
* 
tu¶e
,
Addr
 
addr
)

106 
d©a£g
->
	`fšdTu¶eAtPos™iÚ
(
tu¶e
,
addr
);

107 
	}
}

108 
	gTabË
::
	$»Ëa£Em±yTu¶e
(
Tu¶e
*& 
tu¶e
){

109 
d©a£g
->
	`»Ëa£Em±yTu¶e
(
tu¶e
);

110 
	}
}

112 
	gTabË
::
	$fšdFœ¡Tu¶e
(
Tu¶e
* 
tu¶e
){

113 
d©a£g
->
	`fšdFœ¡Tu¶e
(
tu¶e
);

114 
	}
}

116 
	gTabË
::
	$fšdNextTu¶e
(
Tu¶e
* 
tu¶e
,Tu¶e* 
tu¶e2
){

117 
d©a£g
->
	`fšdNextTu¶e
(
tu¶e
,
tu¶e2
);

118 
	}
}

120 
Addr
 
	gTabË
::
	$š£¹Tu¶e
(
Tu¶e
* 
tu¶e
){

121  
d©a£g
->
	`š£¹Tu¶e
(
tu¶e
);

122 
	}
}

124 
boŞ
 
	gTabË
::
	$d–‘eTu¶e
(
Tu¶e
* 
tu¶e
){

125  
d©a£g
->
	`d–‘eTu¶e
(
tu¶e
);

126 
	}
}

127 
Addr
 
	gTabË
::
	$æushTu¶e
(
Tu¶e
* 
tu¶e
)

129  
d©a£g
->
	`æushTu¶e
(
tu¶e
);

130 
	}
}

131 
	gTabË
::
	$şo£
(){

132 if(
šdex£g
!=0)

134 
d–‘e
 
this
->
šdex£g
;

135 
this
->
šdex£g
 = 0;

137 if(
d©a£g
!=0)

139 
d–‘e
 
this
->
d©a£g
;

140 
this
->
d©a£g
=0;

142 if(
m‘a£g
!=0)

144 
d–‘e
 
this
->
m‘a£g
;

145 
this
->
m‘a£g
 = 0;

147 if(
dœ£g
!=0)

149 
d–‘e
 
this
->
dœ£g
;

150 
this
->
dœ£g
 = 0;

152 if(
dbfe
!=0)dbfe->
	`æush
();

153 if(
this
->
mgr
!=0){
d–‘e
his->mgr;this->mgr=0;}

154 if(
this
->
¡¿‹gy
!=0){
d–‘e
his->strategy;strategy=0;}

155 if(
this
->
ut
!=0){
d–‘e
his->util;util = 0;}

156 if(
dbfe
!=0)

157 { 
dbfe
->
	`şo£
();

158 
d–‘e
 
dbfe
;

159 
this
->
dbfe
 = 0;

161 if(
fb
!=0)

162 {
d–‘e
 
this
->
fb
;

163 
fb
 = 0;

165 
š™
 = 
çl£
;

166 
	}
}

168 
	gTabË
::~
	$TabË
(){

169 if(
š™
)
this
->
	`şo£
();

170 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/table/Table.h

1 #iâdeà
TABLE_H_INCLUDED


2 
	#TABLE_H_INCLUDED


	)

3 
	~"../commÚ.h
"

4 
	~"../bufãr/BufãrMªag”.h
"

5 
	~"../bufãr/ClockFIFOSŒ©egy.h
"

6 
	~"../£gm’t/Segm’t.h
"

7 
	~"../£gm’t/DœeùÜySegm’t.h
"

8 
	~"../£gm’t/M‘aD©aSegm’t.h
"

9 
	~"../£gm’t/D©aSegm’t.h
"

10 
	~"../£gm’t/IndexSegm’t.h
"

12 şas 
	cTabË


14 
	mpublic
:

15 
TabË
();

16 
BufãrSŒ©egy
* 
g‘SŒ©egy
();

25 
£tSŒ©egy
(
SŒ©egyInBufãr
 
s
);

26 
boŞ
 
İ’
(* 
Çme
,boŞ 
»adÚly
);

27 
boŞ
 
isIn™
();

28 
TabËM‘a
* 
g‘TabËM‘a
();

29 
upd©eTabËM‘a
();

30 
Tu¶e
* 
budEm±yTu¶e
();

31 
IndexSegm’t
* 
g‘IndexSegm’t
();

32 
D©aSegm’t
*
g‘D©aSegm’t
();

33 
»Ëa£Em±yTu¶e
(
Tu¶e
*& 
tu¶e
);

34 
fšdFœ¡Tu¶e
(
Tu¶e
* 
tu¶e
);

35 
fšdTu¶eAtPos™iÚ
(
Tu¶e
* 
tu¶e
,
Addr
 
addr
);

36 
fšdNextTu¶e
(
Tu¶e
* 
tu¶e
,Tu¶e* 
tu¶e2
);

37 
Addr
 
š£¹Tu¶e
(
Tu¶e
* 
tu¶e
);

38 
boŞ
 
d–‘eTu¶e
(
Tu¶e
* 
tu¶e
);

39 
şo£
();

40 
Addr
 
æushTu¶e
(
Tu¶e
 *
tu¶e
);

41 ~
TabË
();

42 
	m´iv©e
:

43 
BufãrSŒ©egy
* 
¡¿‹gy
;

44 
DœeùÜySegm’t
* 
	mdœ£g
;

45 
M‘aD©aSegm’t
* 
	mm‘a£g
;

46 
D©aSegm’t
* 
	md©a£g
;

47 
IndexSegm’t
* 
	mšdex£g
;

48 
BufãrMªag”
* 
	mmgr
;

49 
PageUt
* 
	mut
;

50 
DBFe
* 
	mdbfe
;

51 
F»eBufãr
* 
	mfb
;

52 
TabËM‘a
* 
	mm‘a
;

53 
boŞ
 
	mš™
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/table/TableUtil.cpp

1 
	~"TabËUt.h
"

2 
	~<c¡dlib
>

3 
	~<c¡dio
>

7 
	gTabËUt
::
	$»adF›ldM‘a
(
By‹
* 
d©a
,
F›ld
* 
f›ld
,
maxOff£t
)

9 
By‹
* 
Şd
 = 
d©a
;

10 if(
maxOff£t
<
FIELD_META_LEN
) 0;

11 
By‹
 
magic
 = *
d©a
;

12 if(
magic
!=
FIELD_MAGIC
)

14 
	`´štf
("»ad…¬ˆ”rÜ! magiø%x",
magic
);

17 
d©a
++;

18 
By‹
 
fid
 = *
d©a
++;

19 
By‹
 
æag
 = *
d©a
++;

20 
By‹
 
d©aTy³
 = *
d©a
++;

21 
Çme
[
MAX_TABLE_NAME_LEN
];

22 
	`memıy
(
Çme
,
d©a
,
MAX_TABLE_NAME_LEN
);

24 
Ën
 = 0;

25 
d©a
 +ğ
MAX_TABLE_NAME_LEN
;

26 
	`memıy
(&
Ën
,
d©a
,());

27 
d©a
 += ();

28 
f›ld
->
fid
=fid;

29 
f›ld
->
æag
 = flag;

30 
f›ld
->
d©aTy³
 = dataType;

31 
	`memıy
(
f›ld
->
âame
,
Çme
,
MAX_TABLE_NAME_LEN
);

32 
f›ld
->
Ën
=len;

33  
d©a
-
Şd
;

34 
	}
}

35 
	gTabËUt
::
	$wr™eF›ldM‘a
(
By‹
* 
d©a
,
F›ld
* 
f›ld
, 
maxOff£t
)

37 if(
maxOff£t
<
FIELD_META_LEN
) 0;

38 
By‹
* 
Şd
 = 
d©a
;

39 
pos
 =0;

40 
d©a
[
pos
++]=
FIELD_MAGIC
;

41 
d©a
[
pos
++]=
f›ld
->
fid
;

42 
d©a
[
pos
++]=
f›ld
->
æag
;

43 
d©a
[
pos
++]=
f›ld
->
d©aTy³
;

44 
d©a
+=
pos
;

45 
	`memıy
(
d©a
,
f›ld
->
âame
,
MAX_TABLE_NAME_LEN
);

46 
d©a
+=
MAX_TABLE_NAME_LEN
;

47 
	`memıy
(
d©a
,&
f›ld
->
Ën
,());

48 
d©a
+=();

49  
d©a
-
Şd
;

50 
	}
}

51 
	gTabËUt
::
	$»adF›ldP¬tM‘a
(
By‹
* 
d©a
,
F›ldP¬t
* 
·¹
,
maxOff£t
)

53 
By‹
* 
Şd
 = 
d©a
;

54 
By‹
 
magic
 = *
d©a
++;

55 if(
magic
!=
FIELD_PART_MAGIC
)

57 
	`´štf
("»ad…¬ˆ”rÜ! magiø%x",
magic
);

60 
By‹
 
f›ldOff£t
 = *
d©a
++;

61 
By‹
 
·¹Num
 = *
d©a
++;

62 
By‹
 
tid
 = *
d©a
++;

63 
Addr
 
ÃxtAddr
 = 0;

64 
	`memıy
(&
ÃxtAddr
,
d©a
,8);

65 
d©a
+=8;

66 
m
 = 
maxOff£t
-12;

67 
·¹
->
f›ldOff£t
 = fieldOffset;

68 
·¹
->
·¹Num
 =…artNum;

69 
·¹
->
tid
=tid;

70 
·¹
->
ÃxtP¬tAddr
=
ÃxtAddr
;

71 
·¹
->
f›ldLi¡
 = 
Ãw
 
F›ld
[
·¹Num
];

72 
i
=0;i<
·¹Num
;i++)

74 
w
 = 
	`»adF›ldM‘a
(
d©a
,&
·¹
->
f›ldLi¡
[
i
],
m
);

75 
m
-=
w
;

76 
d©a
+=
w
;

77 if(
w
==0)

79 
	`´štf
("F›ld M‘¨»ad faed! cu¼’ˆoff£ˆ%d\n",
d©a
-
Şd
);

82  
d©a
-
Şd
;

83 
	}
}

87 
	gTabËUt
::
	$wœ‹F›ldP¬tM‘a
(
By‹
* 
d©a
,
F›ldP¬t
* 
·¹
,
maxOff£t
)

89 
By‹
* 
Şd
 = 
d©a
;

90 
maxim®Off£t
 = 
·¹
->
·¹Num
*
FIELD_META_LEN
+12;

91 if(
maxOff£t
<
maxim®Off£t
) 0;

92 
pos
 = 0;

93 
d©a
[
pos
++]=
FIELD_PART_MAGIC
;

94 
d©a
[
pos
++]=
·¹
->
f›ldOff£t
;

95 
d©a
[
pos
++]=
·¹
->
·¹Num
;

96 
d©a
[
pos
++]=
·¹
->
tid
;

97 
d©a
+=
pos
;

98 
	`memıy
(
d©a
,&
·¹
->
ÃxtP¬tAddr
,8);

99 
d©a
+=8;

100 
ma
ğ
maxOff£t
-12;

101 
i
=0;i<
·¹
->
·¹Num
;i++)

103 
w
 = 
	`wr™eF›ldM‘a
(
d©a
,&
·¹
->
f›ldLi¡
[
i
],
ma
);

104 
ma
-ğ
w
;

105 
d©a
+=
w
;

106 if(
w
==0)

108 
	`´štf
("F›ld M‘¨wr™çed! cu¼’ˆoff£ˆ%d\n",
d©a
-
Şd
);

111  
d©a
-
Şd
;

112 
	}
}

114 
	gTabËUt
::
	$»adTu¶e
(
By‹
* 
d©a
,
Tu¶e
* 
tu¶e
,
TabËM‘a
* 
m‘a
)

116 
By‹
* 
Şd
 = 
d©a
;

117 
By‹
 
magic
 = *
d©a
++;

118 if(
magic
!=
TUPLE_MAGIC
)

120 
	`´štf
("u¶magiø”rÜ! iˆi nÙ‡u¶e!u¶off£ˆ%x\n",
tu¶e
->
off£t
);

123 
tu¶e
->
tid
 = *
d©a
++;

124 
	`memıy
(&
tu¶e
->
off£t
,
d©a
,(
PageAddr
));

125 
d©a
+=(
PageAddr
);

126 
	`memıy
(&
tu¶e
->
timeSmp
,
d©a
,8);

127 
d©a
+=8;

128 
k
 =0;k<
m‘a
->
f›ldNum
;k++)

130 
CŞumn
* 
c
 = &
tu¶e
->
cŞumn
[
k
];

131 
	`memıy
(
c
->
d©a
,d©a,c->
f›ld
->
Ën
);

132 
d©a
+=
c
->
f›ld
->
Ën
;

134  
d©a
-
Şd
;

135 
	}
}

136 
	gTabËUt
::
	$wr™eTu¶e
(
By‹
* 
d©a
,
Tu¶e
* 
tu¶e
,
TabËM‘a
* 
m‘a
)

138 
By‹
* 
Şd
 = 
d©a
;

139 
pos
 = 0;

140 
d©a
[
pos
++]ğ
TUPLE_MAGIC
;

141 
d©a
[
pos
++]=
tu¶e
->
tid
;

142 
d©a
+=
pos
;

143 
	`memıy
(
d©a
,&
tu¶e
->
off£t
,(
PageAddr
));

144 
d©a
+=(
PageAddr
);

145 
	`memıy
(
d©a
,&
tu¶e
->
timeSmp
,8);

146 
d©a
+=8;

148 
k
 =0 ;k<
m‘a
->
f›ldNum
;k++)

150 
CŞumn
* 
c
 = &
tu¶e
->
cŞumn
[
k
];

151 
	`memıy
(
d©a
,
c
->d©a,c->
f›ld
->
Ën
);

152 
d©a
+=
c
->
f›ld
->
Ën
;

154  
d©a
-
Şd
;

155 
	}
}

156 
	gTabËUt
::
	$»adCŞumn
(* 
rg‘
,
CŞumn
* 
cŞumn
)

158 
dt
 = 
cŞumn
->
f›ld
->
d©aTy³
;

160 
	`memıy
(
rg‘
,
cŞumn
->
d©a
,cŞumn->
f›ld
->
Ën
);

176 
	}
}

177 
	gTabËUt
::
	$wr™eCŞumn
(* 
rg‘
,
CŞumn
* 
cŞumn
)

179 
dt
 = 
cŞumn
->
f›ld
->
d©aTy³
;

181 
	`memıy
(
cŞumn
->
d©a
,
rg‘
,cŞumn->
f›ld
->
Ën
);

197 
	}
}

198 
	gTabËUt
::
	$e¡im©eTu¶eSize
(
TabËM‘a
* 
m‘a
)

200 
off£t
 = 
TUPLE_HEAD_LEN
;

201 
F›ldP¬t
* 
·¹
 = 
m‘a
->
h—d
;

202 
·¹
!=0)

204 
k
=0;k<
·¹
->
·¹Num
;k++)

206 
F›ld
* 
fd
 = &
·¹
->
f›ldLi¡
[
k
];

207 
off£t
 +ğ
fd
->
Ën
;

209 
·¹
 =…¬t->
Ãxt
;

211  
off£t
;

212 
	}
}

213 
Tu¶e
* 
	gTabËUt
::
	$budTu¶e
(
TabËM‘a
* 
m‘a
)

215 
Tu¶e
* 
t
 = 
Ãw
 
	`Tu¶e
();

216 
t
->
m‘a
 = meta;

217 
t
->
tid
 = 
m‘a
->tid;

218 
t
->
timeSmp
 = 0;

219 
t
->
off£t
 = 0;

220 
t
->
tu¶eAddr
 =0;

221 
t
->
cŞumn
 = 
Ãw
 
CŞumn
[
m‘a
->
f›ldNum
];

222 
pos
 = 0;

223 
F›ldP¬t
* 
·¹
 = 
m‘a
->
h—d
;

224 
·¹
!=0)

226 
k
=0;k<
·¹
->
·¹Num
;k++)

228 
CŞumn
* 
cŞ
 = &
t
->
cŞumn
[
pos
];

229 
cŞ
->
f›ld
=&
·¹
->
f›ldLi¡
[
k
];

230 
cŞ
->
d©a
 = 
Ãw
 
By‹
[cŞ->
f›ld
->
Ën
];

231 
pos
++;

233 
·¹
 =…¬t->
Ãxt
;

235  
t
;

236 
	}
}

237 
	gTabËUt
::
	$»Ëa£Tu¶e
(
Tu¶e
*& 
tu¶e
,
TabËM‘a
* 
m‘a
)

239 
k
=0;k<
m‘a
->
f›ldNum
;k++)

241 if(
tu¶e
->
cŞumn
[
k
].
d©a
!=0)

243 
d–‘e
 
tu¶e
->
cŞumn
[
k
].
d©a
;

244 
tu¶e
->
cŞumn
[
k
].
d©a
 = 0;

247 
d–‘e
[] 
tu¶e
->
cŞumn
;

248 
tu¶e
->
cŞumn
 = 0;

249 
d–‘e
 
tu¶e
;

250 
tu¶e
 = 0;

251 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/table/TableUtil.h

1 #iâdeà
TABLEUTIL_H_INCLUDED


2 
	#TABLEUTIL_H_INCLUDED


	)

4 
	~<c¡ršg
>

6 
	~"../commÚ.h
"

7 
	~"m‘a.h
"

8 
	~"../¡Üage/PageUt.h
"

15 şas 
	cTabËUt


17 
	mpublic
:

18 
»adF›ldM‘a
(
By‹
* 
d©a
,
F›ld
* 
f›ld
,
maxOff£t
);

19 
wr™eF›ldM‘a
(
By‹
* 
d©a
,
F›ld
* 
f›ld
, 
maxOff£t
);

20 
»adF›ldP¬tM‘a
(
By‹
* 
d©a
,
F›ldP¬t
* 
f›ldP¬t
,
maxOff£t
);

21 
wœ‹F›ldP¬tM‘a
(
By‹
* 
d©a
,
F›ldP¬t
* 
f›ldP¬t
,
maxOff£t
);

22 
»adTu¶e
(
By‹
* 
d©a
,
Tu¶e
* 
tu¶e
,
TabËM‘a
* 
m‘a
);

23 
wr™eTu¶e
(
By‹
* 
d©a
,
Tu¶e
* 
tu¶e
,
TabËM‘a
* 
m‘a
);

24 
»adCŞumn
(* 
rg‘
,
CŞumn
* 
cŞumn
);

25 
wr™eCŞumn
(* 
rg‘
,
CŞumn
* 
cŞumn
);

32 
e¡im©eTu¶eSize
(
TabËM‘a
* 
m‘a
);

33 
Tu¶e
* 
budTu¶e
(
TabËM‘a
* 
m‘a
);

34 
»Ëa£Tu¶e
(
Tu¶e
*& 
tu¶e
,
TabËM‘a
* 
m‘a
);

	@/home/huangwentao/WorkSpaces/carrots/dbms/table/meta.h

1 #iâdeà
META_H_INCLUDED


2 
	#META_H_INCLUDED


	)

3 
	~"../commÚ.h
"

4 
	#MAX_TABLE_NAME_LEN
 64

	)

5 
	#MAX_DATA_FORMAT
 64

	)

6 
	#MAX_VARCHAR_LEN
 255

	)

7 
	#TUPLE_MAGIC
 0x57

	)

8 
	#FIELD_MAGIC
 0x58

	)

9 
	#TABLE_MAGIC
 0x59

	)

10 
	#FIELD_PART_MAGIC
 0x60

	)

11 
	#FIELD_META_LEN
 (
MAX_TABLE_NAME_LEN
+8)

	)

12 
	#TUPLE_HEAD_LEN
 12

	)

13 şas 
	cD©aTy³FÏg


15 
	mpublic
:

16 cÚ¡ 
By‹
 
CHAR
=0x01;

17 cÚ¡ 
By‹
 
	mVARCHAR
 = 0x02;

18 cÚ¡ 
By‹
 
	mINTEGER
 = 0x03;

19 cÚ¡ 
By‹
 
	mLONG
 = 0x04;

20 cÚ¡ 
By‹
 
	mFLOAT
 = 0x05;

21 cÚ¡ 
By‹
 
	mDOUBLE
 = 0x06;

22 cÚ¡ 
By‹
 
	mDATE
 = 0x7;

25 şas 
	cCÚ¡¿št


27 
	mpublic
:

28 cÚ¡ 
By‹
 
´im¬yKey
 = 0x01;

29 cÚ¡ 
By‹
 
	munique
 = 0x02;

30 cÚ¡ 
By‹
 
	misAdd™iÚ
 = 0x04;

34 
	sF›ld


37 
By‹
 
	mfid
;

38 
By‹
 
	mæag
;

39 
By‹
 
	md©aTy³
;

40 
	mâame
[
MAX_TABLE_NAME_LEN
];

41 
	mËn
;

42 
	md©eFÜm©
[
MAX_DATA_FORMAT
];

44 
	moff£tInTu¶e
;

45 }
	tF›ld
;

47 
	sF›ldP¬t


51 
By‹
 
	mf›ldOff£t
;

52 
By‹
 
	m·¹Num
;

53 
By‹
 
	mtid
;

54 
Addr
 
	mÃxtP¬tAddr
;

55 
F›ld
* 
	mf›ldLi¡
;

56 
F›ldP¬t
* 
	mÃxt
;

57 } 
	tF›ldP¬t
;

59 
	sTabËM‘a


62 
By‹
 
	mtid
;

63 
By‹
 
	mf›ldNum
;

64 
By‹
 
	mblockNum
;

65 
	mŠame
[
MAX_TABLE_NAME_LEN
];

66 
F›ldP¬t
* 
	mh—d
;

67 
Addr
 
	m·geNo
;

68 }
	tTabËM‘a
;

71 şas 
	cDTy³


73 
	mpublic
:

74 
	$DTy³
(
By‹
 
dt
,
Ën
):
	`d©aTy³
(dt),
	$Ëngth
(
Ën
){};

75 
By‹
 
	$g‘D©aTy³
(){ 
d©aTy³
;
	}
}

76 
	$g‘L’gth
(){ 
Ëngth
;
	}
}

77 
	g´iv©e
:

78 
By‹
 
d©aTy³
;

79 
	gËngth
;

82 
Çme¥aû
 
	gD©aTy³


84 cÚ¡ 
DTy³
 
CHAR
(
D©aTy³FÏg
::CHAR,4);

85 cÚ¡ 
DTy³
 
VARCAHR
(
D©aTy³FÏg
::
VARCHAR
,
MAX_VARCHAR_LEN
);

86 cÚ¡ 
DTy³
 
INTEGER
(
D©aTy³FÏg
::INTEGER,4);

87 cÚ¡ 
DTy³
 
LONG
(
D©aTy³FÏg
::LONG,8);

88 cÚ¡ 
DTy³
 
FLOAT
(
D©aTy³FÏg
::FLOAT,4);

89 cÚ¡ 
DTy³
 
DOUBLE
(
D©aTy³FÏg
::DOUBLE,8);

90 cÚ¡ 
DTy³
 
D©e
(
D©aTy³FÏg
::
DATE
,8);

94 
By‹
 
	$g‘Ty³L’gth
(
By‹
 
d©aTy³FÏg
)

96 
d©aTy³FÏg
)

98 
D©aTy³FÏg
::
CHAR
:

101 
D©aTy³FÏg
::
DATE
:

104 
D©aTy³FÏg
::
DOUBLE
:

107 
D©aTy³FÏg
::
FLOAT
:

110 
D©aTy³FÏg
::
INTEGER
:

113 
D©aTy³FÏg
::
LONG
:

116 
D©aTy³FÏg
::
VARCHAR
:

120 
	}
}

122 
	sCŞumn


125 
F›ld
* 
	mf›ld
;

126 
By‹
* 
	md©a
;

127 }
	tCŞumn
;

129 
	sTu¶e


132 
By‹
 
	mtid
;

133 
PageAddr
 
	moff£t
;

134 
	mtimeSmp
;

135 
CŞumn
* 
	mcŞumn
;

137 
TabËM‘a
* 
	mm‘a
;

138 
Addr
 
	mtu¶eAddr
;

139 }
	tTu¶e
;

	@/home/huangwentao/WorkSpaces/carrots/dbms/test/dataLoad.cpp

1 
	~"‹¡.h
"

2 
	~<io¡»am
>

3 
	~<¡ršg
>

4 
	~<f¡»am
>

5 
	~<s¡»am
>

6 
	~<veùÜ
>

10 
	gTe¡
::
	$İ’
(* 
f’ame
){

11 
fe
=
Ãw
 
	`if¡»am
(
f’ame
);

13 
	}
}

15 
	gveùÜ
<
	g¡ršg
>
	gTe¡
::
fšdNext
(
veùÜ
<
¡ršg
>& 
mp
){

17 
¡ršg
 
lše
;

18 if(*
	gfe
){

19 if(
g‘lše
((*
fe
),
lše
)){

20 
	g¡¬os
=0;

22 
	gi
=0;i<
	glše
.
Ëngth
();i++){

23 if(
	glše
[
i
]=='|'){

24 
mp
.
push_back
(
lše
.
sub¡r
(
¡¬os
,
i
-1));

25 
	g¡¬os
=
i
+1;

29 
	gmp
.
push_back
(
lše
.
sub¡r
(
¡¬os
,lše.
Ëngth
()-1));

32  
	gmp
;

35 
	gTe¡
::
	$şo£
(){

37 (*
fe
).
	`şo£
();

38 
d–‘e
 
fe
;

39 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/test/test.h

1 #iâdeà
TEST_H_INCLUDED


2 
	#TEST_H_INCLUDED


	)

4 
	~<¡ršg
>

5 
	~<veùÜ
>

6 
	~<f¡»am
>

18 
usšg
 
Çme¥aû
 
	g¡d
;

20 şas 
	cTe¡


22 
	m´iv©e
:

23 
if¡»am
 *
fe
;

24 
	mpublic
:

25 
İ’
(* 
f’ame
);

26 
	mveùÜ
<
	m¡ršg
> 
fšdNext
(
veùÜ
<
¡ršg
>& 
mp
);

27 
şo£
();

	@/home/huangwentao/WorkSpaces/carrots/dbms/util/DataUtil.cpp

1 
	~"D©aUt.h
"

2 
	~"../bË/m‘a.h
"

3 
	~<c¡dlib
>

4 
	~<c¡dio
>

5 
	gD©aUt
::
	$·r£FromSŒšg
(* 
d©a
,* 
¡r
,
By‹
 
d©aTy³FÏg
,
Ën
)

7 * 
a1
 = 0;

8 * 
a2
 = 0;

9 * 
a3
 = 0;

10 * 
a4
 = 0;

11 
d©aTy³FÏg
)

13 
D©aTy³FÏg
::
DOUBLE
:

14 
a1
 = 
»š‹½»t_ÿ¡
<*>(
d©a
);

15 *
a1
 = 
	`©of
(
¡r
);

17 
D©aTy³FÏg
::
FLOAT
:

18 
a2
 = 
»š‹½»t_ÿ¡
<*>(
d©a
);

19 *
a2
 = 
	`©of
(
¡r
);

21 
D©aTy³FÏg
::
INTEGER
:

22 
a3
 = 
»š‹½»t_ÿ¡
<*>(
d©a
);

23 *
a3
 = 
	`©oi
(
¡r
);

25 
D©aTy³FÏg
::
LONG
:

26 
a4
 = 
»š‹½»t_ÿ¡
<*>(
d©a
);

27 *
a4
 = 
	`©Şl
(
¡r
);

29 
D©aTy³FÏg
::
CHAR
:

30 
	`memıy
(
d©a
,
¡r
,
Ën
);

32 
D©aTy³FÏg
::
VARCHAR
:

33 
	`memıy
(
d©a
,
¡r
,
Ën
);

35 
D©aTy³FÏg
::
DATE
:;

37 
	}
}

38 
	gD©aUt
::
	$toSŒšg
(* 
¡r
,* 
d©a
,
By‹
 
d©aTy³FÏg
)

40 
af
 = 0.0;

41 
ad
 = 0.0;

42 
ai
 = 0.0;

43 
®
 = 0l;

44 
d©aTy³FÏg
)

46 
D©aTy³FÏg
::
DOUBLE
:

47 
	`memıy
(&
ad
,
d©a
,
	`g‘Ty³L’gth
(
d©aTy³FÏg
));

48 
	`¥rštf
(
¡r
,"%Îf",
d©a
);

50 
D©aTy³FÏg
::
FLOAT
:

51 
	`memıy
(&
af
,
d©a
,
	`g‘Ty³L’gth
(
d©aTy³FÏg
));

52 
	`¥rštf
(
¡r
,"%f",
af
);

54 
D©aTy³FÏg
::
INTEGER
:

55 
	`memıy
(&
ai
,
d©a
,
	`g‘Ty³L’gth
(
d©aTy³FÏg
));

56 
	`¥rštf
(
¡r
,"%d",
ai
);

58 
D©aTy³FÏg
::
LONG
:

59 
	`memıy
(&
®
,
d©a
,
	`g‘Ty³L’gth
(
d©aTy³FÏg
));

60 
	`¥rštf
(
¡r
,"%Îd",
®
);

62 
D©aTy³FÏg
::
CHAR
:

63 
	`¥rštf
(
¡r
,"%s",
d©a
);

65 
D©aTy³FÏg
::
VARCHAR
:

66 
	`¥rštf
(
¡r
,"%s",
d©a
);

68 
D©aTy³FÏg
::
DATE
:;

70 
	}
}

71 
	gD©aUt
::
	$¡r2cŞ
(* 
¡r
,
CŞumn
& 
cŞ
)

73 
	`·r£FromSŒšg
(
cŞ
.
d©a
,
¡r
,cŞ.
f›ld
->
d©aTy³
,cŞ.f›ld->
Ën
);

74 
	}
}

75 
	gD©aUt
::
	$cŞ2¡r
(
CŞumn
& 
cŞ
,* 
¡r
)

77 
	`toSŒšg
(
¡r
,
cŞ
.
d©a
,cŞ.
f›ld
->
d©aTy³
);

78 
	}
}

79 
	gD©aUt
::
	$cŞ2d©a
(
CŞumn
& 
cŞumn
,* 
rg‘
)

81 
TabËUt
::
	`»adCŞumn
(
rg‘
,&
cŞumn
);

82 
	}
}

83 
	gD©aUt
::
	$d©a2cŞ
(* 
d©
,
CŞumn
& 
cŞumn
)

85 
TabËUt
::
	`wr™eCŞumn
(
d©
,&
cŞumn
);

86 
	}
}

88 
	gD©aUt
::
	$cmpD©a
(
By‹
* 
d©a1
,By‹* 
d©a2
,
d©aTy³
,
d©aL’
)

90 if(
d©aL’
==0)d©aL’=
	`g‘Ty³L’gth
(
d©aTy³
);

91 
ad1
 = 0,
ad2
 = 0;

92 
af1
 = 0,
af2
=0;

93 
ai1
=0,
ai2
=0;

94 
®1
=0,
®2
=0;

95 
ac1
[255],
ac2
[255];

96 if(
d©aL’
>255)dataLen=255;

97 
d©aTy³
)

99 
D©aTy³FÏg
::
DOUBLE
:

100 
	`memıy
(&
ad1
,
d©a1
,
d©aL’
);

101 
	`memıy
(&
ad2
,
d©a2
,
d©aL’
);

102 if(
ad1
==
ad2
) 0;

103  (
ad1
-
ad2
)>0.0?1:-1;

105 
D©aTy³FÏg
::
FLOAT
:

106 
	`memıy
(&
af1
,
d©a1
,
d©aL’
);

107 
	`memıy
(&
af2
,
d©a2
,
d©aL’
);

109 if(
af1
==
af2
) 0;

110  (
af1
-
af2
)>0.0?1:-1;

112 
D©aTy³FÏg
::
INTEGER
:

113 
	`memıy
(&
ai1
,
d©a1
,
d©aL’
);

114 
	`memıy
(&
ai2
,
d©a2
,
d©aL’
);

115 if(
ai1
==
ai2
) 0;

117  (
ai1
-
ai2
)>0?1:-1;

119 
D©aTy³FÏg
::
LONG
:

120 
	`memıy
(&
®1
,
d©a1
,
d©aL’
);

121 
	`memıy
(&
®2
,
d©a2
,
d©aL’
);

122 if(
®1
==
®2
) 0;

123  (
®1
-
®2
)>0?1:-1;

125 
D©aTy³FÏg
::
DATE
:

128 
D©aTy³FÏg
::
CHAR
:

129 
D©aTy³FÏg
::
VARCHAR
:

130 
	`memıy
(
ac1
,
d©a1
,
d©aL’
);

131 
	`memıy
(
ac2
,
d©a2
,
d©aL’
);

132  
	`¡rcmp
(
ac1
,
ac2
);

135 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/util/DataUtil.h

1 #iâdeà
DATAUTIL_H_INCLUDED


2 
	#DATAUTIL_H_INCLUDED


	)

3 
	~<¡dlib.h
>

4 
	~<c¡dio
>

5 
	~"../commÚ.h
"

6 
	~"../bË/m‘a.h
"

7 
	~"../bË/TabËUt.h
"

10 şas 
	cD©aUt


12 
	mpublic
:

13 
·r£FromSŒšg
(* 
d©a
, * 
¡r
, 
By‹
 
d©aTy³FÏg
, 
Ën
);

14 
toSŒšg
Ğ* 
¡r
, * 
d©a
, 
By‹
 
d©aTy³FÏg
);

15 
¡r2cŞ
(* 
¡r
, 
CŞumn
& 
cŞ
);

16 
cŞ2¡r
(
CŞumn
& 
cŞ
, * 
¡r
);

17 
cŞ2d©a
(
CŞumn
& 
cŞumn
, * 
rg‘
);

18 
d©a2cŞ
(* 
d©
, 
CŞumn
& 
cŞumn
);

19 
cmpD©a
(
By‹
* 
d©a1
, By‹* 
d©a2
, 
d©aTy³
, 
d©aL’
=0);

	@/home/huangwentao/WorkSpaces/carrots/dbms/util/Thread.cpp

1 
	~"Th»ad.h
"

3 
Çme¥aû
 
	g¡d
 {}

5 
usšg
 
Çme¥aû
 
	g¡d
;

7 
±h»ad_t
 
	gTh»ad
::
	$¡¬t
((*
¡¬‹r
)(*),* 
¬g
,
boŞ
 
boo¡
)

11 ià(
boo¡
)

12 
¬g
=arg;

15 
±h»ad_t
 
tid
=0;

16 
±h»ad_©Œ_t
 
·‰rs
;

17 
	`±h»ad_©Œ_š™
(&
·‰rs
);

19 #iâdeà
__lšux__


20 
	`±h»ad_©Œ_£tscİe
(&
·‰rs
,
PTHREAD_SCOPE_SYSTEM
);

22 
»suÉ
=
	`±h»ad_ü—‹
(&
tid
,
NULL
,
»š‹½»t_ÿ¡
<*(*)(*)>(
¡¬‹r
),
¬g
);

23 
	`±h»ad_©Œ_de¡roy
(&
·‰rs
);

24 ià(
»suÉ
!=0)

25  
çl£
;

26 
	`±h»ad_d‘ach
(
tid
);

28  
Œue
;

29 
	}
}

31 
ušt64_t
 
	gTh»ad
::
	$guessPhysiÿlAvaabË
()

35 
·geCouÁ
=
	`syscÚf
(
_SC_PHYS_PAGES
);

36 
·geSize
=
	`syscÚf
(
_SC_PAGESIZE
);

38  (
·geCouÁ
*
·geSize
)>>2;

39 
	}
}

41 
	gTh»ad
::
	$¦“p
(
time
)

44 ià(!
time
) {

45 
	`sched_y›ld
();

47 
time¥ec
 
a
,
b
;

48 
a
.
tv_£c
=
time
/1000;‡.
tv_n£c
=(time%1000)*1000000;

49 
	`Çno¦“p
(&
a
,&
b
);

51 
	}
}

53 
	gTh»ad
::
	$th»adID
()

56 uniÚ { 
±h»ad_t
 
a
; 
b
; } 
c
;

57 
c
.
b
=0;

58 
c
.
a
=
	`±h»ad_£lf
();

59  
c
.
b
;

60 
	}
}

62 
	gTh»ad
::
	$y›ld
()

65 
	`sched_y›ld
();

66 
	}
}

68 
ušt64_t
 
	gTh»ad
::
	$g‘Ticks
()

72 
timev®
 
t
;

73 
	`g‘timeofday
(&
t
,0);

74  
¡©ic_ÿ¡
<
ušt64_t
>(
t
.
tv_£c
)*1000+Ñ.
tv_u£c
/1000);

75 
	}
}

	@/home/huangwentao/WorkSpaces/carrots/dbms/util/Thread.h

1 #iâdeà
THREAD_H_INCLUDED


2 
	#THREAD_H_INCLUDED


	)

3 
	~<¡dšt.h
>

4 
	~<uni¡d.h
>

5 
	~<time.h
>

6 
	~<±h»ad.h
>

7 
	~<sys/time.h
>

8 şas 
	cTh»ad


10 
	mpublic
:

12 
±h»ad_t
 
¡¬t
((*
¡¬‹r
)(*),* 
¬g
,
boŞ
 
boo¡
=
çl£
);

14 
ušt64_t
 
	`guessPhysiÿlAvaabË
();

16 
	`¦“p
(
time
);

18 
	`th»adID
();

20 
	`y›ld
();

22 
ušt64_t
 
	`g‘Ticks
();

	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/dirent.h

22 #iâdef 
_DIRENT_H


23 
	#_DIRENT_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ifdeà
__USE_XOPEN


32 #iâdeà
__šo_t_defšed


33 #iâdeà
__USE_FILE_OFFSET64


34 
__šo_t
 
	tšo_t
;

36 
__šo64_t
 
	tšo_t
;

38 
	#__šo_t_defšed


	)

40 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


41 
__šo64_t
 
	tšo64_t
;

42 
	#__šo64_t_defšed


	)

61 
	~<b™s/dœ’t.h
>

63 #ià
defšed
 
__USE_MISC
 && !defšed 
d_f’o


64 
	#d_šo
 
d_f’o


	)

81 #ifdeà
_DIRENT_HAVE_D_NAMLEN


82 
	#_D_EXACT_NAMLEN
(
d
è((d)->
d_ÇmËn
)

	)

83 
	#_D_ALLOC_NAMLEN
(
d
è(
	`_D_EXACT_NAMLEN
 (dè+ 1)

	)

85 
	#_D_EXACT_NAMLEN
(
d
è(
	`¡¾’
 ((d)->
d_Çme
))

	)

86 #ifdeà
_DIRENT_HAVE_D_RECLEN


87 
	#_D_ALLOC_NAMLEN
(
d
è(((*è(dè+ (d)->
d_»ş’
è- &(d)->
d_Çme
[0])

	)

89 
	#_D_ALLOC_NAMLEN
(
d
è( (d)->
d_Çme
 > 1 ?  (d)->d_name : \

90 
	`_D_EXACT_NAMLEN
 (
d
è+ 1)

	)

95 #ifdeà
__USE_MISC


99 
	mDT_UNKNOWN
 = 0,

100 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

101 
	mDT_FIFO
 = 1,

102 
	#DT_FIFO
 
DT_FIFO


	)

103 
	mDT_CHR
 = 2,

104 
	#DT_CHR
 
DT_CHR


	)

105 
	mDT_DIR
 = 4,

106 
	#DT_DIR
 
DT_DIR


	)

107 
	mDT_BLK
 = 6,

108 
	#DT_BLK
 
DT_BLK


	)

109 
	mDT_REG
 = 8,

110 
	#DT_REG
 
DT_REG


	)

111 
	mDT_LNK
 = 10,

112 
	#DT_LNK
 
DT_LNK


	)

113 
	mDT_SOCK
 = 12,

114 
	#DT_SOCK
 
DT_SOCK


	)

115 
	mDT_WHT
 = 14

116 
	#DT_WHT
 
DT_WHT


	)

120 
	#IFTODT
(
mode
è(((modeè& 0170000è>> 12)

	)

121 
	#DTTOIF
(
dœty³
è((dœty³è<< 12)

	)

127 
__dœ¡»am
 
	tDIR
;

134 
DIR
 *
	$İ’dœ
 (cÚ¡ *
__Çme
è
	`__nÚnuÎ
 ((1));

136 #ifdeà
__USE_XOPEN2K8


141 
DIR
 *
	`fdİ’dœ
 (
__fd
);

149 
	$şo£dœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

161 #iâdeà
__USE_FILE_OFFSET64


162 
dœ’t
 *
	$»addœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

164 #ifdeà
__REDIRECT


165 
dœ’t
 *
	`__REDIRECT
 (
»addœ
, (
DIR
 *
__dœp
), 
»addœ64
)

166 
	`__nÚnuÎ
 ((1));

168 
	#»addœ
 
»addœ64


	)

172 #ifdeà
__USE_LARGEFILE64


173 
dœ’t64
 *
	$»addœ64
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

176 #ifdeà
__USE_POSIX


182 #iâdeà
__USE_FILE_OFFSET64


183 
	$»addœ_r
 (
DIR
 *
__»¡riù
 
__dœp
,

184 
dœ’t
 *
__»¡riù
 
__’Œy
,

185 
dœ’t
 **
__»¡riù
 
__»suÉ
)

186 
	`__nÚnuÎ
 ((1, 2, 3));

188 #ifdeà
__REDIRECT


189 
	`__REDIRECT
 (
»addœ_r
,

190 (
DIR
 *
__»¡riù
 
__dœp
,

191 
dœ’t
 *
__»¡riù
 
__’Œy
,

192 
dœ’t
 **
__»¡riù
 
__»suÉ
),

193 
»addœ64_r
è
	`__nÚnuÎ
 ((1, 2, 3));

195 
	#»addœ_r
 
»addœ64_r


	)

199 #ifdeà
__USE_LARGEFILE64


200 
	$»addœ64_r
 (
DIR
 *
__»¡riù
 
__dœp
,

201 
dœ’t64
 *
__»¡riù
 
__’Œy
,

202 
dœ’t64
 **
__»¡riù
 
__»suÉ
)

203 
	`__nÚnuÎ
 ((1, 2, 3));

208 
	$»wšddœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

210 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


211 
	~<b™s/ty³s.h
>

214 
	$£ekdœ
 (
DIR
 *
__dœp
, 
__pos
è
__THROW
 
	`__nÚnuÎ
 ((1));

217 
	$‹Îdœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

220 #ifdeà
__USE_XOPEN2K8


223 
	$dœfd
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

225 #ià
defšed
 
__OPTIMIZE__
 && defšed 
_DIR_dœfd


226 
	#dœfd
(
dœp
è
	`_DIR_dœfd
 (dœp)

	)

229 #ifdeà
__USE_MISC


230 #iâdeà
MAXNAMLEN


232 
	~<b™s/posix1_lim.h
>

235 #ifdeà
NAME_MAX


236 
	#MAXNAMLEN
 
NAME_MAX


	)

238 
	#MAXNAMLEN
 255

	)

243 
	#__Ãed_size_t


	)

244 
	~<¡ddef.h
>

253 #iâdeà
__USE_FILE_OFFSET64


254 
	$sÿndœ
 (cÚ¡ *
__»¡riù
 
__dœ
,

255 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

256 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

257 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

258 cÚ¡ 
dœ’t
 **))

259 
	`__nÚnuÎ
 ((1, 2));

261 #ifdeà
__REDIRECT


262 
	`__REDIRECT
 (
sÿndœ
,

263 (cÚ¡ *
__»¡riù
 
__dœ
,

264 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

265 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

266 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

267 cÚ¡ 
dœ’t
 **)),

268 
sÿndœ64
è
	`__nÚnuÎ
 ((1, 2));

270 
	#sÿndœ
 
sÿndœ64


	)

274 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


277 
	$sÿndœ64
 (cÚ¡ *
__»¡riù
 
__dœ
,

278 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

279 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

280 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

281 cÚ¡ 
dœ’t64
 **))

282 
	`__nÚnuÎ
 ((1, 2));

285 #ifdeà
__USE_GNU


291 #iâdeà
__USE_FILE_OFFSET64


292 
	$sÿndœ©
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

293 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

294 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

295 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

296 cÚ¡ 
dœ’t
 **))

297 
	`__nÚnuÎ
 ((2, 3));

299 #ifdeà
__REDIRECT


300 
	`__REDIRECT
 (
sÿndœ©
,

301 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

302 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

303 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

304 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

305 cÚ¡ 
dœ’t
 **)),

306 
sÿndœ©64
è
	`__nÚnuÎ
 ((2, 3));

308 
	#sÿndœ©
 
sÿndœ©64


	)

314 
	$sÿndœ©64
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

315 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

316 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

317 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

318 cÚ¡ 
dœ’t64
 **))

319 
	`__nÚnuÎ
 ((2, 3));

323 #iâdeà
__USE_FILE_OFFSET64


324 
	$®phasÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

325 cÚ¡ 
dœ’t
 **
__e2
)

326 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

328 #ifdeà
__REDIRECT


329 
	`__REDIRECT_NTH
 (
®phasÜt
,

330 (cÚ¡ 
dœ’t
 **
__e1
,

331 cÚ¡ 
dœ’t
 **
__e2
),

332 
®phasÜt64
è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

334 
	#®phasÜt
 
®phasÜt64


	)

338 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


339 
	$®phasÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

340 cÚ¡ 
dœ’t64
 **
__e2
)

341 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

346 #ifdeà
__USE_MISC


351 #iâdeà
__USE_FILE_OFFSET64


352 
__ssize_t
 
	$g‘dœ’Œ›s
 (
__fd
, *
__»¡riù
 
__buf
,

353 
size_t
 
__nby‹s
,

354 
__off_t
 *
__»¡riù
 
__ba£p
)

355 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

357 #ifdeà
__REDIRECT


358 
__ssize_t
 
	`__REDIRECT_NTH
 (
g‘dœ’Œ›s
,

359 (
__fd
, *
__»¡riù
 
__buf
,

360 
size_t
 
__nby‹s
,

361 
__off64_t
 *
__»¡riù
 
__ba£p
),

362 
g‘dœ’Œ›s64
è
	`__nÚnuÎ
 ((2, 4));

364 
	#g‘dœ’Œ›s
 
g‘dœ’Œ›s64


	)

368 #ifdeà
__USE_LARGEFILE64


369 
__ssize_t
 
	$g‘dœ’Œ›s64
 (
__fd
, *
__»¡riù
 
__buf
,

370 
size_t
 
__nby‹s
,

371 
__off64_t
 *
__»¡riù
 
__ba£p
)

372 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

376 #ifdeà
__USE_GNU


378 #iâdeà
__USE_FILE_OFFSET64


379 
	$v”siÚsÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

380 cÚ¡ 
dœ’t
 **
__e2
)

381 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

383 #ifdeà
__REDIRECT


384 
	`__REDIRECT_NTH
 (
v”siÚsÜt
,

385 (cÚ¡ 
dœ’t
 **
__e1
,

386 cÚ¡ 
dœ’t
 **
__e2
),

387 
v”siÚsÜt64
)

388 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

390 
	#v”siÚsÜt
 
v”siÚsÜt64


	)

394 #ifdeà
__USE_LARGEFILE64


395 
	$v”siÚsÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

396 cÚ¡ 
dœ’t64
 **
__e2
)

397 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

401 
__END_DECLS


	@/usr/include/errno.h

22 #iâdef 
_ERRNO_H


26 #iâdef 
__Ãed_Em©h


27 
	#_ERRNO_H
 1

	)

28 
	~<ã©u»s.h
>

31 
	g__BEGIN_DECLS


35 
	~<b™s/”ºo.h
>

36 #undeà
__Ãed_Em©h


38 #ifdef 
_ERRNO_H


45 #iâdef 
”ºo


46 
”ºo
;

49 #ifdeà
__USE_GNU


54 *
´og¿m_švoÿtiÚ_Çme
, *
´og¿m_švoÿtiÚ_shÜt_Çme
;

58 
	g__END_DECLS


66 #ià
defšed
 
__USE_GNU
 || defšed 
__Ãed_”rÜ_t


67 #iâdeà
__”rÜ_t_defšed


68 
	t”rÜ_t
;

69 
	#__”rÜ_t_defšed
 1

	)

71 #undeà
__Ãed_”rÜ_t


	@/usr/include/fcntl.h

22 #iâdef 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	~<b™s/ty³s.h
>

35 
	~<b™s/fú.h
>

39 #ifdeà
__O_TMPFILE


40 
	#__OPEN_NEEDS_MODE
(
oæag
) \

41 (((
oæag
è& 
O_CREAT
è!ğ0 || ((oæagè& 
__O_TMPFILE
è=ğ__O_TMPFILE)

	)

43 
	#__OPEN_NEEDS_MODE
(
oæag
è(((oæagè& 
O_CREAT
è!ğ0)

	)

49 #iâdeà
__mode_t_defšed


50 
__mode_t
 
	tmode_t
;

51 
	#__mode_t_defšed


	)

54 #iâdeà
__off_t_defšed


55 #iâdeà
__USE_FILE_OFFSET64


56 
__off_t
 
	toff_t
;

58 
__off64_t
 
	toff_t
;

60 
	#__off_t_defšed


	)

63 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


64 
__off64_t
 
	toff64_t
;

65 
	#__off64_t_defšed


	)

68 #iâdeà
__pid_t_defšed


69 
__pid_t
 
	tpid_t
;

70 
	#__pid_t_defšed


	)

74 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


75 
	#__Ãed_time¥ec


	)

76 
	~<time.h
>

77 
	~<b™s/¡©.h
>

79 
	#S_IFMT
 
__S_IFMT


	)

80 
	#S_IFDIR
 
__S_IFDIR


	)

81 
	#S_IFCHR
 
__S_IFCHR


	)

82 
	#S_IFBLK
 
__S_IFBLK


	)

83 
	#S_IFREG
 
__S_IFREG


	)

84 #ifdeà
__S_IFIFO


85 
	#S_IFIFO
 
__S_IFIFO


	)

87 #ifdeà
__S_IFLNK


88 
	#S_IFLNK
 
__S_IFLNK


	)

90 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
è&& defšed 
__S_IFSOCK


91 
	#S_IFSOCK
 
__S_IFSOCK


	)

96 
	#S_ISUID
 
__S_ISUID


	)

97 
	#S_ISGID
 
__S_ISGID


	)

99 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


101 
	#S_ISVTX
 
__S_ISVTX


	)

104 
	#S_IRUSR
 
__S_IREAD


	)

105 
	#S_IWUSR
 
__S_IWRITE


	)

106 
	#S_IXUSR
 
__S_IEXEC


	)

108 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

110 
	#S_IRGRP
 (
S_IRUSR
 >> 3è

	)

111 
	#S_IWGRP
 (
S_IWUSR
 >> 3è

	)

112 
	#S_IXGRP
 (
S_IXUSR
 >> 3è

	)

114 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

116 
	#S_IROTH
 (
S_IRGRP
 >> 3è

	)

117 
	#S_IWOTH
 (
S_IWGRP
 >> 3è

	)

118 
	#S_IXOTH
 (
S_IXGRP
 >> 3è

	)

120 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

123 #ifdef 
__USE_MISC


124 #iâdeà
R_OK


127 
	#R_OK
 4

	)

128 
	#W_OK
 2

	)

129 
	#X_OK
 1

	)

130 
	#F_OK
 0

	)

135 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


136 
	#SEEK_SET
 0

	)

137 
	#SEEK_CUR
 1

	)

138 
	#SEEK_END
 2

	)

146 
fú
 (
__fd
, 
__cmd
, ...);

155 #iâdeà
__USE_FILE_OFFSET64


156 
	$İ’
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

158 #ifdeà
__REDIRECT


159 
	`__REDIRECT
 (
İ’
, (cÚ¡ *
__fe
, 
__oæag
, ...), 
İ’64
)

160 
	`__nÚnuÎ
 ((1));

162 
	#İ’
 
İ’64


	)

165 #ifdeà
__USE_LARGEFILE64


166 
	$İ’64
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

169 #ifdeà
__USE_ATFILE


179 #iâdeà
__USE_FILE_OFFSET64


180 
	$İ’©
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

181 
	`__nÚnuÎ
 ((2));

183 #ifdeà
__REDIRECT


184 
	`__REDIRECT
 (
İ’©
, (
__fd
, cÚ¡ *
__fe
, 
__oæag
,

185 ...), 
İ’©64
è
	`__nÚnuÎ
 ((2));

187 
	#İ’©
 
İ’©64


	)

190 #ifdeà
__USE_LARGEFILE64


191 
	$İ’©64
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

192 
	`__nÚnuÎ
 ((2));

201 #iâdeà
__USE_FILE_OFFSET64


202 
	$ü—t
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

204 #ifdeà
__REDIRECT


205 
	`__REDIRECT
 (
ü—t
, (cÚ¡ *
__fe
, 
mode_t
 
__mode
),

206 
ü—t64
è
	`__nÚnuÎ
 ((1));

208 
	#ü—t
 
ü—t64


	)

211 #ifdeà
__USE_LARGEFILE64


212 
	$ü—t64
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

215 #ià!
defšed
 
F_LOCK
 && (defšed 
__USE_MISC
 || (defšed 
__USE_XOPEN_EXTENDED
 \

216 && !
defšed
 
__USE_POSIX
))

225 
	#F_ULOCK
 0

	)

226 
	#F_LOCK
 1

	)

227 
	#F_TLOCK
 2

	)

228 
	#F_TEST
 3

	)

230 #iâdeà
__USE_FILE_OFFSET64


231 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Ën
);

233 #ifdeà
__REDIRECT


234 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
), 
lockf64
);

236 
	#lockf
 
lockf64


	)

239 #ifdeà
__USE_LARGEFILE64


240 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Ën
);

244 #ifdeà
__USE_XOPEN2K


247 #iâdeà
__USE_FILE_OFFSET64


248 
	$posix_çdvi£
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
,

249 
__advi£
è
__THROW
;

251 #ifdeà
__REDIRECT_NTH


252 
	`__REDIRECT_NTH
 (
posix_çdvi£
, (
__fd
, 
__off64_t
 
__off£t
,

253 
__off64_t
 
__Ën
, 
__advi£
),

254 
posix_çdvi£64
);

256 
	#posix_çdvi£
 
posix_çdvi£64


	)

259 #ifdeà
__USE_LARGEFILE64


260 
	$posix_çdvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
,

261 
__advi£
è
__THROW
;

269 #iâdeà
__USE_FILE_OFFSET64


270 
	`posix_çÎoÿ‹
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
);

272 #ifdeà
__REDIRECT


273 
	`__REDIRECT
 (
posix_çÎoÿ‹
, (
__fd
, 
__off64_t
 
__off£t
,

274 
__off64_t
 
__Ën
),

275 
posix_çÎoÿ‹64
);

277 
	#posix_çÎoÿ‹
 
posix_çÎoÿ‹64


	)

280 #ifdeà
__USE_LARGEFILE64


281 
	`posix_çÎoÿ‹64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
);

287 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
 \

288 && 
defšed
 
__va_¬g_·ck_Ën


289 
	~<b™s/fú2.h
>

292 
__END_DECLS


	@/usr/include/inttypes.h

22 #iâdeà
_INTTYPES_H


23 
	#_INTTYPES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	~<¡dšt.h
>

30 #iâdeà
____gwch¬_t_defšed


31 #ifdeà
__ılu¥lus


32 
	#__gwch¬_t
 
wch¬_t


	)

33 #–ià
defšed
 
__WCHAR_TYPE__


34 
__WCHAR_TYPE__
 
	t__gwch¬_t
;

36 
	#__Ãed_wch¬_t


	)

37 
	~<¡ddef.h
>

38 
wch¬_t
 
	t__gwch¬_t
;

40 
	#____gwch¬_t_defšed
 1

	)

43 #ià
__WORDSIZE
 == 64

44 
	#__PRI64_PREFIX
 "l"

	)

45 
	#__PRIPTR_PREFIX
 "l"

	)

47 
	#__PRI64_PREFIX
 "Î"

	)

48 
	#__PRIPTR_PREFIX


	)

54 
	#PRId8
 "d"

	)

55 
	#PRId16
 "d"

	)

56 
	#PRId32
 "d"

	)

57 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

59 
	#PRIdLEAST8
 "d"

	)

60 
	#PRIdLEAST16
 "d"

	)

61 
	#PRIdLEAST32
 "d"

	)

62 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

64 
	#PRIdFAST8
 "d"

	)

65 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

66 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

67 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIi8
 "i"

	)

71 
	#PRIi16
 "i"

	)

72 
	#PRIi32
 "i"

	)

73 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

75 
	#PRIiLEAST8
 "i"

	)

76 
	#PRIiLEAST16
 "i"

	)

77 
	#PRIiLEAST32
 "i"

	)

78 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

80 
	#PRIiFAST8
 "i"

	)

81 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

82 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

83 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIo8
 "o"

	)

87 
	#PRIo16
 "o"

	)

88 
	#PRIo32
 "o"

	)

89 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

91 
	#PRIoLEAST8
 "o"

	)

92 
	#PRIoLEAST16
 "o"

	)

93 
	#PRIoLEAST32
 "o"

	)

94 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

96 
	#PRIoFAST8
 "o"

	)

97 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

98 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

99 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIu8
 "u"

	)

103 
	#PRIu16
 "u"

	)

104 
	#PRIu32
 "u"

	)

105 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

107 
	#PRIuLEAST8
 "u"

	)

108 
	#PRIuLEAST16
 "u"

	)

109 
	#PRIuLEAST32
 "u"

	)

110 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

112 
	#PRIuFAST8
 "u"

	)

113 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

114 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

115 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIx8
 "x"

	)

119 
	#PRIx16
 "x"

	)

120 
	#PRIx32
 "x"

	)

121 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

123 
	#PRIxLEAST8
 "x"

	)

124 
	#PRIxLEAST16
 "x"

	)

125 
	#PRIxLEAST32
 "x"

	)

126 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

128 
	#PRIxFAST8
 "x"

	)

129 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

130 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

131 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIX8
 "X"

	)

135 
	#PRIX16
 "X"

	)

136 
	#PRIX32
 "X"

	)

137 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

139 
	#PRIXLEAST8
 "X"

	)

140 
	#PRIXLEAST16
 "X"

	)

141 
	#PRIXLEAST32
 "X"

	)

142 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

144 
	#PRIXFAST8
 "X"

	)

145 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

146 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

147 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

151 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

152 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

153 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

154 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

155 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

156 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

160 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

161 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

162 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

163 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

164 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

165 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

171 
	#SCNd8
 "hhd"

	)

172 
	#SCNd16
 "hd"

	)

173 
	#SCNd32
 "d"

	)

174 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

176 
	#SCNdLEAST8
 "hhd"

	)

177 
	#SCNdLEAST16
 "hd"

	)

178 
	#SCNdLEAST32
 "d"

	)

179 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

181 
	#SCNdFAST8
 "hhd"

	)

182 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

183 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

184 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNi8
 "hhi"

	)

188 
	#SCNi16
 "hi"

	)

189 
	#SCNi32
 "i"

	)

190 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

192 
	#SCNiLEAST8
 "hhi"

	)

193 
	#SCNiLEAST16
 "hi"

	)

194 
	#SCNiLEAST32
 "i"

	)

195 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

197 
	#SCNiFAST8
 "hhi"

	)

198 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

199 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

200 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNu8
 "hhu"

	)

204 
	#SCNu16
 "hu"

	)

205 
	#SCNu32
 "u"

	)

206 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

208 
	#SCNuLEAST8
 "hhu"

	)

209 
	#SCNuLEAST16
 "hu"

	)

210 
	#SCNuLEAST32
 "u"

	)

211 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

213 
	#SCNuFAST8
 "hhu"

	)

214 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

215 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

216 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNo8
 "hho"

	)

220 
	#SCNo16
 "ho"

	)

221 
	#SCNo32
 "o"

	)

222 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

224 
	#SCNoLEAST8
 "hho"

	)

225 
	#SCNoLEAST16
 "ho"

	)

226 
	#SCNoLEAST32
 "o"

	)

227 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

229 
	#SCNoFAST8
 "hho"

	)

230 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

231 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

232 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNx8
 "hhx"

	)

236 
	#SCNx16
 "hx"

	)

237 
	#SCNx32
 "x"

	)

238 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

240 
	#SCNxLEAST8
 "hhx"

	)

241 
	#SCNxLEAST16
 "hx"

	)

242 
	#SCNxLEAST32
 "x"

	)

243 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

245 
	#SCNxFAST8
 "hhx"

	)

246 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

247 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

248 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

252 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

253 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

254 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

255 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

256 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

259 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

260 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

261 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

262 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

263 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

266 
	g__BEGIN_DECLS


268 #ià
__WORDSIZE
 == 64

273 
	mquÙ
;

274 
	m»m
;

275 } 
	timaxdiv_t
;

282 
__ex‹nsiÚ__
 
	mquÙ
;

283 
__ex‹nsiÚ__
 
	m»m
;

284 } 
	timaxdiv_t
;

290 
štmax_t
 
	$imaxabs
 (
štmax_t
 
__n
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

293 
imaxdiv_t
 
	$imaxdiv
 (
štmax_t
 
__num”
, iÁmax_ˆ
__d’om
)

294 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

297 
štmax_t
 
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

298 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

301 
uštmax_t
 
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

302 ** 
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

305 
štmax_t
 
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

306 
__gwch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

307 
__THROW
;

310 
uštmax_t
 
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

311 
__gwch¬_t
 ** 
__»¡riù
 
__’d±r
, 
__ba£
)

312 
__THROW
;

314 #ifdeà
__USE_EXTERN_INLINES


316 #ià
__WORDSIZE
 == 64

318 
	$__¡¹Ş_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

319 **
__»¡riù
 
__’d±r
,

320 
__ba£
, 
__group
)

321 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

323 
__ex‹º_šlše
 
štmax_t


324 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

325 
ba£
))

327  
	`__¡¹Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

328 
	}
}

330 
	$__¡¹oul_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 ** 
__»¡riù
 
__’d±r
,

332 
__ba£
, 
__group
)

333 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

335 
__ex‹º_šlše
 
uštmax_t


336 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

337 
ba£
))

339  
	`__¡¹oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

340 
	}
}

342 
	$__wc¡Ş_š‹º®
 (cÚ¡ 
__gwch¬_t
 * 
__»¡riù
 
__ÅŒ
,

343 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

344 
__ba£
, 
__group
)

345 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

347 
__ex‹º_šlše
 
štmax_t


348 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

349 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

351  
	`__wc¡Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

352 
	}
}

354 
	$__wc¡oul_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

355 
__»¡riù
 
__ÅŒ
,

356 
__gwch¬_t
 **

357 
__»¡riù
 
__’d±r
,

358 
__ba£
, 
__group
)

359 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

361 
__ex‹º_šlše
 
uštmax_t


362 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

363 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

365  
	`__wc¡oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

366 
	}
}

370 
__ex‹nsiÚ__


371 
	$__¡¹Şl_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

372 **
__»¡riù
 
__’d±r
,

373 
__ba£
, 
__group
)

374 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

376 
__ex‹º_šlše
 
štmax_t


377 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

378 
ba£
))

380  
	`__¡¹Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

381 
	}
}

383 
__ex‹nsiÚ__


384 
	$__¡¹ouÎ_š‹º®
 (const *

385 
__»¡riù
 
__ÅŒ
,

387 
__»¡riù
 
__’d±r
,

388 
__ba£
,

389 
__group
)

390 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

392 
__ex‹º_šlše
 
uštmax_t


393 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

394 
ba£
))

396  
	`__¡¹ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

397 
	}
}

399 
__ex‹nsiÚ__


400 
	$__wc¡Şl_š‹º®
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

401 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

402 
__ba£
, 
__group
)

403 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

405 
__ex‹º_šlše
 
štmax_t


406 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

407 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

409  
	`__wc¡Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

410 
	}
}

413 
__ex‹nsiÚ__


414 
	$__wc¡ouÎ_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

415 
__»¡riù
 
__ÅŒ
,

416 
__gwch¬_t
 **

417 
__»¡riù
 
__’d±r
,

418 
__ba£
,

419 
__group
)

420 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

422 
__ex‹º_šlše
 
uštmax_t


423 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

424 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

426  
	`__wc¡ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

427 
	}
}

432 
	g__END_DECLS


	@/usr/include/libintl.h

20 #iâdeà
_LIBINTL_H


21 
	#_LIBINTL_H
 1

	)

23 
	~<ã©u»s.h
>

27 
	#__USE_GNU_GETTEXT
 1

	)

31 
	#__GNU_GETTEXT_SUPPORTED_REVISION
(
majÜ
) \

32 ((
majÜ
è=ğ0 ? 1 : -1)

	)

34 
__BEGIN_DECLS


39 *
	$g‘‹xt
 (cÚ¡ *
__msgid
)

40 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (1);

44 *
	$dg‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid
)

45 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

46 *
	$__dg‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid
)

47 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

51 *
	$dcg‘‹xt
 (cÚ¡ *
__domašÇme
,

52 cÚ¡ *
__msgid
, 
__ÿ‹gÜy
)

53 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

54 *
	$__dcg‘‹xt
 (cÚ¡ *
__domašÇme
,

55 cÚ¡ *
__msgid
, 
__ÿ‹gÜy
)

56 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

61 *
	$ng‘‹xt
 (cÚ¡ *
__msgid1
, cÚ¡ *
__msgid2
,

62 
__n
)

63 
__THROW
 
	$__©Œibu‹_fÜm©_¬g__
 (1è
	`__©Œibu‹_fÜm©_¬g__
 (2);

67 *
	$dng‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid1
,

68 cÚ¡ *
__msgid2
, 
__n
)

69 
__THROW
 
	$__©Œibu‹_fÜm©_¬g__
 (2è
	`__©Œibu‹_fÜm©_¬g__
 (3);

73 *
	$dúg‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid1
,

74 cÚ¡ *
__msgid2
, 
__n
,

75 
__ÿ‹gÜy
)

76 
__THROW
 
	$__©Œibu‹_fÜm©_¬g__
 (2è
	`__©Œibu‹_fÜm©_¬g__
 (3);

82 *
	$‹xtdomaš
 (cÚ¡ *
__domašÇme
è
__THROW
;

86 *
	$bšd‹xtdomaš
 (cÚ¡ *
__domašÇme
,

87 cÚ¡ *
__dœÇme
è
__THROW
;

91 *
	$bšd_‹xtdomaš_code£t
 (cÚ¡ *
__domašÇme
,

92 cÚ¡ *
__code£t
è
__THROW
;

96 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


99 
	#__Ãed_NULL


	)

100 
	~<¡ddef.h
>

103 
	~<loÿË.h
>

109 
	#g‘‹xt
(
msgid
è
	`dg‘‹xt
 (
NULL
, msgid)

	)

111 
	#dg‘‹xt
(
domašÇme
, 
msgid
) \

112 
	`dcg‘‹xt
 (
domašÇme
, 
msgid
, 
LC_MESSAGES
)

	)

114 
	#ng‘‹xt
(
msgid1
, 
msgid2
, 
n
è
	`dng‘‹xt
 (
NULL
, msgid1, msgid2,‚)

	)

116 
	#dng‘‹xt
(
domašÇme
, 
msgid1
, 
msgid2
, 
n
) \

117 
	`dúg‘‹xt
 (
domašÇme
, 
msgid1
, 
msgid2
, 
n
, 
LC_MESSAGES
)

	)

121 
__END_DECLS


	@/usr/include/malloc.h

19 #iâdeà
_MALLOC_H


20 
	#_MALLOC_H
 1

	)

22 
	~<ã©u»s.h
>

23 
	~<¡ddef.h
>

24 
	~<¡dio.h
>

26 #ifdeà
_LIBC


27 
	#__MALLOC_HOOK_VOLATILE


	)

28 
	#__MALLOC_DEPRECATED


	)

30 
	#__MALLOC_HOOK_VOLATILE
 vŞ©e

	)

31 
	#__MALLOC_DEPRECATED
 
__©Œibu‹_d•»ÿ‹d__


	)

35 
__BEGIN_DECLS


38 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

41 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

42 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

49 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

50 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

53 
	$ä“
 (*
__±r
è
__THROW
;

56 
	$cä“
 (*
__±r
è
__THROW
;

59 *
	$mem®ign
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

60 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

63 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

67 *
	$pv®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

71 *(*
__mÜecÜe
è(
±rdiff_t
 
__size
);

74 *
	$__deçuÉ_mÜecÜe
 (
±rdiff_t
 
__size
)

75 
__THROW
 
__©Œibu‹_m®loc__
;

79 
	sm®lšfo


81 
¬’a
;

82 
Üdblks
;

83 
smblks
;

84 
hblks
;

85 
hblkhd
;

86 
usmblks
;

87 
fsmblks
;

88 
uÜdblks
;

89 
fÜdblks
;

90 
k“pco¡
;

94 
m®lšfo
 
	$m®lšfo
 (è
__THROW
;

97 #iâdeà
M_MXFAST


98 
	#M_MXFAST
 1

	)

100 #iâdeà
M_NLBLKS


101 
	#M_NLBLKS
 2

	)

103 #iâdeà
M_GRAIN


104 
	#M_GRAIN
 3

	)

106 #iâdeà
M_KEEP


107 
	#M_KEEP
 4

	)

111 
	#M_TRIM_THRESHOLD
 -1

	)

112 
	#M_TOP_PAD
 -2

	)

113 
	#M_MMAP_THRESHOLD
 -3

	)

114 
	#M_MMAP_MAX
 -4

	)

115 
	#M_CHECK_ACTION
 -5

	)

116 
	#M_PERTURB
 -6

	)

117 
	#M_ARENA_TEST
 -7

	)

118 
	#M_ARENA_MAX
 -8

	)

121 
	$m®lİt
 (
__·¿m
, 
__v®
è
__THROW
;

125 
	$m®loc_Œim
 (
size_t
 
__·d
è
__THROW
;

129 
size_t
 
	$m®loc_u§bË_size
 (*
__±r
è
__THROW
;

132 
	$m®loc_¡©s
 (è
__THROW
;

135 
	$m®loc_šfo
 (
__İtiÚs
, 
FILE
 *
__å
è
__THROW
;

138 *
	$m®loc_g‘_¡©e
 (è
__THROW
;

142 
	$m®loc_£t_¡©e
 (*
__±r
è
__THROW
;

147 (*
__MALLOC_HOOK_VOLATILE
 
__m®loc_š™Ÿlize_hook
) ()

148 
__MALLOC_DEPRECATED
;

150 (*
__MALLOC_HOOK_VOLATILE
 
__ä“_hook
è(*
__±r
,

152 
__MALLOC_DEPRECATED
;

153 *(*
__MALLOC_HOOK_VOLATILE
 
__m®loc_hook
)(
size_t
 
__size
,

155 
__MALLOC_DEPRECATED
;

156 *(*
__MALLOC_HOOK_VOLATILE
 
__»®loc_hook
)(*
__±r
,

157 
size_t
 
__size
,

159 
__MALLOC_DEPRECATED
;

160 *(*
__MALLOC_HOOK_VOLATILE
 
__mem®ign_hook
)(
size_t
 
__®ignm’t
,

161 
size_t
 
__size
,

163 
__MALLOC_DEPRECATED
;

164 (*
__MALLOC_HOOK_VOLATILE
 
__aá”_mÜecÜe_hook
) ();

167 
	$__m®loc_check_š™
 (è
__THROW
 
__MALLOC_DEPRECATED
;

170 
__END_DECLS


	@/usr/include/memory.h

22 #iâdef 
_MEMORY_H


23 
	#_MEMORY_H
 1

	)

25 
	~<ã©u»s.h
>

28 #iâdef 
_STRING_H


29 
	~<¡ršg.h
>

	@/usr/include/pthread.h

18 #iâdeà
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<’dŸn.h
>

23 
	~<sched.h
>

24 
	~<time.h
>

26 
	~<b™s/±h»adty³s.h
>

27 
	~<b™s/£tjmp.h
>

28 
	~<b™s/wÜdsize.h
>

34 
	mPTHREAD_CREATE_JOINABLE
,

35 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

36 
	mPTHREAD_CREATE_DETACHED


37 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

44 
	mPTHREAD_MUTEX_TIMED_NP
,

45 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

46 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

47 
	mPTHREAD_MUTEX_ADAPTIVE_NP


48 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


50 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

51 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

52 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

53 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


55 #ifdeà
__USE_GNU


57 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


62 #ifdeà
__USE_XOPEN2K


66 
	mPTHREAD_MUTEX_STALLED
,

67 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

68 
	mPTHREAD_MUTEX_ROBUST
,

69 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


74 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


78 
	mPTHREAD_PRIO_NONE
,

79 
	mPTHREAD_PRIO_INHERIT
,

80 
	mPTHREAD_PRIO_PROTECT


85 #ifdeà
__PTHREAD_MUTEX_HAVE_PREV


86 
	#PTHREAD_MUTEX_INITIALIZER
 \

87 { { 0, 0, 0, 0, 0, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

88 #ifdeà
__USE_GNU


89 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

90 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

91 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

92 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

93 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

94 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

98 
	#PTHREAD_MUTEX_INITIALIZER
 \

99 { { 0, 0, 0, 0, 0, { 
__PTHREAD_SPINS
 } } }

	)

100 #ifdeà
__USE_GNU


101 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

102 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

103 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

104 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

105 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

113 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


116 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

117 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

118 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

119 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


125 #iâdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


126 #ià
__WORDSIZE
 == 64

127 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

132 
	#PTHREAD_RWLOCK_INITIALIZER
 \

133 { { 0, 0, 0, 0, 0, 0, 0, 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, 0 } }

	)

134 #ifdeà
__USE_GNU


135 #ifdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


136 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

137 { { 0, 0, 0, 0, 0, 0, 0, 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, \

138 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

140 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


141 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

142 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

143 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, 0 } }

	)

145 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

146 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

147 0 } }

	)

157 
	mPTHREAD_INHERIT_SCHED
,

158 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

159 
	mPTHREAD_EXPLICIT_SCHED


160 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

167 
	mPTHREAD_SCOPE_SYSTEM
,

168 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

169 
	mPTHREAD_SCOPE_PROCESS


170 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

177 
	mPTHREAD_PROCESS_PRIVATE
,

178 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

179 
	mPTHREAD_PROCESS_SHARED


180 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

186 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*è0, 0, 0 } }

	)

190 
	s_±h»ad_ş—nup_bufãr


192 (*
	m__routše
) (*);

193 *
	m__¬g
;

194 
	m__ÿnûÉy³
;

195 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

201 
	mPTHREAD_CANCEL_ENABLE
,

202 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

203 
	mPTHREAD_CANCEL_DISABLE


204 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

208 
	mPTHREAD_CANCEL_DEFERRED
,

209 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

210 
	mPTHREAD_CANCEL_ASYNCHRONOUS


211 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

213 
	#PTHREAD_CANCELED
 ((*è-1)

	)

217 
	#PTHREAD_ONCE_INIT
 0

	)

220 #ifdeà
__USE_XOPEN2K


224 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

228 
__BEGIN_DECLS


233 
	$±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

234 cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

235 *(*
__¡¬t_routše
) (*),

236 *
__»¡riù
 
__¬g
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

242 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

250 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

252 #ifdeà
__USE_GNU


255 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

263 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

264 cÚ¡ 
time¥ec
 *
__ab¡ime
);

271 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

275 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

278 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
)

279 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

287 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

290 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

291 
__THROW
 
	`__nÚnuÎ
 ((1));

294 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

295 *
__d‘ach¡©e
)

296 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

299 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

300 
__d‘ach¡©e
)

301 
__THROW
 
	`__nÚnuÎ
 ((1));

305 
	$±h»ad_©Œ_g‘gu¬dsize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

306 
size_t
 *
__gu¬dsize
)

307 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

310 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

311 
size_t
 
__gu¬dsize
)

312 
__THROW
 
	`__nÚnuÎ
 ((1));

316 
	$±h»ad_©Œ_g‘sched·¿m
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

317 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

318 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

321 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

322 cÚ¡ 
sched_·¿m
 *
__»¡riù


323 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

326 
	$±h»ad_©Œ_g‘schedpŞicy
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


327 
__©Œ
, *
__»¡riù
 
__pŞicy
)

328 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

331 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

332 
__THROW
 
	`__nÚnuÎ
 ((1));

335 
	$±h»ad_©Œ_g‘šh”™sched
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


336 
__©Œ
, *
__»¡riù
 
__šh”™
)

337 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

340 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

341 
__šh”™
)

342 
__THROW
 
	`__nÚnuÎ
 ((1));

346 
	$±h»ad_©Œ_g‘scİe
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

347 *
__»¡riù
 
__scİe
)

348 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

351 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

352 
__THROW
 
	`__nÚnuÎ
 ((1));

355 
	$±h»ad_©Œ_g‘¡ackaddr
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


356 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

357 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

363 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

364 *
__¡ackaddr
)

365 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

368 
	$±h»ad_©Œ_g‘¡acksize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


369 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

370 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

375 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

376 
size_t
 
__¡acksize
)

377 
__THROW
 
	`__nÚnuÎ
 ((1));

379 #ifdeà
__USE_XOPEN2K


381 
	$±h»ad_©Œ_g‘¡ack
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

382 **
__»¡riù
 
__¡ackaddr
,

383 
size_t
 *
__»¡riù
 
__¡acksize
)

384 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

389 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

390 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

393 #ifdeà
__USE_GNU


396 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

397 
size_t
 
__ıu£tsize
,

398 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

399 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

403 
	$±h»ad_©Œ_g‘affš™y_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

404 
size_t
 
__ıu£tsize
,

405 
ıu_£t_t
 *
__ıu£t
)

406 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

409 
	$±h»ad_g‘©Œ_deçuÉ_Å
 (
±h»ad_©Œ_t
 *
__©Œ
)

410 
__THROW
 
	`__nÚnuÎ
 ((1));

414 
	$±h»ad_£‰r_deçuÉ_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
)

415 
__THROW
 
	`__nÚnuÎ
 ((1));

420 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

421 
__THROW
 
	`__nÚnuÎ
 ((2));

429 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

430 cÚ¡ 
sched_·¿m
 *
__·¿m
)

431 
__THROW
 
	`__nÚnuÎ
 ((3));

434 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

435 *
__»¡riù
 
__pŞicy
,

436 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

437 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

440 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

441 
__THROW
;

444 #ifdeà
__USE_GNU


446 
	$±h»ad_g‘Çme_Å
 (
±h»ad_t
 
__rg‘_th»ad
, *
__buf
,

447 
size_t
 
__buæ’
)

448 
__THROW
 
	`__nÚnuÎ
 ((2));

451 
	$±h»ad_£Šame_Å
 (
±h»ad_t
 
__rg‘_th»ad
, cÚ¡ *
__Çme
)

452 
__THROW
 
	`__nÚnuÎ
 ((2));

456 #ifdeà
__USE_UNIX98


458 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

461 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

464 #ifdeà
__USE_GNU


469 
	$±h»ad_y›ld
 (è
__THROW
;

474 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

475 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

476 
__THROW
 
	`__nÚnuÎ
 ((3));

479 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

480 
ıu_£t_t
 *
__ıu£t
)

481 
__THROW
 
	`__nÚnuÎ
 ((3));

494 
	$±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

495 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

506 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

510 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

513 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

518 
	`±h»ad_‹¡ÿnûl
 ();

527 
__jmp_buf
 
__ÿnûl_jmp_buf
;

528 
__mask_was_§ved
;

529 } 
__ÿnûl_jmp_buf
[1];

530 *
__·d
[4];

531 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

534 #iâdeà
__ş—nup_fù_©Œibu‹


535 
	#__ş—nup_fù_©Œibu‹


	)

540 
	s__±h»ad_ş—nup_äame


542 (*
__ÿnûl_routše
) (*);

543 *
__ÿnûl_¬g
;

544 
__do_™
;

545 
__ÿnûl_ty³
;

548 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


549 #ifdeà
__ılu¥lus


551 şas 
	c__±h»ad_ş—nup_şass


553 (*
__ÿnûl_routše
) (*);

554 *
__ÿnûl_¬g
;

555 
__do_™
;

556 
__ÿnûl_ty³
;

558 
public
:

559 
	$__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

560 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

561 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

562 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

563 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

564 &
__ÿnûl_ty³
); 
	}
}

565 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

575 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

577 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

581 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

582 
__şäame
.
	`__£tdo™
 (
execu‹
); \

583 } 0)

	)

585 #ifdeà
__USE_GNU


589 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

591 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

592 
__şäame
.
	`__deãr
 ()

	)

597 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

598 
__şäame
.
	`__»¡Üe
 (); \

599 
__şäame
.
	`__£tdo™
 (
execu‹
); \

600 } 0)

	)

607 
__ex‹º_šlše
 

608 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

610 ià(
__äame
->
__do_™
)

611 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

612 
	}
}

621 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

623 
__±h»ad_ş—nup_äame
 
__şäame
 \

624 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

625 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

626 .
__do_™
 = 1 };

	)

630 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

631 
__şäame
.
__do_™
 = (
execu‹
); \

632 } 0)

	)

634 #ifdeà
__USE_GNU


638 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

640 
__±h»ad_ş—nup_äame
 
__şäame
 \

641 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

642 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

643 .
__do_™
 = 1 }; \

644 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

645 &
__şäame
.
__ÿnûl_ty³
)

	)

650 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

651 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

652 
__şäame
.
__do_™
 = (
execu‹
); \

653 } 0)

	)

664 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

666 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

667 (*
__ÿnûl_routše
è(*èğ(
routše
); \

668 *
__ÿnûl_¬g
 = (
¬g
); \

669 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

670 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

671 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

673 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

674 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

678 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

679 dØ{

	)

680 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

681 
__ş—nup_fù_©Œibu‹
;

685 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

688 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

689 ià(
execu‹
) \

690 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

691 } 0)

	)

692 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

693 
__ş—nup_fù_©Œibu‹
;

695 #ifdeà
__USE_GNU


699 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

701 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

702 (*
__ÿnûl_routše
è(*èğ(
routše
); \

703 *
__ÿnûl_¬g
 = (
¬g
); \

704 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

705 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

706 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

708 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

709 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

713 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

714 dØ{

	)

715 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

716 
__ş—nup_fù_©Œibu‹
;

721 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

724 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

725 ià(
execu‹
) \

726 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

727 
	}
} 0)

	)

728 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

729 
__ş—nup_fù_©Œibu‹
;

733 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

734 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

735 #iâdeà
SHARED


736 
	`__©Œibu‹__
 ((
__w—k__
))

742 
__jmp_buf_g
;

743 
	$__sig£tjmp
 (
__jmp_buf_g
 *
__’v
, 
__§vemask
è
__THROWNL
;

749 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

750 cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

751 
__THROW
 
	`__nÚnuÎ
 ((1));

754 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

755 
__THROW
 
	`__nÚnuÎ
 ((1));

758 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

759 
__THROWNL
 
	`__nÚnuÎ
 ((1));

762 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

763 
__THROWNL
 
	`__nÚnuÎ
 ((1));

765 #ifdeà
__USE_XOPEN2K


767 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

768 cÚ¡ 
time¥ec
 *
__»¡riù


769 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

773 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

774 
__THROWNL
 
	`__nÚnuÎ
 ((1));

778 
	$±h»ad_mu‹x_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x_t
 *

779 
__»¡riù
 
__mu‹x
,

780 *
__»¡riù
 
__´ioûšg
)

781 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

785 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

786 
__´ioûšg
,

787 *
__»¡riù
 
__Şd_ûšg
)

788 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

791 #ifdeà
__USE_XOPEN2K8


793 
	$±h»ad_mu‹x_cÚsi¡’t
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

794 
__THROW
 
	`__nÚnuÎ
 ((1));

795 #ifdeà
__USE_GNU


796 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

797 
__THROW
 
	`__nÚnuÎ
 ((1));

806 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

807 
__THROW
 
	`__nÚnuÎ
 ((1));

810 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

811 
__THROW
 
	`__nÚnuÎ
 ((1));

814 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

815 
__»¡riù
 
__©Œ
,

816 *
__»¡riù
 
__psh¬ed
)

817 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

820 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

821 
__psh¬ed
)

822 
__THROW
 
	`__nÚnuÎ
 ((1));

824 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


826 
	$±h»ad_mu‹x©Œ_g‘ty³
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


827 
__©Œ
, *
__»¡riù
 
__kšd
)

828 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

833 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

834 
__THROW
 
	`__nÚnuÎ
 ((1));

838 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

839 
__»¡riù
 
__©Œ
,

840 *
__»¡riù
 
__´ÙocŞ
)

841 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

845 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

846 
__´ÙocŞ
)

847 
__THROW
 
	`__nÚnuÎ
 ((1));

850 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

851 
__»¡riù
 
__©Œ
,

852 *
__»¡riù
 
__´ioûšg
)

853 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

856 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

857 
__´ioûšg
)

858 
__THROW
 
	`__nÚnuÎ
 ((1));

860 #ifdeà
__USE_XOPEN2K


862 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

863 *
__robu¡Ãss
)

864 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

865 #ifdeà
__USE_GNU


866 
	$±h»ad_mu‹x©Œ_g‘robu¡_Å
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

867 *
__robu¡Ãss
)

868 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

872 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

873 
__robu¡Ãss
)

874 
__THROW
 
	`__nÚnuÎ
 ((1));

875 #ifdeà
__USE_GNU


876 
	$±h»ad_mu‹x©Œ_£Œobu¡_Å
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

877 
__robu¡Ãss
)

878 
__THROW
 
	`__nÚnuÎ
 ((1));

883 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


888 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

889 cÚ¡ 
±h»ad_rwlock©Œ_t
 *
__»¡riù


890 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

893 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

894 
__THROW
 
	`__nÚnuÎ
 ((1));

897 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

898 
__THROWNL
 
	`__nÚnuÎ
 ((1));

901 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

902 
__THROWNL
 
	`__nÚnuÎ
 ((1));

904 #ifdeà
__USE_XOPEN2K


906 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

907 cÚ¡ 
time¥ec
 *
__»¡riù


908 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

912 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

913 
__THROWNL
 
	`__nÚnuÎ
 ((1));

916 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

917 
__THROWNL
 
	`__nÚnuÎ
 ((1));

919 #ifdeà
__USE_XOPEN2K


921 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

922 cÚ¡ 
time¥ec
 *
__»¡riù


923 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

927 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

928 
__THROWNL
 
	`__nÚnuÎ
 ((1));

934 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

935 
__THROW
 
	`__nÚnuÎ
 ((1));

938 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

939 
__THROW
 
	`__nÚnuÎ
 ((1));

942 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

943 
__»¡riù
 
__©Œ
,

944 *
__»¡riù
 
__psh¬ed
)

945 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

948 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

949 
__psh¬ed
)

950 
__THROW
 
	`__nÚnuÎ
 ((1));

953 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

954 
__»¡riù
 
__©Œ
,

955 *
__»¡riù
 
__´ef
)

956 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

959 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

960 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

968 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

969 cÚ¡ 
±h»ad_cÚd©Œ_t
 *
__»¡riù
 
__cÚd_©Œ
)

970 
__THROW
 
	`__nÚnuÎ
 ((1));

973 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

974 
__THROW
 
	`__nÚnuÎ
 ((1));

977 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

978 
__THROWNL
 
	`__nÚnuÎ
 ((1));

981 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

982 
__THROWNL
 
	`__nÚnuÎ
 ((1));

989 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

990 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

991 
	`__nÚnuÎ
 ((1, 2));

1000 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1001 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1002 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

1003 
	`__nÚnuÎ
 ((1, 2, 3));

1008 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1009 
__THROW
 
	`__nÚnuÎ
 ((1));

1012 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1013 
__THROW
 
	`__nÚnuÎ
 ((1));

1016 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1017 
__»¡riù
 
__©Œ
,

1018 *
__»¡riù
 
__psh¬ed
)

1019 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1022 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1023 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1025 #ifdeà
__USE_XOPEN2K


1027 
	$±h»ad_cÚd©Œ_g‘şock
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1028 
__»¡riù
 
__©Œ
,

1029 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1030 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1033 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1034 
__şockid_t
 
__şock_id
)

1035 
__THROW
 
	`__nÚnuÎ
 ((1));

1039 #ifdeà
__USE_XOPEN2K


1044 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1045 
__THROW
 
	`__nÚnuÎ
 ((1));

1048 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1049 
__THROW
 
	`__nÚnuÎ
 ((1));

1052 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1053 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1056 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1057 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1060 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1061 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1068 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1069 cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1070 
__©Œ
, 
__couÁ
)

1071 
__THROW
 
	`__nÚnuÎ
 ((1));

1074 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1075 
__THROW
 
	`__nÚnuÎ
 ((1));

1078 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1079 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1083 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1084 
__THROW
 
	`__nÚnuÎ
 ((1));

1087 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1088 
__THROW
 
	`__nÚnuÎ
 ((1));

1091 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *

1092 
__»¡riù
 
__©Œ
,

1093 *
__»¡riù
 
__psh¬ed
)

1094 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1097 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1098 
__psh¬ed
)

1099 
__THROW
 
	`__nÚnuÎ
 ((1));

1111 
	$±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1112 (*
__de¡r_funùiÚ
) (*))

1113 
__THROW
 
	`__nÚnuÎ
 ((1));

1116 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1119 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1122 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1123 cÚ¡ *
__poš‹r
è
__THROW
 ;

1126 #ifdeà
__USE_XOPEN2K


1128 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1129 
__şockid_t
 *
__şock_id
)

1130 
__THROW
 
	`__nÚnuÎ
 ((2));

1145 
	$±h»ad_©fÜk
 ((*
__´•¬e
) (),

1146 (*
__·»Á
) (),

1147 (*
__chd
è()è
__THROW
;

1150 #ifdeà
__USE_EXTERN_INLINES


1152 
__ex‹º_šlše
 

1153 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1155  
__th»ad1
 =ğ
__th»ad2
;

1156 
	}
}

1159 
	g__END_DECLS


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/wch¬.h
>

27 
	~<b™s/wÜdsize.h
>

34 #iâdeà
__št8_t_defšed


35 
	#__št8_t_defšed


	)

36 sigÃd 
	tšt8_t
;

37 
	tšt16_t
;

38 
	tšt32_t
;

39 #ià
__WORDSIZE
 == 64

40 
	tšt64_t
;

42 
__ex‹nsiÚ__


43 
	tšt64_t
;

48 
	tušt8_t
;

49 
	tušt16_t
;

50 #iâdeà
__ušt32_t_defšed


51 
	tušt32_t
;

52 
	#__ušt32_t_defšed


	)

54 #ià
__WORDSIZE
 == 64

55 
	tušt64_t
;

57 
__ex‹nsiÚ__


58 
	tušt64_t
;

65 sigÃd 
	tšt_Ëa¡8_t
;

66 
	tšt_Ëa¡16_t
;

67 
	tšt_Ëa¡32_t
;

68 #ià
__WORDSIZE
 == 64

69 
	tšt_Ëa¡64_t
;

71 
__ex‹nsiÚ__


72 
	tšt_Ëa¡64_t
;

76 
	tušt_Ëa¡8_t
;

77 
	tušt_Ëa¡16_t
;

78 
	tušt_Ëa¡32_t
;

79 #ià
__WORDSIZE
 == 64

80 
	tušt_Ëa¡64_t
;

82 
__ex‹nsiÚ__


83 
	tušt_Ëa¡64_t
;

90 sigÃd 
	tšt_ç¡8_t
;

91 #ià
__WORDSIZE
 == 64

92 
	tšt_ç¡16_t
;

93 
	tšt_ç¡32_t
;

94 
	tšt_ç¡64_t
;

96 
	tšt_ç¡16_t
;

97 
	tšt_ç¡32_t
;

98 
__ex‹nsiÚ__


99 
	tšt_ç¡64_t
;

103 
	tušt_ç¡8_t
;

104 #ià
__WORDSIZE
 == 64

105 
	tušt_ç¡16_t
;

106 
	tušt_ç¡32_t
;

107 
	tušt_ç¡64_t
;

109 
	tušt_ç¡16_t
;

110 
	tušt_ç¡32_t
;

111 
__ex‹nsiÚ__


112 
	tušt_ç¡64_t
;

117 #ià
__WORDSIZE
 == 64

118 #iâdeà
__šŒ_t_defšed


119 
	tšŒ_t
;

120 
	#__šŒ_t_defšed


	)

122 
	tušŒ_t
;

124 #iâdeà
__šŒ_t_defšed


125 
	tšŒ_t
;

126 
	#__šŒ_t_defšed


	)

128 
	tušŒ_t
;

133 #ià
__WORDSIZE
 == 64

134 
	tštmax_t
;

135 
	tuštmax_t
;

137 
__ex‹nsiÚ__


138 
	tštmax_t
;

139 
__ex‹nsiÚ__


140 
	tuštmax_t
;

144 #ià
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
èø## 
L


	)

146 
	#__UINT64_C
(
c
èø## 
UL


	)

148 
	#__INT64_C
(
c
èø## 
LL


	)

149 
	#__UINT64_C
(
c
èø## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #ià
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #ià
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #ià
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #ià
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #ià
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #ià
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 #ifdeà
__WORDSIZE32_SIZE_ULONG


264 
	#SIZE_MAX
 (4294967295UL)

	)

266 
	#SIZE_MAX
 (4294967295U)

	)

271 #iâdeà
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

282 
	#INT8_C
(
c
è
	)
c

283 
	#INT16_C
(
c
è
	)
c

284 
	#INT32_C
(
c
è
	)
c

285 #ià
__WORDSIZE
 == 64

286 
	#INT64_C
(
c
èø## 
L


	)

288 
	#INT64_C
(
c
èø## 
LL


	)

292 
	#UINT8_C
(
c
è
	)
c

293 
	#UINT16_C
(
c
è
	)
c

294 
	#UINT32_C
(
c
èø## 
U


	)

295 #ià
__WORDSIZE
 == 64

296 
	#UINT64_C
(
c
èø## 
UL


	)

298 
	#UINT64_C
(
c
èø## 
ULL


	)

302 #ià
__WORDSIZE
 == 64

303 
	#INTMAX_C
(
c
èø## 
L


	)

304 
	#UINTMAX_C
(
c
èø## 
UL


	)

306 
	#INTMAX_C
(
c
èø## 
LL


	)

307 
	#UINTMAX_C
(
c
èø## 
ULL


	)

	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


25 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	#__Ãed_FILE


	)

37 
	#__Ãed___FILE


	)

41 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_POSIX
 \

51 || 
defšed
 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

52 || 
defšed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_defšed
 1

	)

58 #undeà
__Ãed_FILE


61 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_defšed
 1

	)

68 #undeà
__Ãed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


77 #ifdeà
__GNUC__


78 #iâdeà
_VA_LIST_DEFINED


79 
_G_va_li¡
 
	tva_li¡
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<¡d¬g.h
>

87 #ifdeà
__USE_XOPEN2K8


88 #iâdeà
__off_t_defšed


89 #iâdeà
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_defšed


	)

96 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_defšed


	)

101 #iâdeà
__ssize_t_defšed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_defšed


	)

108 
__BEGIN_NAMESPACE_STD


109 #iâdeà
__USE_FILE_OFFSET64


110 
_G_åos_t
 
	tåos_t
;

112 
_G_åos64_t
 
	tåos_t
;

114 
__END_NAMESPACE_STD


115 #ifdeà
__USE_LARGEFILE64


116 
_G_åos64_t
 
	tåos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #iâdeà
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #iâdeà
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifdeà
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


151 
	#P_tmpdœ
 "/tmp"

	)

164 
	~<b™s/¡dio_lim.h
>

168 
_IO_FILE
 *
¡dš
;

169 
_IO_FILE
 *
¡dout
;

170 
_IO_FILE
 *
¡d”r
;

172 
	#¡dš
 
¡dš


	)

173 
	#¡dout
 
¡dout


	)

174 
	#¡d”r
 
¡d”r


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

180 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifdeà
__USE_ATFILE


185 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

186 cÚ¡ *
__Ãw
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #iâdeà
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfe
 (è
__wur
;

197 #ifdeà
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

200 
	#tmpfe
 
tmpfe64


	)

204 #ifdeà
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfe64
 (è
__wur
;

209 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifdeà
__USE_MISC


215 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

219 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


227 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

228 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`fşo£
 (
FILE
 *
__¡»am
);

242 
	`fæush
 (
FILE
 *
__¡»am
);

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_MISC


252 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

255 #ifdeà
__USE_GNU


262 
	`fşo£®l
 ();

266 
__BEGIN_NAMESPACE_STD


267 #iâdeà
__USE_FILE_OFFSET64


272 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

273 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

278 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

279 cÚ¡ *
__»¡riù
 
__modes
,

280 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

282 #ifdeà
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

284 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

287 cÚ¡ *
__»¡riù
 
__modes
,

288 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

289 
__wur
;

291 
	#fİ’
 
fİ’64


	)

292 
	#äeİ’
 
äeİ’64


	)

295 
__END_NAMESPACE_STD


296 #ifdeà
__USE_LARGEFILE64


297 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

298 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

299 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

300 cÚ¡ *
__»¡riù
 
__modes
,

301 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

313 cÚ¡ *
__»¡riù
 
__modes
,

314 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

317 #ifdeà
__USE_XOPEN2K8


319 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

337 
__modes
, 
size_t
 
__n
è
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_MISC


343 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

344 
size_t
 
__size
è
__THROW
;

347 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

357 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

362 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

364 
	$¥rštf
 (*
__»¡riù
 
__s
,

365 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

371 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

372 
_G_va_li¡
 
__¬g
);

377 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

379 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

380 
_G_va_li¡
 
__¬g
è
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

387 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

388 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

390 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

391 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifdeà
__USE_GNU


399 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

400 
_G_va_li¡
 
__¬g
)

401 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

402 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

403 cÚ¡ *
__»¡riù
 
__fmt
, ...)

404 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

405 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

406 cÚ¡ *
__»¡riù
 
__fmt
, ...)

407 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

410 #ifdeà
__USE_XOPEN2K8


412 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

413 
_G_va_li¡
 
__¬g
)

414 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

415 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

416 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

426 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

431 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

433 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

434 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

436 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

444 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

445 
__isoc99_fsÿnf
è
__wur
;

446 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

447 
__isoc99_sÿnf
è
__wur
;

448 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

449 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

450 
__isoc99_ssÿnf
);

452 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

454 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

455 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

456 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

457 
	#fsÿnf
 
__isoc99_fsÿnf


	)

458 
	#sÿnf
 
__isoc99_sÿnf


	)

459 
	#ssÿnf
 
__isoc99_ssÿnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

472 
_G_va_li¡
 
__¬g
)

473 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

479 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

483 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

484 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

485 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

487 #ià!
defšed
 
__USE_GNU
 \

488 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

489 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

490 #ifdeà
__REDIRECT


494 
	`__REDIRECT
 (
vfsÿnf
,

495 (
FILE
 *
__»¡riù
 
__s
,

496 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

497 
__isoc99_vfsÿnf
)

498 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

499 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

500 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

501 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

502 
	`__REDIRECT_NTH
 (
vssÿnf
,

503 (cÚ¡ *
__»¡riù
 
__s
,

504 cÚ¡ *
__»¡riù
 
__fÜm©
,

505 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

506 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

508 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

509 cÚ¡ *
__»¡riù
 
__fÜm©
,

510 
_G_va_li¡
 
__¬g
è
__wur
;

511 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

512 
_G_va_li¡
 
__¬g
è
__wur
;

513 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

514 cÚ¡ *
__»¡riù
 
__fÜm©
,

515 
_G_va_li¡
 
__¬g
è
__THROW
;

516 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

517 
	#vsÿnf
 
__isoc99_vsÿnf


	)

518 
	#vssÿnf
 
__isoc99_vssÿnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fg‘c
 (
FILE
 *
__¡»am
);

532 
	`g‘c
 (
FILE
 *
__¡»am
);

538 
	`g‘ch¬
 ();

539 
__END_NAMESPACE_STD


543 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

545 #ifdeà
__USE_POSIX


550 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

551 
	`g‘ch¬_uÆocked
 ();

554 #ifdeà
__USE_MISC


561 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

565 
__BEGIN_NAMESPACE_STD


573 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

574 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

580 
	`putch¬
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

587 #ifdeà
__USE_MISC


594 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

597 #ifdeà
__USE_POSIX


602 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

603 
	`putch¬_uÆocked
 (
__c
);

607 #ià
defšed
 
__USE_MISC
 \

608 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

610 
	`g‘w
 (
FILE
 *
__¡»am
);

613 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

623 
__wur
;

625 #ià!
defšed
 
__USE_ISOC11
 \

626 || (
defšed
 
__ılu¥lus
 && __cplusplus <= 201103L)

638 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

640 
__END_NAMESPACE_STD


642 #ifdeà
__USE_GNU


649 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

650 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

666 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

667 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

668 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

669 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

670 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

678 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

679 
size_t
 *
__»¡riù
 
__n
,

680 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

695 
	`puts
 (cÚ¡ *
__s
);

702 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

709 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

715 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

716 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifdeà
__USE_GNU


726 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

727 
FILE
 *
__»¡riù
 
__¡»am
);

730 #ifdeà
__USE_MISC


737 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

739 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

740 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

754 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

759 
	`»wšd
 (
FILE
 *
__¡»am
);

760 
__END_NAMESPACE_STD


767 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


768 #iâdeà
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

778 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

780 #ifdeà
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#á–lo
 
á–lo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #iâdeà
__USE_FILE_OFFSET64


798 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

803 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

805 #ifdeà
__REDIRECT


806 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

807 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

808 
	`__REDIRECT
 (
f£os
,

809 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

811 
	#fg‘pos
 
fg‘pos64


	)

812 
	#f£os
 
f£os64


	)

815 
__END_NAMESPACE_STD


817 #ifdeà
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

819 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

820 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

821 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

828 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

830 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifdeà
__USE_MISC


835 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

836 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

837 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`³¼Ü
 (cÚ¡ *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<b™s/sys_”¾i¡.h
>

856 #ifdef 
__USE_POSIX


858 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

861 #ifdeà
__USE_MISC


863 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

867 #ifdeà
__USE_POSIX2


872 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

878 
	`pşo£
 (
FILE
 *
__¡»am
);

882 #ifdef 
__USE_POSIX


884 *
	$ù”mid
 (*
__s
è
__THROW
;

888 #ifdeà
__USE_XOPEN


890 *
	`cu£rid
 (*
__s
);

894 #ifdef 
__USE_GNU


895 
ob¡ack
;

898 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

899 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

900 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

901 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

902 cÚ¡ *
__»¡riù
 
__fÜm©
,

903 
_G_va_li¡
 
__¬gs
)

904 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

908 #ifdeà
__USE_POSIX


912 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

916 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

919 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

922 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


926 
	#__Ãed_g‘İt


	)

927 
	~<g‘İt.h
>

932 #ifdeà
__USE_EXTERN_INLINES


933 
	~<b™s/¡dio.h
>

935 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


936 
	~<b™s/¡dio2.h
>

938 #ifdeà
__LDBL_COMPAT


939 
	~<b™s/¡dio-ldbl.h
>

942 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


37 
	#_STDLIB_H
 1

	)

39 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


41 
	~<b™s/wa™æags.h
>

42 
	~<b™s/wa™¡©us.h
>

44 #ifdeà
__USE_MISC


49 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


50 
	#__WAIT_INT
(
¡©us
) \

51 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

52 { .
__š
 = (
¡©us
è}).
__i
))

	)

54 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

62 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
wa™
 *
	m__u±r
;

70 *
	m__Œ
;

71 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

85 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdeà
__WIFCONTINUED


91 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquÙ
;

100 
	m»m
;

101 } 
	tdiv_t
;

104 #iâdeà
__ldiv_t_defšed


107 
	mquÙ
;

108 
	m»m
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_defšed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


115 
__BEGIN_NAMESPACE_C99


117 
__ex‹nsiÚ__
 struct

119 
	mquÙ
;

120 
	m»m
;

121 } 
	tÎdiv_t
;

122 
	#__Îdiv_t_defšed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

139 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (cÚ¡ *
__ÅŒ
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

147 
	$©oi
 (cÚ¡ *
__ÅŒ
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

150 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

152 
__END_NAMESPACE_STD


154 #ifdeà
__USE_ISOC99


155 
__BEGIN_NAMESPACE_C99


157 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

158 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

173 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

175 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

176 **
__»¡riù
 
__’d±r
)

177 
__THROW
 
	`__nÚnuÎ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

184 **
__»¡riù
 
__’d±r
, 
__ba£
)

185 
__THROW
 
	`__nÚnuÎ
 ((1));

187 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

190 
__END_NAMESPACE_STD


192 #ifdeà
__USE_MISC


194 
__ex‹nsiÚ__


195 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

196 **
__»¡riù
 
__’d±r
, 
__ba£
)

197 
__THROW
 
	`__nÚnuÎ
 ((1));

199 
__ex‹nsiÚ__


200 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

205 #ifdeà
__USE_ISOC99


206 
__BEGIN_NAMESPACE_C99


208 
__ex‹nsiÚ__


209 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

210 **
__»¡riù
 
__’d±r
, 
__ba£
)

211 
__THROW
 
	`__nÚnuÎ
 ((1));

213 
__ex‹nsiÚ__


214 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

215 **
__»¡riù
 
__’d±r
, 
__ba£
)

216 
__THROW
 
	`__nÚnuÎ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifdeà
__USE_GNU


235 
	~<xloÿË.h
>

239 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

240 **
__»¡riù
 
__’d±r
, 
__ba£
,

241 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

243 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

244 **
__»¡riù
 
__’d±r
,

245 
__ba£
, 
__loÿË_t
 
__loc
)

246 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

248 
__ex‹nsiÚ__


249 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

250 **
__»¡riù
 
__’d±r
, 
__ba£
,

251 
__loÿË_t
 
__loc
)

252 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

254 
__ex‹nsiÚ__


255 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

256 **
__»¡riù
 
__’d±r
,

257 
__ba£
, 
__loÿË_t
 
__loc
)

258 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

260 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

261 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

262 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

264 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

265 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

266 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

268 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

269 **
__»¡riù
 
__’d±r
,

270 
__loÿË_t
 
__loc
)

271 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

275 #ifdeà
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__ex‹º_šlše
 

278 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

280  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

281 
	}
}

282 
__ex‹º_šlše
 

283 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

285  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #ifdeà
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

292 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

294  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

308 
	$a64l
 (cÚ¡ *
__s
)

309 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

313 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


314 
	~<sys/ty³s.h
>

321 
	$¿ndom
 (è
__THROW
;

324 
	$¤ªdom
 (
__£ed
è
__THROW
;

330 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

331 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

335 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

338 #ifdeà
__USE_MISC


343 
	s¿ndom_d©a


345 
št32_t
 *
åŒ
;

346 
št32_t
 *
½Œ
;

347 
št32_t
 *
¡©e
;

348 
¿nd_ty³
;

349 
¿nd_deg
;

350 
¿nd_£p
;

351 
št32_t
 *
’d_±r
;

354 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

355 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

357 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

360 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

361 
size_t
 
__¡©–’
,

362 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

363 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

365 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

366 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

367 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$¿nd
 (è
__THROW
;

376 
	$¤ªd
 (
__£ed
è
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifdeà
__USE_POSIX


381 
	$¿nd_r
 (*
__£ed
è
__THROW
;

385 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


389 
	$d¿nd48
 (è
__THROW
;

390 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

393 
	$Ìªd48
 (è
__THROW
;

394 
	$Äªd48
 (
__xsubi
[3])

395 
__THROW
 
	`__nÚnuÎ
 ((1));

398 
	$m¿nd48
 (è
__THROW
;

399 
	$j¿nd48
 (
__xsubi
[3])

400 
__THROW
 
	`__nÚnuÎ
 ((1));

403 
	$¤ªd48
 (
__£edv®
è
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__nÚnuÎ
 ((1));

406 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

408 #ifdeà
__USE_MISC


412 
	sd¿nd48_d©a


414 
__x
[3];

415 
__Şd_x
[3];

416 
__c
;

417 
__š™
;

418 
__ex‹nsiÚ__
 
__a
;

423 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

424 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

425 
	$”ªd48_r
 (
__xsubi
[3],

426 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

427 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

430 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

431 *
__»¡riù
 
__»suÉ
)

432 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

433 
	$Äªd48_r
 (
__xsubi
[3],

434 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

435 *
__»¡riù
 
__»suÉ
)

436 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

439 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

440 *
__»¡riù
 
__»suÉ
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

442 
	$j¿nd48_r
 (
__xsubi
[3],

443 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

444 *
__»¡riù
 
__»suÉ
)

445 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

448 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

449 
__THROW
 
	`__nÚnuÎ
 ((2));

451 
	$£ed48_r
 (
__£ed16v
[3],

452 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$lcÚg48_r
 (
__·¿m
[7],

455 
d¿nd48_d©a
 *
__bufãr
)

456 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

462 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


463 
	#__m®loc_ªd_ÿÎoc_defšed


	)

464 
__BEGIN_NAMESPACE_STD


466 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

468 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

469 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

470 
__END_NAMESPACE_STD


473 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


474 
__BEGIN_NAMESPACE_STD


480 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

481 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

483 
	$ä“
 (*
__±r
è
__THROW
;

484 
__END_NAMESPACE_STD


486 #ifdef 
__USE_MISC


488 
	$cä“
 (*
__±r
è
__THROW
;

491 #ifdeà
__USE_MISC


492 
	~<®loÿ.h
>

495 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

496 || 
defšed
 
__USE_MISC


498 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

501 #ifdeà
__USE_XOPEN2K


503 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

504 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

507 #ifdeà
__USE_ISOC11


509 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

510 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

513 
__BEGIN_NAMESPACE_STD


515 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

519 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

521 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


523 #ifdeà
__ılu¥lus


524 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

525 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

527 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

530 
__END_NAMESPACE_STD


532 #ifdef 
__USE_MISC


535 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

536 
__THROW
 
	`__nÚnuÎ
 ((1));

539 
__BEGIN_NAMESPACE_STD


543 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

545 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


549 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

551 
__END_NAMESPACE_STD


553 #ifdeà
__USE_ISOC99


554 
__BEGIN_NAMESPACE_C99


557 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

558 
__END_NAMESPACE_C99


562 
__BEGIN_NAMESPACE_STD


564 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

565 
__END_NAMESPACE_STD


567 #ifdeà
__USE_GNU


570 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

571 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

574 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


578 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

581 #ifdeà
__USE_XOPEN2K


584 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

585 
__THROW
 
	`__nÚnuÎ
 ((2));

588 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 #ifdef 
__USE_MISC


595 
	$ş—»nv
 (è
__THROW
;

599 #ià
defšed
 
__USE_MISC
 \

600 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

606 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

609 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


618 #iâdeà
__USE_FILE_OFFSET64


619 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

621 #ifdeà
__REDIRECT


622 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

623 
	`__nÚnuÎ
 ((1)è
__wur
;

625 
	#mk¡emp
 
mk¡emp64


	)

628 #ifdeà
__USE_LARGEFILE64


629 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_MISC


640 #iâdeà
__USE_FILE_OFFSET64


641 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

643 #ifdeà
__REDIRECT


644 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

645 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

647 
	#mk¡emps
 
mk¡emps64


	)

650 #ifdeà
__USE_LARGEFILE64


651 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

652 
	`__nÚnuÎ
 ((1)è
__wur
;

656 #ifdeà
__USE_XOPEN2K8


662 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

665 #ifdeà
__USE_GNU


672 #iâdeà
__USE_FILE_OFFSET64


673 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

675 #ifdeà
__REDIRECT


676 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

677 
	`__nÚnuÎ
 ((1)è
__wur
;

679 
	#mko¡emp
 
mko¡emp64


	)

682 #ifdeà
__USE_LARGEFILE64


683 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

692 #iâdeà
__USE_FILE_OFFSET64


693 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

694 
	`__nÚnuÎ
 ((1)è
__wur
;

696 #ifdeà
__REDIRECT


697 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

698 
__æags
), 
mko¡emps64
)

699 
	`__nÚnuÎ
 ((1)è
__wur
;

701 
	#mko¡emps
 
mko¡emps64


	)

704 #ifdeà
__USE_LARGEFILE64


705 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

706 
	`__nÚnuÎ
 ((1)è
__wur
;

711 
__BEGIN_NAMESPACE_STD


716 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

717 
__END_NAMESPACE_STD


720 #ifdef 
__USE_GNU


723 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

724 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

727 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


733 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

734 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

739 #iâdeà
__COMPAR_FN_T


740 
	#__COMPAR_FN_T


	)

741 (*
	t__com·r_â_t
) (const *, const *);

743 #ifdef 
__USE_GNU


744 
__com·r_â_t
 
	tcom·risÚ_â_t
;

747 #ifdeà
__USE_GNU


748 (*
	t__com·r_d_â_t
) (const *, const *, *);

751 
__BEGIN_NAMESPACE_STD


754 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

755 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

756 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

758 #ifdeà
__USE_EXTERN_INLINES


759 
	~<b™s/¡dlib-b£¬ch.h
>

764 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

765 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

766 #ifdeà
__USE_GNU


767 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

768 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

769 
	`__nÚnuÎ
 ((1, 4));

774 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

775 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

776 
__END_NAMESPACE_STD


778 #ifdeà
__USE_ISOC99


779 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

780 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

784 
__BEGIN_NAMESPACE_STD


788 
div_t
 
	$div
 (
__num”
, 
__d’om
)

789 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

790 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

791 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

792 
__END_NAMESPACE_STD


794 #ifdeà
__USE_ISOC99


795 
__BEGIN_NAMESPACE_C99


796 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

797 
__d’om
)

798 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

799 
__END_NAMESPACE_C99


803 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

804 || 
defšed
 
__USE_MISC


811 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

812 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

817 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

818 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

823 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

824 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

827 #ifdeà
__USE_MISC


829 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

830 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

831 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

832 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

833 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

834 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

835 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

836 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

841 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

842 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

843 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

844 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

845 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

846 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

848 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

849 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

850 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

851 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

852 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

853 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

854 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

855 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

859 
__BEGIN_NAMESPACE_STD


862 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

865 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

866 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

869 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

873 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

874 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

876 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

877 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

878 
__THROW
;

879 
__END_NAMESPACE_STD


882 #ifdeà
__USE_MISC


887 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

891 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


898 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

899 *cÚ¡ *
__»¡riù
 
__tok’s
,

900 **
__»¡riù
 
__v®u•
)

901 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

905 #ifdeà
__USE_XOPEN


907 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

913 #ifdeà
__USE_XOPEN2KXSI


915 
	$posix_İ’±
 (
__oæag
è
__wur
;

918 #ifdeà
__USE_XOPEN


923 
	$g¿Á±
 (
__fd
è
__THROW
;

927 
	$uÆock±
 (
__fd
è
__THROW
;

932 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

935 #ifdeà
__USE_GNU


939 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

940 
__THROW
 
	`__nÚnuÎ
 ((2));

943 
	`g‘±
 ();

946 #ifdeà
__USE_MISC


950 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

951 
__THROW
 
	`__nÚnuÎ
 ((1));

954 
	~<b™s/¡dlib-æßt.h
>

957 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


958 
	~<b™s/¡dlib.h
>

960 #ifdeà
__LDBL_COMPAT


961 
	~<b™s/¡dlib-ldbl.h
>

965 #undeà
__Ãed_m®loc_ªd_ÿÎoc


967 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


30 
	#__Ãed_size_t


	)

31 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

35 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

43 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

46 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

47 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


54 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

65 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

69 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

74 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

77 #ifdeà
__OPTIMIZE__


78 
__ex‹º_®ways_šlše
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


81  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

84 
__ex‹º_®ways_šlše
 const *

85 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


87  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifdeà
__USE_GNU


100 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

103 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

106 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

107 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

117 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

128 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

129 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

133 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

134 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

137 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

140 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

141 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

147 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

150 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

151 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
 
	`__nÚnuÎ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifdeà
__USE_XOPEN2K8


159 
	~<xloÿË.h
>

162 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

163 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

165 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

166 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

169 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


171 *
	$¡rdup
 (cÚ¡ *
__s
)

172 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

178 #ià
defšed
 
__USE_XOPEN2K8


179 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

180 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

183 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


185 
	#¡rdu·
(
s
) \

186 (
__ex‹nsiÚ__
 \

188 cÚ¡ *
__Şd
 = (
s
); \

189 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

190 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

191 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

192 
	}
}))

	)

195 
	#¡ºdu·
(
s
, 
n
) \

196 (
__ex‹nsiÚ__
 \

198 cÚ¡ *
__Şd
 = (
s
); \

199 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

200 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

201 
__Ãw
[
__Ën
] = '\0'; \

202 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

203 }))

	)

206 
	g__BEGIN_NAMESPACE_STD


208 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


211 *
¡rchr
 (*
__s
, 
__c
)

212 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

213 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

214 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

216 #ifdeà
__OPTIMIZE__


217 
__ex‹º_®ways_šlše
 *

218 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


220  
__butš_¡rchr
 (
__s
, 
__c
);

223 
__ex‹º_®ways_šlše
 const *

224 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


226  
__butš_¡rchr
 (
__s
, 
__c
);

231 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

232 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

235 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


238 *
	`¡¼chr
 (*
__s
, 
__c
)

239 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

240 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

241 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

243 #ifdeà
__OPTIMIZE__


244 
__ex‹º_®ways_šlše
 *

245 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


247  
	`__butš_¡¼chr
 (
__s
, 
__c
);

250 
__ex‹º_®ways_šlše
 const *

251 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


253  
	`__butš_¡¼chr
 (
__s
, 
__c
);

256 
	}
}

258 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

259 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

261 
__END_NAMESPACE_STD


263 #ifdeà
__USE_GNU


266 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


267 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

268 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

269 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

270 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

272 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

273 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

277 
__BEGIN_NAMESPACE_STD


280 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

281 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

284 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

285 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

287 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


290 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

291 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

292 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

293 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

295 #ifdeà
__OPTIMIZE__


296 
__ex‹º_®ways_šlše
 *

297 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


299  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

302 
__ex‹º_®ways_šlše
 const *

303 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


305  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

308 
	}
}

310 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

311 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

314 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


317 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

318 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

319 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

320 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

322 #ifdeà
__OPTIMIZE__


323 
__ex‹º_®ways_šlše
 *

324 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


326  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

329 
__ex‹º_®ways_šlše
 const *

330 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


332  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

335 
	}
}

337 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

338 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

343 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

344 
__THROW
 
	`__nÚnuÎ
 ((2));

345 
__END_NAMESPACE_STD


349 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

350 cÚ¡ *
__»¡riù
 
__d–im
,

351 **
__»¡riù
 
__§ve_±r
)

352 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

353 #ifdeà
__USE_POSIX


354 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

355 **
__»¡riù
 
__§ve_±r
)

356 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

359 #ifdeà
__USE_GNU


361 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


362 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

363 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

364 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

365 cÚ¡ *
__ÃedË
)

366 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

368 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

369 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

373 #ifdeà
__USE_GNU


377 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

378 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

379 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

383 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

384 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

385 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

386 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

387 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

388 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

392 
__BEGIN_NAMESPACE_STD


394 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

395 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

396 
__END_NAMESPACE_STD


398 #ifdef 
__USE_XOPEN2K8


401 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

402 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

406 
__BEGIN_NAMESPACE_STD


408 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

409 
__END_NAMESPACE_STD


410 #ifdeà
__USE_XOPEN2K


418 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


421 #ifdeà
__REDIRECT_NTH


422 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

423 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

424 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

426 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

427 
__THROW
 
	`__nÚnuÎ
 ((2));

428 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

433 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

434 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

438 #ifdeà
__USE_XOPEN2K8


440 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

446 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

448 #ifdeà
__USE_MISC


450 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

451 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

457 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

458 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

461 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


464 *
	`šdex
 (*
__s
, 
__c
)

465 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

466 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

467 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

469 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


470 
__ex‹º_®ways_šlše
 *

471 
	`šdex
 (*
__s
, 
__c
è
__THROW


473  
	`__butš_šdex
 (
__s
, 
__c
);

476 
__ex‹º_®ways_šlše
 const *

477 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


479  
	`__butš_šdex
 (
__s
, 
__c
);

482 
	}
}

484 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

485 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

489 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


492 *
	`ršdex
 (*
__s
, 
__c
)

493 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

494 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

495 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

497 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


498 
__ex‹º_®ways_šlše
 *

499 
	`ršdex
 (*
__s
, 
__c
è
__THROW


501  
	`__butš_ršdex
 (
__s
, 
__c
);

504 
__ex‹º_®ways_šlše
 const *

505 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


507  
	`__butš_ršdex
 (
__s
, 
__c
);

510 
	}
}

512 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

513 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

518 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

522 #ifdef 
__USE_GNU


523 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

524 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

525 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

529 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

530 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

533 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

534 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

537 #ifdef 
__USE_GNU


540 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

541 
__loÿË_t
 
__loc
)

542 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

544 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

545 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

546 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

549 #ifdef 
__USE_MISC


552 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

553 cÚ¡ *
__»¡riù
 
__d–im
)

554 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

557 #ifdef 
__USE_XOPEN2K8


559 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

562 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

563 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

564 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

565 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

569 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

570 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

571 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

572 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

573 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

574 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

577 #ifdef 
__USE_GNU


579 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

580 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

583 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

586 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

588 #iâdeà
ba£Çme


593 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


594 "C++" *
	$ba£Çme
 (*
__f’ame
)

595 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

596 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

597 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

599 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

605 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

606 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

607 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


627 
	~<b™s/¡ršg.h
>

630 
	~<b™s/¡ršg2.h
>

633 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


635 
	~<b™s/¡ršg3.h
>

639 #ià
defšed
 
__USE_GNU
 && defšed 
__OPTIMIZE__
 \

640 && 
defšed
 
__ex‹º_®ways_šlše
 && 
	$__GNUC_PREREQ
 (3,2)

641 #ià!
defšed
 
_FORCE_INLINES
 && !defšed 
_HAVE_STRING_ARCH_mempıy


643 #undeà
mempıy


644 #undeà
__mempıy


645 
	#mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy_šlše
 (de¡, src,‚)

	)

646 
	#__mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy_šlše
 (de¡, src,‚)

	)

648 
__ex‹º_®ways_šlše
 *

649 
	$__mempıy_šlše
 (*
__»¡riù
 
__de¡
,

650 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

652  (*è
	`memıy
 (
__de¡
, 
__¤c
, 
__n
) + __n;

653 
	}
}

658 
	g__END_DECLS


	@/usr/include/time.h

22 #iâdef 
_TIME_H


24 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

25 ! 
defšed
 
	g__Ãed_time¥ec
)

26 
	#_TIME_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__Ãed_size_t


	)

36 
	#__Ãed_NULL


	)

37 
	~<¡ddef.h
>

41 
	~<b™s/time.h
>

44 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


45 #iâdeà
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

53 
	#__şock_t_defšed
 1

	)

55 
	~<b™s/ty³s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__şock_t
 
	tşock_t
;

60 
	g__END_NAMESPACE_STD


61 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX


62 
	$__USING_NAMESPACE_STD
(
şock_t
)

66 #undeà
__Ãed_şock_t


68 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

69 
	#__time_t_defšed
 1

	)

71 
	~<b™s/ty³s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #ifdeà
__USE_POSIX


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #undeà
__Ãed_time_t


84 #ià!
defšed
 
__şockid_t_defšed
 && \

85 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

86 
	#__şockid_t_defšed
 1

	)

88 
	~<b™s/ty³s.h
>

91 
__şockid_t
 
	tşockid_t
;

94 #undeà
__şockid_time_t


96 #ià!
defšed
 
__tim”_t_defšed
 && \

97 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

98 
	#__tim”_t_defšed
 1

	)

100 
	~<b™s/ty³s.h
>

103 
__tim”_t
 
	ttim”_t
;

106 #undeà
__Ãed_tim”_t


109 #ià(!
defšed
 
__time¥ec_defšed
 \

110 && ((
defšed
 
_TIME_H
 \

111 && (
defšed
 
__USE_POSIX199309
 \

112 || 
defšed
 
__USE_ISOC11
)) \

113 || 
defšed
 
__Ãed_time¥ec
))

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
__sysÿÎ_¦Úg_t
 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_MISC


146 
tm_gmtoff
;

147 cÚ¡ *
tm_zÚe
;

149 
__tm_gmtoff
;

150 cÚ¡ *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 #ifdeà
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
şock_t
 
	$şock
 (è
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

195 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

196 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

199 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

205 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

206 cÚ¡ *
__»¡riù
 
__fÜm©
,

207 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifdeà
__USE_XOPEN


213 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

214 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

215 
__THROW
;

218 #ifdeà
__USE_XOPEN2K8


221 
	~<xloÿË.h
>

223 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

224 cÚ¡ *
__»¡riù
 
__fÜm©
,

225 cÚ¡ 
tm
 *
__»¡riù
 
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

229 #ifdeà
__USE_GNU


230 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

231 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

232 
__loÿË_t
 
__loc
è
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

243 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

244 
__END_NAMESPACE_STD


246 #ifdeà
__USE_POSIX


249 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

250 
tm
 *
__»¡riù
 
__
è
__THROW
;

254 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

255 
tm
 *
__»¡riù
 
__
è
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

264 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

265 
__END_NAMESPACE_STD


267 #ifdeà
__USE_POSIX


272 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

273 *
__»¡riù
 
__buf
è
__THROW
;

276 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

277 *
__»¡riù
 
__buf
è
__THROW
;

282 *
__tzÇme
[2];

283 
__daylight
;

284 
__timezÚe
;

287 #ifdef 
__USE_POSIX


289 *
tzÇme
[2];

293 
	$tz£t
 (è
__THROW
;

296 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


297 
daylight
;

298 
timezÚe
;

301 #ifdeà
__USE_MISC


304 
	$¡ime
 (cÚ¡ 
time_t
 *
__wh’
è
__THROW
;

310 
	#__i¦—p
(
y—r
) \

311 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

314 #ifdeà
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

322 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

325 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

329 #ifdeà
__USE_POSIX199309


334 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

335 
time¥ec
 *
__»maššg
);

339 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

342 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

345 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

346 
__THROW
;

348 #ifdeà
__USE_XOPEN2K


353 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

354 cÚ¡ 
time¥ec
 *
__»q
,

355 
time¥ec
 *
__»m
);

358 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

363 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

364 
sigev’t
 *
__»¡riù
 
__evp
,

365 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

368 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

371 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

372 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

373 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

376 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

377 
__THROW
;

380 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

384 #ifdeà
__USE_ISOC11


386 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__nÚnuÎ
 ((1));

391 #ifdeà
__USE_XOPEN_EXTENDED


403 
g‘d©e_”r
;

412 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

415 #ifdeà
__USE_GNU


426 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

427 
tm
 *
__»¡riù
 
__»sbuå
);

430 
__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

70 
	#_POSIX2_C_VERSION
 
__POSIX2_THIS_VERSION


	)

74 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

78 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

82 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

86 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

89 #ifdeà
__USE_XOPEN2K8


90 
	#_XOPEN_VERSION
 700

	)

91 #–ià
defšed
 
__USE_XOPEN2K


92 
	#_XOPEN_VERSION
 600

	)

93 #–ià
defšed
 
__USE_UNIX98


94 
	#_XOPEN_VERSION
 500

	)

96 
	#_XOPEN_VERSION
 4

	)

100 
	#_XOPEN_XCU_VERSION
 4

	)

103 
	#_XOPEN_XPG2
 1

	)

104 
	#_XOPEN_XPG3
 1

	)

105 
	#_XOPEN_XPG4
 1

	)

108 
	#_XOPEN_UNIX
 1

	)

111 
	#_XOPEN_CRYPT
 1

	)

115 
	#_XOPEN_ENH_I18N
 1

	)

118 
	#_XOPEN_LEGACY
 1

	)

205 
	~<b™s/posix_İt.h
>

208 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


209 
	~<b™s/’vœÚm’ts.h
>

213 
	#STDIN_FILENO
 0

	)

214 
	#STDOUT_FILENO
 1

	)

215 
	#STDERR_FILENO
 2

	)

220 
	~<b™s/ty³s.h
>

222 #iâdef 
__ssize_t_defšed


223 
__ssize_t
 
	tssize_t
;

224 
	#__ssize_t_defšed


	)

227 
	#__Ãed_size_t


	)

228 
	#__Ãed_NULL


	)

229 
	~<¡ddef.h
>

231 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


234 #iâdeà
__gid_t_defšed


235 
__gid_t
 
	tgid_t
;

236 
	#__gid_t_defšed


	)

239 #iâdeà
__uid_t_defšed


240 
__uid_t
 
	tuid_t
;

241 
	#__uid_t_defšed


	)

244 #iâdeà
__off_t_defšed


245 #iâdeà
__USE_FILE_OFFSET64


246 
__off_t
 
	toff_t
;

248 
__off64_t
 
	toff_t
;

250 
	#__off_t_defšed


	)

252 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


253 
__off64_t
 
	toff64_t
;

254 
	#__off64_t_defšed


	)

257 #iâdeà
__u£cÚds_t_defšed


258 
__u£cÚds_t
 
	tu£cÚds_t
;

259 
	#__u£cÚds_t_defšed


	)

262 #iâdeà
__pid_t_defšed


263 
__pid_t
 
	tpid_t
;

264 
	#__pid_t_defšed


	)

268 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


269 #iâdeà
__šŒ_t_defšed


270 
__šŒ_t
 
	tšŒ_t
;

271 
	#__šŒ_t_defšed


	)

275 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


276 #iâdeà
__sockËn_t_defšed


277 
__sockËn_t
 
	tsockËn_t
;

278 
	#__sockËn_t_defšed


	)

284 
	#R_OK
 4

	)

285 
	#W_OK
 2

	)

286 
	#X_OK
 1

	)

287 
	#F_OK
 0

	)

290 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

292 #ifdeà
__USE_GNU


295 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

296 
__THROW
 
	`__nÚnuÎ
 ((1));

299 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

300 
__THROW
 
	`__nÚnuÎ
 ((1));

303 #ifdeà
__USE_ATFILE


307 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

308 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

313 #iâdef 
_STDIO_H


314 
	#SEEK_SET
 0

	)

315 
	#SEEK_CUR
 1

	)

316 
	#SEEK_END
 2

	)

317 #ifdeà
__USE_GNU


318 
	#SEEK_DATA
 3

	)

319 
	#SEEK_HOLE
 4

	)

323 #ià
defšed
 
__USE_MISC
 && !defšed 
L_SET


325 
	#L_SET
 
SEEK_SET


	)

326 
	#L_INCR
 
SEEK_CUR


	)

327 
	#L_XTND
 
SEEK_END


	)

336 #iâdeà
__USE_FILE_OFFSET64


337 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

339 #ifdeà
__REDIRECT_NTH


340 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

341 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

342 
l£ek64
);

344 
	#l£ek
 
l£ek64


	)

347 #ifdeà
__USE_LARGEFILE64


348 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

349 
__THROW
;

356 
	`şo£
 (
__fd
);

363 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur
;

369 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur
;

371 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


372 #iâdeà
__USE_FILE_OFFSET64


379 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

380 
__off_t
 
__off£t
è
__wur
;

387 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

388 
__off_t
 
__off£t
è
__wur
;

390 #ifdeà
__REDIRECT


391 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

392 
__off64_t
 
__off£t
),

393 
´—d64
è
__wur
;

394 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

395 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

396 
pwr™e64
è
__wur
;

398 
	#´—d
 
´—d64


	)

399 
	#pwr™e
 
pwr™e64


	)

403 #ifdeà
__USE_LARGEFILE64


407 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

408 
__off64_t
 
__off£t
è
__wur
;

411 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

412 
__off64_t
 
__off£t
è
__wur
;

420 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

422 #ifdeà
__USE_GNU


425 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

435 
	$®¬m
 (
__£cÚds
è
__THROW
;

447 
	`¦“p
 (
__£cÚds
);

449 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

450 || 
defšed
 
__USE_MISC


455 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

456 
__THROW
;

463 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

472 
	`·u£
 ();

476 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

477 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

479 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


481 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

486 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

487 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

491 #ifdeà
__USE_ATFILE


494 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

495 
__gid_t
 
__group
, 
__æag
)

496 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

500 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

502 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


504 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

514 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

516 #ifdef 
__USE_GNU


520 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

523 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

524 || 
defšed
 
__USE_MISC


528 *
	$g‘wd
 (*
__buf
)

529 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
;

534 
	$dup
 (
__fd
è
__THROW
 
__wur
;

537 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

539 #ifdeà
__USE_GNU


542 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

546 **
__’vœÚ
;

547 #ifdeà
__USE_GNU


548 **
’vœÚ
;

554 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

555 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

557 #ifdeà
__USE_XOPEN2K8


560 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

561 
__THROW
 
	`__nÚnuÎ
 ((2));

566 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

567 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

571 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

572 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

576 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

577 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

581 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

582 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

587 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

588 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

590 #ifdeà
__USE_GNU


593 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

594 *cÚ¡ 
__’vp
[])

595 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

599 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


601 
	$niû
 (
__šc
è
__THROW
 
__wur
;

606 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

612 
	~<b™s/cÚâame.h
>

615 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

616 
__THROW
 
	`__nÚnuÎ
 ((1));

619 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

622 
	$syscÚf
 (
__Çme
è
__THROW
;

624 #ifdef 
__USE_POSIX2


626 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

631 
__pid_t
 
	$g‘pid
 (è
__THROW
;

634 
__pid_t
 
	$g‘µid
 (è
__THROW
;

637 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

640 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

641 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


642 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

649 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

651 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


663 
	$£g½
 (è
__THROW
;

670 
__pid_t
 
	$£tsid
 (è
__THROW
;

672 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


674 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

678 
__uid_t
 
	$g‘uid
 (è
__THROW
;

681 
__uid_t
 
	$g‘euid
 (è
__THROW
;

684 
__gid_t
 
	$g‘gid
 (è
__THROW
;

687 
__gid_t
 
	$g‘egid
 (è
__THROW
;

692 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur
;

694 #ifdef 
__USE_GNU


696 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

703 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

705 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


708 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

711 #ifdeà
__USE_XOPEN2K


713 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

720 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

722 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


725 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

728 #ifdeà
__USE_XOPEN2K


730 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

733 #ifdeà
__USE_GNU


736 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

737 
__THROW
;

741 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

742 
__THROW
;

746 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

747 
__THROW
 
__wur
;

751 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

752 
__THROW
 
__wur
;

759 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

761 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

762 || 
defšed
 
__USE_MISC


767 
__pid_t
 
	$vfÜk
 (è
__THROW
;

773 *
	$‰yÇme
 (
__fd
è
__THROW
;

777 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

778 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

782 
	$i§‰y
 (
__fd
è
__THROW
;

784 #ià
defšed
 
__USE_MISC
 \

785 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_UNIX98
)

788 
	$‰y¦Ù
 (è
__THROW
;

793 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

794 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

796 #ifdeà
__USE_ATFILE


799 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

800 cÚ¡ *
__to
, 
__æags
)

801 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

804 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


806 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

807 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

812 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

813 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

814 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

817 #ifdeà
__USE_ATFILE


819 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

820 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

823 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

824 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

825 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

829 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

831 #ifdeà
__USE_ATFILE


833 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

834 
__THROW
 
	`__nÚnuÎ
 ((2));

838 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

842 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

845 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

852 *
	`g‘logš
 ();

853 #ià
defšed
 
__USE_REENTRANT
 || defšed 
__USE_POSIX199506


860 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1));

863 #ifdef 
__USE_MISC


865 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

869 #ifdef 
__USE_POSIX2


873 
	#__Ãed_g‘İt


	)

874 
	~<g‘İt.h
>

878 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


882 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1));

886 #ià
defšed
 
__USE_MISC


889 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

890 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

894 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

900 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

901 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

902 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

903 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

909 
	$vhªgup
 (è
__THROW
;

912 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

920 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

921 
size_t
 
__off£t
, 
__sÿË
)

922 
__THROW
 
	`__nÚnuÎ
 ((1));

928 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

932 *
	$g‘u£rsh–l
 (è
__THROW
;

933 
	$’du£rsh–l
 (è
__THROW
;

934 
	$£tu£rsh–l
 (è
__THROW
;

940 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

944 #ià
defšed
 
__USE_MISC
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

947 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

951 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

959 
	`fsync
 (
__fd
);

962 #ifdeà
__USE_GNU


965 
	$syncfs
 (
__fd
è
__THROW
;

969 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


972 
	`g‘ho¡id
 ();

975 
	$sync
 (è
__THROW
;

978 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K


981 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

986 
	$g‘dbËsize
 (è
__THROW
;

992 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


995 #iâdeà
__USE_FILE_OFFSET64


996 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

997 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

999 #ifdeà
__REDIRECT_NTH


1000 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

1001 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

1002 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1004 
	#Œunÿ‹
 
Œunÿ‹64


	)

1007 #ifdeà
__USE_LARGEFILE64


1008 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1009 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1014 #ià
defšed
 
__USE_POSIX199309
 \

1015 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1018 #iâdeà
__USE_FILE_OFFSET64


1019 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1021 #ifdeà
__REDIRECT_NTH


1022 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1023 
árunÿ‹64
è
__wur
;

1025 
	#árunÿ‹
 
árunÿ‹64


	)

1028 #ifdeà
__USE_LARGEFILE64


1029 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1035 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1036 || 
defšed
 
__USE_MISC


1040 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1046 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1050 #ifdeà
__USE_MISC


1061 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1066 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1078 
	#F_ULOCK
 0

	)

1079 
	#F_LOCK
 1

	)

1080 
	#F_TLOCK
 2

	)

1081 
	#F_TEST
 3

	)

1083 #iâdeà
__USE_FILE_OFFSET64


1084 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1086 #ifdeà
__REDIRECT


1087 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1088 
lockf64
è
__wur
;

1090 
	#lockf
 
lockf64


	)

1093 #ifdeà
__USE_LARGEFILE64


1094 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1099 #ifdeà
__USE_GNU


1104 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1105 (
__ex‹nsiÚ__
 \

1106 ({ 
__»suÉ
; \

1107 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1108 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1109 
__»suÉ
; 
	}
}))

	)

1112 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1115 
fd©async
 (
__fdes
);

1121 #ifdef 
__USE_XOPEN


1123 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1124 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1128 
	$’üy±
 (*
__glibc_block
, 
__edæag
)

1129 
__THROW
 
	`__nÚnuÎ
 ((1));

1136 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1137 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1143 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1145 *
	$ù”mid
 (*
__s
è
__THROW
;

1150 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1151 
	~<b™s/uni¡d.h
>

1154 
__END_DECLS


	@execution/CreateExecutor.h

1 #iâdeà
CREATEEXECUTOR_H_INCLUDED


2 
	#CREATEEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

5 şas 
	cC»©eExecutÜ
: 
Qu”yExecutÜ


7 
public
:

8 
C»©eExecutÜ
();

9 ~
C»©eExecutÜ
();

10 
execu‹
(
qu”y_Œ“
 
qt
);

11 
£tStus
(
a
);

12 
g‘Stus
();

	@execution/DeleteExecutor.h

1 #iâdeà
DELETEEXECUTOR_H_INCLUDED


2 
	#DELETEEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

4 
	~<¡ack
>

6 şas 
	cD–‘eExecutÜ
:
Qu”yExecutÜ


8 
public
:

9 
D–‘eExecutÜ
();

10 ~
D–‘eExecutÜ
();

11 
execu‹
(
qu”y_Œ“
 
qt
);

12 
d–‘eAÎ
(*
bËName
);

13 
£tStus
(
a
);

14 
g‘Stus
();

15 
£tChdNum
(
a
);

16 
g‘ChdNum
();

18 
	m´iv©e
:

19 
chdNum
;

20 
	mcÚdCursÜ
;

21 
	m¡ack
<*> 
	msd
;

22 
	m¡ack
 <> 
	msdTy³
;

23 
CÚd™iÚ
 
	mcÚd
[
MAX_CONDITION_LEN
];

24 
boŞ
 
·r£
();

25 
boŞ
 
decÜ©e
(
cursÜ
);

	@execution/DropExecutor.h

1 #iâdeà
DROPEXECUTOR_H_INCLUDED


2 
	#DROPEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

5 şas 
	cDrİExecutÜ
:
Qu”yExecutÜ


7 
public
:

8 
DrİExecutÜ
();

9 ~
DrİExecutÜ
();

10 
execu‹
(
qu”y_Œ“
 
qt
);

11 
£tStus
(
a
);

12 
g‘Stus
();

	@execution/InsertExecutor.h

1 #iâdeà
INSERTEXECUTOR_H_INCLUDED


2 
	#INSERTEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

5 şas 
	cIn£¹ExecutÜ
:
Qu”yExecutÜ


7 
public
:

8 
In£¹ExecutÜ
();

9 ~
In£¹ExecutÜ
();

10 
execu‹
(
qu”y_Œ“
 
qt
);

11 
£tStus
(
a
);

12 
g‘Stus
();

13 
£tChdNum
(
a
);

14 
g‘ChdNum
();

15 
	m´iv©e
:

16 
chdNum
;

	@execution/JoinExecutor.h

1 #iâdeà
JOINEXECUTOR_H_INCLUDED


2 
	#JOINEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

4 
	~<¡ack
>

5 
	~<io¡»am
>

7 şas 
	cJošExecutÜ
:
Qu”yExecutÜ


9 
public
:

10 
JošExecutÜ
();

11 ~
JošExecutÜ
();

12 
execu‹
(
qu”y_Œ“
 
qt
);

13 
£tStus
(
a
);

14 
g‘Stus
();

15 
£tChdNum
(
a
);

16 
g‘ChdNum
();

18 
	m´iv©e
:

19 
chdNum
;

20 
	mcÚdCursÜ
;

21 
	mbËSeq
[2*
MAX_CONDITION_LEN
][
MAX_TABLE_NAME_LEN
];

22 
	mbËSeqCursÜ
;

23 
	m¡ack
<*> 
	msd
;

24 
	m¡ack
<> 
	msdTy³
;

25 
CÚd™iÚ
 
	mcÚd
[
MAX_CONDITION_LEN
];

26 
boŞ
 
·r£
();

27 
boŞ
 
decÜ©e
(
cursÜ
);

28 
£ËùAÎ
();

29 
fšdCh¬
(* 
¡r
, 
a
);

30 
»çùÜSŒšg
Ğ*
tb
, * 
f›ld
, *
¡r
, 
£q
);

	@execution/QueryExecutor.h

1 #iâdeà
QUERYEXECUTOR_H_INCLUDED


2 
	#QUERYEXECUTOR_H_INCLUDED


	)

3 
	~<m­
>

4 
	~"../commÚ.h
"

5 
	~"../·r£r/·r£r.h
"

6 
	~"../bË/TabË.h
"

7 
	~"../bË/m‘a.h
"

8 
	~"../ut/D©aUt.h
"

9 
	~"../SPJ/SPJ.h
"

10 
	~"../SPJ/S–eùiÚ.h
"

11 
	~"../SPJ/Još.h
"

12 
	~"../SPJ/ProjeùiÚ.h
"

14 
	#MAX_CONDITION_LEN
 64

	)

16 
usšg
 
Çme¥aû
 
	g¡d
;

17 
qu”y_Œ“
 
qu”yT»e
;

18 
m‘a_f›ld
 
mfLi¡
[
MAX_MF_LIST
];

19 
m‘a_f›ld_ch¬
 
mfcLi¡
[
MAX_MFC_LIST
];

20 
mfLi¡CursÜ
;

21 
mfcLi¡CursÜ
;

24 
cu¼’tTabËFp
 
ùå
;

25 
cu¼’tTabËLi¡Num
;

26 
äomLi¡
 
cu¼’tTabËLi¡
[
MAX_TABLE_LIST
];

27 
‹mpTu¶e
 
‰™
;

28 
d–‘eWh”e
 
dw
;

29 
upd©eWh”e
 
uw
;

30 
£ËùWh”e
 
sw
;

31 
jošWh”e
 
jw
;

33 şas 
	cQu”yExecutÜ


35 
	mpublic
:

36 
Qu”yExecutÜ
();

37 ~
Qu”yExecutÜ
();

38 
execu‹
();

39 
£tStus
(
a
);

40 
g‘Stus
();

41 
	mwÜkDœ
[64];

42 
	m´iv©e
:

43 
¡©us
;

	@execution/SelectExecutor.h

1 #iâdeà
SELECTEXECUTOR_H_INCLUDED


2 
	#SELECTEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

4 
	~<¡ack
>

5 
	~<io¡»am
>

7 şas 
	cS–eùExecutÜ
:
Qu”yExecutÜ


9 
public
:

10 
S–eùExecutÜ
();

11 ~
S–eùExecutÜ
();

12 
execu‹
(
qu”y_Œ“
 
qt
);

13 
£tStus
(
a
);

14 
g‘Stus
();

15 
£tChdNum
(
a
);

16 
g‘ChdNum
();

18 
	m´iv©e
:

19 
chdNum
;

20 
	mcÚdCursÜ
;

21 
	m¡ack
<*> 
	msd
;

22 
	m¡ack
<> 
	msdTy³
;

23 
CÚd™iÚ
 
	mcÚd
[
MAX_CONDITION_LEN
];

24 
boŞ
 
·r£
();

25 
boŞ
 
decÜ©e
(
cursÜ
);

26 
£ËùAÎ
();

	@execution/UpdateExecutor.h

1 #iâdeà
UPDATEEXECUTOR_H_INCLUDED


2 
	#UPDATEEXECUTOR_H_INCLUDED


	)

3 
	~"Qu”yExecutÜ.h
"

4 
	~<¡ack
>

5 
	~<io¡»am
>

9 şas 
	cUpd©eExecutÜ
:
Qu”yExecutÜ


11 
public
:

12 
Upd©eExecutÜ
();

13 ~
Upd©eExecutÜ
();

14 
execu‹
(
qu”y_Œ“
 
qt
);

15 
£tStus
(
a
);

16 
g‘Stus
();

17 
£tChdNum
(
a
);

18 
g‘ChdNum
();

20 
	m´iv©e
:

21 
chdNum
;

22 
	mcÚdCursÜ
;

23 
	massCursÜ
;

24 
	m¡ack
<*> 
	msd
;

25 
	m¡ack
<> 
	msdTy³
;

26 
CÚd™iÚ
 
	mcÚd
[
MAX_CONDITION_LEN
];

27 
boŞ
 
·r£
();

28 
boŞ
 
decÜ©e
(
cursÜ
);

29 
·r£Ass
();

30 
	m¡r
[
MAX_FIELD_NAME_LEN
];

31 
	mf›ldName
[
MAX_FIELD_NAME_LEN
];

32 
	mštV®ue
;

33 
	mæßtV®ue
;

34 
	mæag
;

	@parser/parser.h

1 #iâdeà
PARSER


2 
	#PARSER


	)

3 
	~"../commÚ.h
"

4 
	#MAX_MFC_LIST
 10

	)

5 
	#MAX_MF_LIST
 10

	)

6 
	#MAX_FROM_LIST
 10

	)

7 
	#MAX_TABLE_LIST
 20

	)

8 
	#MAX_FIELD_NAME_LEN
 64

	)

9 
	#MAX_TABLE_NAME_LEN_PARSER
 64

	)

10 
	#MAX_TYPE_FILED_NUM
 64

	)

11 
	#MAX_CHAR_VARCHAR_LENGTH
 64

	)

12 
	#MAX_WHERE_ITEM_NUM
 64

	)

13 
	#MAX_WHERE_ITEM_LENGTH
 64

	)

24 
	sm‘a_f›ld
{

25 
By‹
 
	md©aTy³FÏg
;

26 
	mf›ldName
[
MAX_FIELD_NAME_LEN
];

27 }
	tm‘a_f›ld
;

29 
	sm‘a_f›ld_ch¬
{

30 
By‹
 
	md©aTy³FÏg
;

31 
	mf›ldName
[
MAX_FIELD_NAME_LEN
];

32 
	mËn
;

33 } 
	tm‘a_f›ld_ch¬
;

35 
	säomLi¡
{

36 
	mÇme
[
MAX_TABLE_NAME_LEN_PARSER
];

37 
	mf›ldNum
;

38 
m‘a_f›ld_ch¬
 
	mmfc_li¡
[
MAX_MFC_LIST
];

39 
m‘a_f›ld
 
	mmf_li¡
[
MAX_MF_LIST
];

40 } 
	täomLi¡
;

53 
	squ”y_Œ“
{

54 
	mqu”y_ty³
;

55 
	mäomLi¡Num
;

56 
äomLi¡
 
	mbËLi¡
[
MAX_FROM_LIST
];

57 } 
	tqu”y_Œ“
;

59 
	scu¼’tTabËFp
{

60 
FILE
 * 
	mcu¼’tFp
;

61 
	mÇme
[
MAX_TABLE_NAME_LEN_PARSER
];

62 } 
	tcu¼’tTabËFp
;

64 
	s‹mpTu¶e
{

65 
	mf›ldNum
;

66 
	mštNum
;

67 
	mæßtNum
;

68 
	m¡ršgNum
;

69 
	mštF›ld
[
MAX_TYPE_FILED_NUM
];

70 
	mæßtF›ld
[
MAX_TYPE_FILED_NUM
];

71 
	m¡ršgF›ld
[
MAX_TYPE_FILED_NUM
][
MAX_CHAR_VARCHAR_LENGTH
];

72 
	mbËName
[
MAX_TABLE_NAME_LEN_PARSER
];

73 } 
	t‹mpTu¶e
;

76 
	sd–‘eWh”e
{

86 
	mbËName
[
MAX_TABLE_NAME_LEN_PARSER
];

87 
	mwh”e
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

99 
	mty³
[
MAX_WHERE_ITEM_LENGTH
];

100 
	mwh”eCursÜ
;

101 }
	td–‘eWh”e
;

103 
	supd©eWh”e
{

104 
	mbËName
[
MAX_TABLE_NAME_LEN_PARSER
];

105 
	mwh”e
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

117 
	mty³
[
MAX_WHERE_ITEM_LENGTH
];

118 
	mwh”eCursÜ
;

119 
	mass
;

120 
	massWh”e
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

121 
	massTy³
[
MAX_WHERE_ITEM_NUM
];

122 
	massCursÜ
;

123 }
	tupd©eWh”e
;

125 
	s£ËùWh”e
{

126 
	mbËName
[
MAX_TABLE_NAME_LEN_PARSER
];

127 
	mwh”e
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

128 
	mty³
[
MAX_WHERE_ITEM_LENGTH
];

129 
	mwh”eCursÜ
;

130 
	misAÎ
;

132 
	mf›ldLi¡
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

133 
	mf›ldNum
;

134 
	misProj
;

135 }
	t£ËùWh”e
;

137 
	sjošWh”e
{

138 
	mbËLi¡
[
MAX_TABLE_LIST
][
MAX_TABLE_NAME_LEN_PARSER
];

139 
	mbËCursÜ
;

141 
	mf›ldLi¡
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

142 
	mf›ldNum
;

144 
	mwh”e
[
MAX_WHERE_ITEM_NUM
][
MAX_WHERE_ITEM_LENGTH
];

145 
	mty³
[
MAX_WHERE_ITEM_LENGTH
];

146 
	mwh”eCursÜ
;

148 
	misAÎ
;

149 
	misProj
;

151 }
	tjošWh”e
;

	@parser/sql-parser.h

1 #iâdeà
__SQL_PARSER_H__


2 
	#__SQL_PARSER_H__


	)

4 
	esqÍ_cŞ_©Œibs
 {

5 
	mSCA_NOTNULL
 = (1 << 0),

6 
	mSCA_DEF_STR
 = (1 << 1),

7 
	mSCA_DEF_NUM
 = (1 << 2),

8 
	mSCA_DEF_FLOAT
 = (1 << 3),

9 
	mSCA_DEF_BOOL
 = (1 << 4),

10 
	mSCA_AUTOINC
 = (1 << 5),

11 
	mSCA_UNIQUE_KEY
 = (1 << 6),

12 
	mSCA_PRIMARY_KEY
 = (1 << 7),

13 
	mSCA_COMMENT
 = (1 << 8),

16 
	esqÍ_ex´_İs
 {

17 
	mSEO_ADD
 = 0,

18 
	mSEO_SUB
 = 1,

19 
	mSEO_MUL
 = 2,

20 
	mSEO_DIV
 = 3,

21 
	mSEO_MOD
 = 4,

22 
	mSEO_NEG
 = 5,

23 
	mSEO_AND
 = 6,

24 
	mSEO_OR
 = 7,

25 
	mSEO_XOR
 = 8,

26 
	mSEO_BITOR
 = 9,

27 
	mSEO_BITAND
 = 10,

28 
	mSEO_BITXOR
 = 11,

29 
	mSEO_SHIFT
 = 12,

30 
	mSEO_NOT
 = 13,

31 
	mSEO_ASSIGN
 = 14,

32 
	mSEO_IS_NULL
 = 15,

33 
	mSEO_SHR
 = 16,

34 
	mSEO_SHL
 = 17,

35 
	mSEO_BETWEEN
 = 18,

36 
	mSEO_EXISTS
 = 19,

37 
	mSEO_IN_SELECT
 = 20,

38 
	mSEO_LIKE
 = 21,

39 
	mSEO_REGEX
 = 22,

40 
	mSEO_STRTOBIN
 = 23,

43 
	esqÍ_d©e_š‹rv®s
 {

44 
	mSDI_DAY_HOUR
 = 0,

45 
	mSDI_DAY_MICROSECOND
 = 1,

46 
	mSDI_DAY_MINUTE
 = 2,

47 
	mSDI_DAY_SECOND
 = 3,

48 
	mSDI_YEAR_MONTH
 = 4,

49 
	mSDI_YEAR
 = 5,

50 
	mSDI_HOUR_MICROSECOND
 = 6,

51 
	mSDI_HOUR_MINUTE
 = 7,

52 
	mSDI_HOUR_SECOND
 = 8,

55 
	spsql_¡©e
 {

56 
yysÿn_t
 
	msÿÂ”
;

59 
sqÍ_®Ÿs
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
®Ÿs
);

60 
sqÍ_assign
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
db_Çme
, cÚ¡ *
Çme
);

61 
sqÍ_assign_©
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

62 
sqÍ_boŞ
(
psql_¡©e
 *
p¡©e
, 
v®
);

63 
sqÍ_ÿÎ
(
psql_¡©e
 *
p¡©e
, 
n_¬gs
, cÚ¡ *
Çme
);

64 
sqÍ_ÿÎ_d©e
(
psql_¡©e
 *
p¡©e
, 
n_¬gs
, 
sqÍ_ex´_İs
 
İ
);

65 
sqÍ_ÿÎ_Œim_İts
(
psql_¡©e
 *
p¡©e
, 
Œim_İts
);

66 
sqÍ_ÿ£
(
psql_¡©e
 *
p¡©e
, 
n_li¡
, 
have_–£
);

67 
sqÍ_ÿ£v®
(
psql_¡©e
 *
p¡©e
, 
n_li¡
, 
have_–£
);

68 
sqÍ_cŞ_©Œ
(
psql_¡©e
 *
p¡©e
, 
sqÍ_cŞ_©Œibs
 
©Œ
);

69 
sqÍ_cŞ_©Œ_uniq
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

70 
sqÍ_cŞ_©Œ_comm
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
comm
);

71 
sqÍ_cŞ_ch¬£t
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
ch¬£t
);

72 
sqÍ_cŞ_cŞÏ‹
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
cŞÏ‹
);

73 
sqÍ_cŞ_def_¡r
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
¡r
);

74 
sqÍ_cŞ_def_num
(
psql_¡©e
 *
p¡©e
, 
num
);

75 
sqÍ_cŞ_def_æßt
(
psql_¡©e
 *
p¡©e
, 
num
);

76 
sqÍ_cŞ_def_boŞ
(
psql_¡©e
 *
p¡©e
, 
boŞs
);

77 
sqÍ_cŞ_key_´i
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

78 
sqÍ_cŞ_key
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

79 
sqÍ_cŞ_key_‹xtidx
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

80 
sqÍ_cŞumn
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

81 
sqÍ_ü—‹_db
(
psql_¡©e
 *
p¡©e
, 
if_n_exi¡s
, cÚ¡ *
Çme
);

82 
sqÍ_ü—‹_tbl
(
psql_¡©e
 *
p¡©e
, 
‹mp
, 
if_n_exi¡s
, 
n_cŞs
,

83 cÚ¡ *
db_Çme
, cÚ¡ *
Çme
);

84 
sqÍ_ü—‹_tbl_£l
(
psql_¡©e
 *
p¡©e
, 
‹mp
, 
if_n_exi¡s
, 
n_cŞs
,

85 cÚ¡ *
db_Çme
, cÚ¡ *
Çme
);

86 
sqÍ_ü—‹_£l
(
psql_¡©e
 *
p¡©e
, 
ignÜe_»¶aû
);

87 
sqÍ_d©e_š‹rv®
(
psql_¡©e
 *
p¡©e
, 
sqÍ_d©e_š‹rv®s
 
š‹rv®
);

88 
sqÍ_def_cŞ
(
psql_¡©e
 *
p¡©e
, 
æags
, cÚ¡ *
Çme
);

89 
sqÍ_d–‘e
(
psql_¡©e
 *
p¡©e
, 
İts
, cÚ¡ *
Çme
);

90 
sqÍ_d–‘e_muÉi
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_d–
, 
n_tbl_»f
);

91 
sqÍ_drİ_db
(
psql_¡©e
 *
p¡©e
, 
if_exi¡s
, cÚ¡ *
Çme
);

92 
sqÍ_drİ_bË
(
psql_¡©e
 *
p¡©e
, 
‹mp
, 
if_exi¡s
, 
n_bËs
);

93 
sqÍ_’um_v®
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
v®
);

94 
sqÍ_ex´_İ
(
psql_¡©e
 *
p¡©e
, 
sqÍ_ex´_İs
 
İ
);

95 
sqÍ_ex´_cmp
(
psql_¡©e
 *
p¡©e
, 
comp
);

96 
sqÍ_ex´_cmp_£l
(
psql_¡©e
 *
p¡©e
, 
£l_ty³
, 
comp
);

97 
sqÍ_ex´_is_boŞ
(
psql_¡©e
 *
p¡©e
, 
v®
);

98 
sqÍ_ex´_is_š
(
psql_¡©e
 *
p¡©e
, 
v®
);

99 
sqÍ_f›ldÇme
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
db_Çme
, cÚ¡ *
Çme
);

100 
sqÍ_æßt
(
psql_¡©e
 *
p¡©e
, 
v®
);

101 
sqÍ_group_by_li¡
(
psql_¡©e
 *
p¡©e
, 
n_li¡
, 
İts
);

102 
sqÍ_group_by
(
psql_¡©e
 *
p¡©e
, 
İts
);

103 
sqÍ_havšg
(
psql_¡©e
 *
p¡©e
);

104 
sqÍ_šdex
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

105 
sqÍ_šdex_hšt
(
psql_¡©e
 *
p¡©e
, 
n_šdexed
, 
İts
);

106 
sqÍ_šs_cŞs
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

107 
sqÍ_šs_deçuÉ
(
psql_¡©e
 *
p¡©e
);

108 
sqÍ_šs_dup_upd©e
(
psql_¡©e
 *
p¡©e
, 
n_as¢
);

109 
sqÍ_š£¹
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_v®s
, cÚ¡ *
tbl_Çme
);

110 
sqÍ_š£¹_as¢
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_as¢
, cÚ¡ *
tbl_Çme
);

111 
sqÍ_š£¹_£l
(
psql_¡©e
 *
p¡©e
, 
İts
, cÚ¡ *
tbl_Çme
);

112 
sqÍ_što
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

113 
sqÍ_još
(
psql_¡©e
 *
p¡©e
, 
İts
);

114 
sqÍ_još_ex´
(
psql_¡©e
 *
p¡©e
);

115 
sqÍ_još_usšg
(
psql_¡©e
 *
p¡©e
, 
n_cŞs
);

116 
sqÍ_lim™
(
psql_¡©e
 *
p¡©e
, 
two_ex´
);

117 
sqÍ_Çme
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

118 
sqÍ_now
(
psql_¡©e
 *
p¡©e
);

119 
sqÍ_numb”
(
psql_¡©e
 *
p¡©e
, 
v®
);

120 
sqÍ_Üd”_by
(
psql_¡©e
 *
p¡©e
, 
n_li¡
);

121 
sqÍ_»¶aû_as¢
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_as¢
, cÚ¡ *
Çme
);

122 
sqÍ_»¶aû_v®s
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_v®s
, cÚ¡ *
Çme
);

123 
sqÍ_»¶aû_£l
(
psql_¡©e
 *
p¡©e
, 
İts
, cÚ¡ *
Çme
);

124 
sqÍ_£Ëù
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_ex´
, 
n_tbl_»f
);

125 
sqÍ_£Ëù_nod©a
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_ex´
);

126 
sqÍ_£Ëù_®l
(
psql_¡©e
 *
p¡©e
);

127 
sqÍ_£t
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

128 
sqÍ_¡¬t_cŞ
(
psql_¡©e
 *
p¡©e
);

129 
sqÍ_¡ršg
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
¡r
);

130 
sqÍ_¡mt
(
psql_¡©e
 *
p¡©e
);

131 
sqÍ_subqu”y
(
psql_¡©e
 *
p¡©e
);

132 
sqÍ_subqu”y_as
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
Çme
);

133 
sqÍ_bË
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
db_Çme
, cÚ¡ *
Çme
);

134 
sqÍ_bË_»fs
(
psql_¡©e
 *
p¡©e
, 
n_»fs
);

135 
sqÍ_upd©e
(
psql_¡©e
 *
p¡©e
, 
İts
, 
n_tbl_»f
, 
n_as¢
);

136 
sqÍ_u£rv¬
(
psql_¡©e
 *
p¡©e
, cÚ¡ *
¡r
);

137 
sqÍ_v®ues
(
psql_¡©e
 *
p¡©e
, 
n_v®s
);

138 
sqÍ_wh”e
(
psql_¡©e
 *
p¡©e
);

	@parser/sql.tab.h

33 #iâdeà
YY_YY_SQL_TAB_H_INCLUDED


34 
	#YY_YY_SQL_TAB_H_INCLUDED


	)

36 #iâdeà
YYDEBUG


37 
	#YYDEBUG
 0

	)

39 #ià
YYDEBUG


40 
yydebug
;

45 *
	gf’ame
;

47 
	sYYLTYPE
 {

48 
	mfœ¡_lše
;

49 
	mfœ¡_cŞumn
;

50 
	mÏ¡_lše
;

51 
	mÏ¡_cŞumn
;

52 *
	mf’ame
;

53 } 
	tYYLTYPE
;

54 
	#YYLTYPE_IS_DECLARED
 1

	)

56 
	#YYLLOC_DEFAULT
(
Cu¼’t
, 
Rhs
, 
N
) \

58 ià(
N
) \

60 (
Cu¼’t
).
fœ¡_lše
 = 
	`YYRHSLOC
 (
Rhs
, 1).first_line; \

61 (
Cu¼’t
).
fœ¡_cŞumn
 = 
	`YYRHSLOC
 (
Rhs
, 1).first_column; \

62 (
Cu¼’t
).
Ï¡_lše
 = 
	`YYRHSLOC
 (
Rhs
, 
N
).last_line; \

63 (
Cu¼’t
).
Ï¡_cŞumn
 = 
	`YYRHSLOC
 (
Rhs
, 
N
).last_column; \

64 (
Cu¼’t
).
f’ame
 = 
	`YYRHSLOC
 (
Rhs
, 1).filename; \

68 (
Cu¼’t
).
fœ¡_lše
 = (Cu¼’t).
Ï¡_lše
 = \

69 
	`YYRHSLOC
 (
Rhs
, 0).
Ï¡_lše
; \

70 (
Cu¼’t
).
fœ¡_cŞumn
 = (Cu¼’t).
Ï¡_cŞumn
 = \

71 
	`YYRHSLOC
 (
Rhs
, 0).
Ï¡_cŞumn
; \

72 (
Cu¼’t
).
f’ame
 = 
NULL
; \

74 0)

	)

76 #iâdeà
YY_TYPEDEF_YY_SCANNER_T


77 
	#YY_TYPEDEF_YY_SCANNER_T


	)

78 * 
	tyysÿn_t
;

81 
	gpsql_¡©e
;

86 #iâdeà
YYTOKENTYPE


87 
	#YYTOKENTYPE


	)

88 
	eyytok’ty³


90 
	mNAME
 = 258,

91 
	mSTRING
 = 259,

92 
	mINTNUM
 = 260,

93 
	mBOOL
 = 261,

94 
	mAPPROXNUM
 = 262,

95 
	mUSERVAR
 = 263,

96 
	mASSIGN
 = 264,

97 
	mOR
 = 265,

98 
	mXOR
 = 266,

99 
	mANDOP
 = 267,

100 
	mIN
 = 268,

101 
	mIS
 = 269,

102 
	mLIKE
 = 270,

103 
	mREGEXP
 = 271,

104 
	mNOT
 = 272,

105 
	mBETWEEN
 = 273,

106 
	mCOMPARISON
 = 274,

107 
	mSHIFT
 = 275,

108 
	mMOD
 = 276,

109 
	mUMINUS
 = 277,

110 
	mADD
 = 278,

111 
	mALL
 = 279,

112 
	mALTER
 = 280,

113 
	mANALYZE
 = 281,

114 
	mAND
 = 282,

115 
	mANY
 = 283,

116 
	mAS
 = 284,

117 
	mASC
 = 285,

118 
	mAUTO_INCREMENT
 = 286,

119 
	mBEFORE
 = 287,

120 
	mBIGINT
 = 288,

121 
	mBINARY
 = 289,

122 
	mBIT
 = 290,

123 
	mBLOB
 = 291,

124 
	mBOTH
 = 292,

125 
	mBY
 = 293,

126 
	mCALL
 = 294,

127 
	mCASCADE
 = 295,

128 
	mCASE
 = 296,

129 
	mCHANGE
 = 297,

130 
	mCHAR
 = 298,

131 
	mCHECK
 = 299,

132 
	mCOLLATE
 = 300,

133 
	mCOLUMN
 = 301,

134 
	mCOMMENT
 = 302,

135 
	mCONDITION
 = 303,

136 
	mCONSTRAINT
 = 304,

137 
	mCONTINUE
 = 305,

138 
	mCONVERT
 = 306,

139 
	mCREATE
 = 307,

140 
	mCROSS
 = 308,

141 
	mCURRENT_DATE
 = 309,

142 
	mCURRENT_TIME
 = 310,

143 
	mCURRENT_TIMESTAMP
 = 311,

144 
	mCURRENT_USER
 = 312,

145 
	mCURSOR
 = 313,

146 
	mDATABASE
 = 314,

147 
	mDATABASES
 = 315,

148 
	mDATE
 = 316,

149 
	mDATETIME
 = 317,

150 
	mDAY_HOUR
 = 318,

151 
	mDAY_MICROSECOND
 = 319,

152 
	mDAY_MINUTE
 = 320,

153 
	mDAY_SECOND
 = 321,

154 
	mDECIMAL
 = 322,

155 
	mDECLARE
 = 323,

156 
	mDEFAULT
 = 324,

157 
	mDELAYED
 = 325,

158 
	mDELETE
 = 326,

159 
	mDESC
 = 327,

160 
	mDESCRIBE
 = 328,

161 
	mDETERMINISTIC
 = 329,

162 
	mDISTINCT
 = 330,

163 
	mDISTINCTROW
 = 331,

164 
	mDIV
 = 332,

165 
	mDOUBLE
 = 333,

166 
	mDROP
 = 334,

167 
	mDUAL
 = 335,

168 
	mEACH
 = 336,

169 
	mELSE
 = 337,

170 
	mELSEIF
 = 338,

171 
	mENCLOSED
 = 339,

172 
	mEND
 = 340,

173 
	mENUM
 = 341,

174 
	mESCAPED
 = 342,

175 
	mEXISTS
 = 343,

176 
	mEXIT
 = 344,

177 
	mEXPLAIN
 = 345,

178 
	mFETCH
 = 346,

179 
	mFLOAT
 = 347,

180 
	mFOR
 = 348,

181 
	mFORCE
 = 349,

182 
	mFOREIGN
 = 350,

183 
	mFROM
 = 351,

184 
	mFULLTEXT
 = 352,

185 
	mGRANT
 = 353,

186 
	mGROUP
 = 354,

187 
	mHAVING
 = 355,

188 
	mHIGH_PRIORITY
 = 356,

189 
	mHOUR_MICROSECOND
 = 357,

190 
	mHOUR_MINUTE
 = 358,

191 
	mHOUR_SECOND
 = 359,

192 
	mIF
 = 360,

193 
	mIGNORE
 = 361,

194 
	mINDEX
 = 362,

195 
	mINFILE
 = 363,

196 
	mINNER
 = 364,

197 
	mINOUT
 = 365,

198 
	mINSENSITIVE
 = 366,

199 
	mINSERT
 = 367,

200 
	mINT
 = 368,

201 
	mINTEGER
 = 369,

202 
	mINTERVAL
 = 370,

203 
	mINTO
 = 371,

204 
	mITERATE
 = 372,

205 
	mJOIN
 = 373,

206 
	mKEY
 = 374,

207 
	mKEYS
 = 375,

208 
	mKILL
 = 376,

209 
	mLEADING
 = 377,

210 
	mLEAVE
 = 378,

211 
	mLEFT
 = 379,

212 
	mLIMIT
 = 380,

213 
	mLINES
 = 381,

214 
	mLOAD
 = 382,

215 
	mLOCALTIME
 = 383,

216 
	mLOCALTIMESTAMP
 = 384,

217 
	mLOCK
 = 385,

218 
	mLONG
 = 386,

219 
	mLONGBLOB
 = 387,

220 
	mLONGTEXT
 = 388,

221 
	mLOOP
 = 389,

222 
	mLOW_PRIORITY
 = 390,

223 
	mMATCH
 = 391,

224 
	mMEDIUMBLOB
 = 392,

225 
	mMEDIUMINT
 = 393,

226 
	mMEDIUMTEXT
 = 394,

227 
	mMINUTE_MICROSECOND
 = 395,

228 
	mMINUTE_SECOND
 = 396,

229 
	mMODIFIES
 = 397,

230 
	mNATURAL
 = 398,

231 
	mNO_WRITE_TO_BINLOG
 = 399,

232 
	mNULLX
 = 400,

233 
	mNUMBER
 = 401,

234 
	mON
 = 402,

235 
	mONDUPLICATE
 = 403,

236 
	mOPTIMIZE
 = 404,

237 
	mOPTION
 = 405,

238 
	mOPTIONALLY
 = 406,

239 
	mORDER
 = 407,

240 
	mOUT
 = 408,

241 
	mOUTER
 = 409,

242 
	mOUTFILE
 = 410,

243 
	mPRECISION
 = 411,

244 
	mPRIMARY
 = 412,

245 
	mPROCEDURE
 = 413,

246 
	mPURGE
 = 414,

247 
	mQUICK
 = 415,

248 
	mREAD
 = 416,

249 
	mREADS
 = 417,

250 
	mREAL
 = 418,

251 
	mREFERENCES
 = 419,

252 
	mRELEASE
 = 420,

253 
	mRENAME
 = 421,

254 
	mREPEAT
 = 422,

255 
	mREPLACE
 = 423,

256 
	mREQUIRE
 = 424,

257 
	mRESTRICT
 = 425,

258 
	mRETURN
 = 426,

259 
	mREVOKE
 = 427,

260 
	mRIGHT
 = 428,

261 
	mROLLUP
 = 429,

262 
	mSCHEMA
 = 430,

263 
	mSCHEMAS
 = 431,

264 
	mSECOND_MICROSECOND
 = 432,

265 
	mSELECT
 = 433,

266 
	mSENSITIVE
 = 434,

267 
	mSEPARATOR
 = 435,

268 
	mSET
 = 436,

269 
	mSHOW
 = 437,

270 
	mSMALLINT
 = 438,

271 
	mSOME
 = 439,

272 
	mSONAME
 = 440,

273 
	mSPATIAL
 = 441,

274 
	mSPECIFIC
 = 442,

275 
	mSQL
 = 443,

276 
	mSQLEXCEPTION
 = 444,

277 
	mSQLSTATE
 = 445,

278 
	mSQLWARNING
 = 446,

279 
	mSQL_BIG_RESULT
 = 447,

280 
	mSQL_CALC_FOUND_ROWS
 = 448,

281 
	mSQL_SMALL_RESULT
 = 449,

282 
	mSSL
 = 450,

283 
	mSTARTING
 = 451,

284 
	mSTRAIGHT_JOIN
 = 452,

285 
	mTABLE
 = 453,

286 
	mTEMPORARY
 = 454,

287 
	mTEXT
 = 455,

288 
	mTERMINATED
 = 456,

289 
	mTHEN
 = 457,

290 
	mTIME
 = 458,

291 
	mTIMESTAMP
 = 459,

292 
	mTINYBLOB
 = 460,

293 
	mTINYINT
 = 461,

294 
	mTINYTEXT
 = 462,

295 
	mTO
 = 463,

296 
	mTRAILING
 = 464,

297 
	mTRIGGER
 = 465,

298 
	mUNDO
 = 466,

299 
	mUNION
 = 467,

300 
	mUNIQUE
 = 468,

301 
	mUNLOCK
 = 469,

302 
	mUNSIGNED
 = 470,

303 
	mUPDATE
 = 471,

304 
	mUSAGE
 = 472,

305 
	mUSE
 = 473,

306 
	mUSING
 = 474,

307 
	mUTC_DATE
 = 475,

308 
	mUTC_TIME
 = 476,

309 
	mUTC_TIMESTAMP
 = 477,

310 
	mVALUES
 = 478,

311 
	mVARBINARY
 = 479,

312 
	mVARCHAR
 = 480,

313 
	mVARYING
 = 481,

314 
	mWHEN
 = 482,

315 
	mWHERE
 = 483,

316 
	mWHILE
 = 484,

317 
	mWITH
 = 485,

318 
	mWRITE
 = 486,

319 
	mYEAR
 = 487,

320 
	mYEAR_MONTH
 = 488,

321 
	mZEROFILL
 = 489,

322 
	mFSUBSTRING
 = 490,

323 
	mFTRIM
 = 491,

324 
	mFDATE_ADD
 = 492,

325 
	mFDATE_SUB
 = 493,

326 
	mFCOUNT
 = 494

331 #ià! 
defšed
 
YYSTYPE
 && ! defšed 
YYSTYPE_IS_DECLARED


333 
	uYYSTYPE


337 
	mštv®
;

338 
	mæßtv®
;

339 *
	m¡rv®
;

340 
	msubtok
;

345 
YYSTYPE
 
	tYYSTYPE
;

346 
	#YYSTYPE_IS_TRIVIAL
 1

	)

347 
	#YYSTYPE_IS_DECLARED
 1

	)

351 #ià! 
defšed
 
YYLTYPE
 && ! defšed 
YYLTYPE_IS_DECLARED


352 
YYLTYPE
 
	tYYLTYPE
;

353 
	sYYLTYPE


355 
	mfœ¡_lše
;

356 
	mfœ¡_cŞumn
;

357 
	mÏ¡_lše
;

358 
	mÏ¡_cŞumn
;

360 
	#YYLTYPE_IS_DECLARED
 1

	)

361 
	#YYLTYPE_IS_TRIVIAL
 1

	)

366 
yy·r£
 (
yysÿn_t
 
sÿÂ”
, 
psql_¡©e
 *
p¡©e
);

	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_MISC


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_MISC
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

62 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


63 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

64 
	#htŞe16
(
x
è(x)

	)

65 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

66 
	#Ë16toh
(
x
è(x)

	)

68 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

69 
	#htŞe32
(
x
è(x)

	)

70 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

71 
	#Ë32toh
(
x
è(x)

	)

73 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

74 
	#htŞe64
(
x
è(x)

	)

75 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

76 
	#Ë64toh
(
x
è(x)

	)

79 
	#htobe16
(
x
è(x)

	)

80 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

81 
	#be16toh
(
x
è(x)

	)

82 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

84 
	#htobe32
(
x
è(x)

	)

85 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

86 
	#be32toh
(
x
è(x)

	)

87 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

89 
	#htobe64
(
x
è(x)

	)

90 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

91 
	#be64toh
(
x
è(x)

	)

92 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

97 #undeà
__USE_ISOC11


98 #undeà
__USE_ISOC99


99 #undeà
__USE_ISOC95


100 #undeà
__USE_ISOCXX11


101 #undeà
__USE_POSIX


102 #undeà
__USE_POSIX2


103 #undeà
__USE_POSIX199309


104 #undeà
__USE_POSIX199506


105 #undeà
__USE_XOPEN


106 #undeà
__USE_XOPEN_EXTENDED


107 #undeà
__USE_UNIX98


108 #undeà
__USE_XOPEN2K


109 #undeà
__USE_XOPEN2KXSI


110 #undeà
__USE_XOPEN2K8


111 #undeà
__USE_XOPEN2K8XSI


112 #undeà
__USE_LARGEFILE


113 #undeà
__USE_LARGEFILE64


114 #undeà
__USE_FILE_OFFSET64


115 #undeà
__USE_MISC


116 #undeà
__USE_ATFILE


117 #undeà
__USE_GNU


118 #undeà
__USE_REENTRANT


119 #undeà
__USE_FORTIFY_LEVEL


120 #undeà
__KERNEL_STRICT_NAMES


124 #iâdeà
_LOOSE_KERNEL_NAMES


125 
	#__KERNEL_STRICT_NAMES


	)

135 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

137 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

146 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

147 && !
defšed
 
	g_DEFAULT_SOURCE


152 #undeà
_DEFAULT_SOURCE


153 
	#_DEFAULT_SOURCE
 1

	)

157 #ifdeà
_GNU_SOURCE


158 #undeà
_ISOC95_SOURCE


159 
	#_ISOC95_SOURCE
 1

	)

160 #undeà
_ISOC99_SOURCE


161 
	#_ISOC99_SOURCE
 1

	)

162 #undeà
_ISOC11_SOURCE


163 
	#_ISOC11_SOURCE
 1

	)

164 #undeà
_POSIX_SOURCE


165 
	#_POSIX_SOURCE
 1

	)

166 #undeà
_POSIX_C_SOURCE


167 
	#_POSIX_C_SOURCE
 200809L

	)

168 #undeà
_XOPEN_SOURCE


169 
	#_XOPEN_SOURCE
 700

	)

170 #undeà
_XOPEN_SOURCE_EXTENDED


171 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

172 #undeà
_LARGEFILE64_SOURCE


173 
	#_LARGEFILE64_SOURCE
 1

	)

174 #undeà
_DEFAULT_SOURCE


175 
	#_DEFAULT_SOURCE
 1

	)

176 #undeà
_ATFILE_SOURCE


177 
	#_ATFILE_SOURCE
 1

	)

182 #ià(
defšed
 
_DEFAULT_SOURCE
 \

183 || (!
defšed
 
	g__STRICT_ANSI__
 \

184 && !
defšed
 
	g_ISOC99_SOURCE
 \

185 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

186 && !
defšed
 
	g_XOPEN_SOURCE
))

187 #undeà
_DEFAULT_SOURCE


188 
	#_DEFAULT_SOURCE
 1

	)

192 #ià(
defšed
 
_ISOC11_SOURCE
 \

193 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

194 
	#__USE_ISOC11
 1

	)

198 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

199 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

200 
	#__USE_ISOC99
 1

	)

204 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

205 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

206 
	#__USE_ISOC95
 1

	)

213 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

214 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

215 
	#__USE_ISOCXX11
 1

	)

221 #ifdeà
_DEFAULT_SOURCE


222 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


223 
	#__USE_POSIX_IMPLICITLY
 1

	)

225 #undeà
_POSIX_SOURCE


226 
	#_POSIX_SOURCE
 1

	)

227 #undeà
_POSIX_C_SOURCE


228 
	#_POSIX_C_SOURCE
 200809L

	)

230 #ià((!
defšed
 
__STRICT_ANSI__
 \

231 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

232 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

233 
	#_POSIX_SOURCE
 1

	)

234 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

235 
	#_POSIX_C_SOURCE
 2

	)

236 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

237 
	#_POSIX_C_SOURCE
 199506L

	)

238 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

239 
	#_POSIX_C_SOURCE
 200112L

	)

241 
	#_POSIX_C_SOURCE
 200809L

	)

243 
	#__USE_POSIX_IMPLICITLY
 1

	)

246 #ià(
defšed
 
_POSIX_SOURCE
 \

247 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

248 || 
defšed
 
_XOPEN_SOURCE
)

249 
	#__USE_POSIX
 1

	)

252 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


253 
	#__USE_POSIX2
 1

	)

256 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

257 
	#__USE_POSIX199309
 1

	)

260 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

261 
	#__USE_POSIX199506
 1

	)

264 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

265 
	#__USE_XOPEN2K
 1

	)

266 #undeà
__USE_ISOC95


267 
	#__USE_ISOC95
 1

	)

268 #undeà
__USE_ISOC99


269 
	#__USE_ISOC99
 1

	)

272 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

273 
	#__USE_XOPEN2K8
 1

	)

274 #undeà
_ATFILE_SOURCE


275 
	#_ATFILE_SOURCE
 1

	)

278 #ifdef 
_XOPEN_SOURCE


279 
	#__USE_XOPEN
 1

	)

280 #ià(
_XOPEN_SOURCE
 - 0) >= 500

281 
	#__USE_XOPEN_EXTENDED
 1

	)

282 
	#__USE_UNIX98
 1

	)

283 #undeà
_LARGEFILE_SOURCE


284 
	#_LARGEFILE_SOURCE
 1

	)

285 #ià(
_XOPEN_SOURCE
 - 0) >= 600

286 #ià(
_XOPEN_SOURCE
 - 0) >= 700

287 
	#__USE_XOPEN2K8
 1

	)

288 
	#__USE_XOPEN2K8XSI
 1

	)

290 
	#__USE_XOPEN2K
 1

	)

291 
	#__USE_XOPEN2KXSI
 1

	)

292 #undeà
__USE_ISOC95


293 
	#__USE_ISOC95
 1

	)

294 #undeà
__USE_ISOC99


295 
	#__USE_ISOC99
 1

	)

298 #ifdeà
_XOPEN_SOURCE_EXTENDED


299 
	#__USE_XOPEN_EXTENDED
 1

	)

304 #ifdeà
_LARGEFILE_SOURCE


305 
	#__USE_LARGEFILE
 1

	)

308 #ifdeà
_LARGEFILE64_SOURCE


309 
	#__USE_LARGEFILE64
 1

	)

312 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

313 
	#__USE_FILE_OFFSET64
 1

	)

316 #ià
defšed
 
_DEFAULT_SOURCE


317 
	#__USE_MISC
 1

	)

320 #ifdef 
_ATFILE_SOURCE


321 
	#__USE_ATFILE
 1

	)

324 #ifdef 
_GNU_SOURCE


325 
	#__USE_GNU
 1

	)

328 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


329 
	#__USE_REENTRANT
 1

	)

332 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

333 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

334 #ià
_FORTIFY_SOURCE
 > 1

335 
	#__USE_FORTIFY_LEVEL
 2

	)

337 
	#__USE_FORTIFY_LEVEL
 1

	)

340 
	#__USE_FORTIFY_LEVEL
 0

	)

345 
	~<¡dc-´edef.h
>

353 #undeà
__GNU_LIBRARY__


354 
	#__GNU_LIBRARY__
 6

	)

358 
	#__GLIBC__
 2

	)

359 
	#__GLIBC_MINOR__
 23

	)

361 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

362 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

365 #iâdeà
__ASSEMBLER__


366 #iâdeà
_SYS_CDEFS_H


367 
	~<sys/cdefs.h
>

372 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


373 
	#__USE_LARGEFILE
 1

	)

374 
	#__USE_LARGEFILE64
 1

	)

380 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

381 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

382 && 
defšed
 
	g__ex‹º_šlše


383 
	#__USE_EXTERN_INLINES
 1

	)

391 
	~<gnu/¡ubs.h
>

	@/usr/include/getopt.h

19 #iâdeà
_GETOPT_H


21 #iâdeà
__Ãed_g‘İt


22 
	#_GETOPT_H
 1

	)

32 #ià!
defšed
 
__GNU_LIBRARY__


33 
	~<ùy³.h
>

36 #iâdeà
__THROW


37 #iâdeà
__GNUC_PREREQ


38 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

40 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

41 
	#__THROW
 
	`throw
 ()

	)

43 
	#__THROW


	)

47 #ifdef 
__ılu¥lus


57 *
İrg
;

71 
İtšd
;

76 
İ‹¼
;

80 
İtİt
;

82 #iâdeà
__Ãed_g‘İt


104 
	sİtiÚ


106 cÚ¡ *
	gÇme
;

109 
	ghas_¬g
;

110 *
	gæag
;

111 
	gv®
;

116 
	#no_¬gum’t
 0

	)

117 
	#»quœed_¬gum’t
 1

	)

118 
	#İtiÚ®_¬gum’t
 2

	)

146 #ifdeà
__GNU_LIBRARY__


150 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

151 
__THROW
;

153 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

154 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


158 #ifdeà
__REDIRECT


159 
__REDIRECT_NTH
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

160 cÚ¡ *
__shÜtİts
),

161 
__posix_g‘İt
);

163 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

164 cÚ¡ *
__shÜtİts
è
__THROW
;

165 
	#g‘İt
 
__posix_g‘İt


	)

169 
g‘İt
 ();

172 #iâdeà
__Ãed_g‘İt


173 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

174 cÚ¡ *
__shÜtİts
,

175 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

176 
__THROW
;

177 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

178 cÚ¡ *
__shÜtİts
,

179 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

180 
__THROW
;

184 #ifdef 
__ılu¥lus


189 #undeà
__Ãed_g‘İt


	@/usr/include/libio.h

28 #iâdeà
_IO_STDIO_H


29 
	#_IO_STDIO_H


	)

31 
	~<_G_cÚfig.h
>

33 
	#_IO_åos_t
 
_G_åos_t


	)

34 
	#_IO_åos64_t
 
_G_åos64_t


	)

35 
	#_IO_size_t
 
size_t


	)

36 
	#_IO_ssize_t
 
__ssize_t


	)

37 
	#_IO_off_t
 
__off_t


	)

38 
	#_IO_off64_t
 
__off64_t


	)

39 
	#_IO_pid_t
 
__pid_t


	)

40 
	#_IO_uid_t
 
__uid_t


	)

41 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

42 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

43 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

44 
	#_IO_va_li¡
 
_G_va_li¡


	)

45 
	#_IO_wšt_t
 
wšt_t


	)

48 
	#__Ãed___va_li¡


	)

49 
	~<¡d¬g.h
>

50 #ifdeà
__GNUC_VA_LIST


51 #undeà
_IO_va_li¡


52 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

55 #iâdeà
__P


56 
	~<sys/cdefs.h
>

59 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

61 #iâdeà
EOF


62 
	#EOF
 (-1)

	)

64 #iâdeà
NULL


65 #ià
defšed
 
__GNUG__
 && \

66 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

67 
	#NULL
 (
__nuÎ
)

	)

69 #ià!
defšed
(
__ılu¥lus
)

70 
	#NULL
 ((*)0)

	)

72 
	#NULL
 (0)

	)

77 
	#_IOS_INPUT
 1

	)

78 
	#_IOS_OUTPUT
 2

	)

79 
	#_IOS_ATEND
 4

	)

80 
	#_IOS_APPEND
 8

	)

81 
	#_IOS_TRUNC
 16

	)

82 
	#_IOS_NOCREATE
 32

	)

83 
	#_IOS_NOREPLACE
 64

	)

84 
	#_IOS_BIN
 128

	)

92 
	#_IO_MAGIC
 0xFBAD0000

	)

93 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

94 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

95 
	#_IO_USER_BUF
 1

	)

96 
	#_IO_UNBUFFERED
 2

	)

97 
	#_IO_NO_READS
 4

	)

98 
	#_IO_NO_WRITES
 8

	)

99 
	#_IO_EOF_SEEN
 0x10

	)

100 
	#_IO_ERR_SEEN
 0x20

	)

101 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

102 
	#_IO_LINKED
 0x80

	)

103 
	#_IO_IN_BACKUP
 0x100

	)

104 
	#_IO_LINE_BUF
 0x200

	)

105 
	#_IO_TIED_PUT_GET
 0x400

	)

106 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

107 
	#_IO_IS_APPENDING
 0x1000

	)

108 
	#_IO_IS_FILEBUF
 0x2000

	)

109 
	#_IO_BAD_SEEN
 0x4000

	)

110 
	#_IO_USER_LOCK
 0x8000

	)

112 
	#_IO_FLAGS2_MMAP
 1

	)

113 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

114 #ifdeà
_LIBC


115 
	#_IO_FLAGS2_FORTIFY
 4

	)

117 
	#_IO_FLAGS2_USER_WBUF
 8

	)

118 #ifdeà
_LIBC


119 
	#_IO_FLAGS2_SCANF_STD
 16

	)

120 
	#_IO_FLAGS2_NOCLOSE
 32

	)

121 
	#_IO_FLAGS2_CLOEXEC
 64

	)

125 
	#_IO_SKIPWS
 01

	)

126 
	#_IO_LEFT
 02

	)

127 
	#_IO_RIGHT
 04

	)

128 
	#_IO_INTERNAL
 010

	)

129 
	#_IO_DEC
 020

	)

130 
	#_IO_OCT
 040

	)

131 
	#_IO_HEX
 0100

	)

132 
	#_IO_SHOWBASE
 0200

	)

133 
	#_IO_SHOWPOINT
 0400

	)

134 
	#_IO_UPPERCASE
 01000

	)

135 
	#_IO_SHOWPOS
 02000

	)

136 
	#_IO_SCIENTIFIC
 04000

	)

137 
	#_IO_FIXED
 010000

	)

138 
	#_IO_UNITBUF
 020000

	)

139 
	#_IO_STDIO
 040000

	)

140 
	#_IO_DONT_CLOSE
 0100000

	)

141 
	#_IO_BOOLALPHA
 0200000

	)

144 
_IO_jump_t
; 
	g_IO_FILE
;

147 #ifdeà
_IO_MTSAFE_IO


150 
	t_IO_lock_t
;

156 
	s_IO_m¬k”
 {

157 
_IO_m¬k”
 *
	m_Ãxt
;

158 
_IO_FILE
 *
	m_sbuf
;

162 
	m_pos
;

164 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

165 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

166 
	mpublic
:

167 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

168 ~
¡»amm¬k”
();

169 
§všg
(è{  
	m_¥os
 == -2; }

170 
d–
(
¡»amm¬k”
&);

171 
d–
();

176 
	e__codecvt_»suÉ


178 
	m__codecvt_ok
,

179 
	m__codecvt_·¹Ÿl
,

180 
	m__codecvt_”rÜ
,

181 
	m__codecvt_nocÚv


184 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


187 
	s_IO_codecvt


189 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

190 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

191 
	m__mb¡©e_t
 *,

192 cÚ¡ 
	mwch¬_t
 *,

193 cÚ¡ 
	mwch¬_t
 *,

194 cÚ¡ 
	mwch¬_t
 **, *,

196 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

197 
	m__mb¡©e_t
 *, *,

199 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

200 
	m__mb¡©e_t
 *,

202 cÚ¡ **, 
	mwch¬_t
 *,

203 
	mwch¬_t
 *, wchar_t **);

204 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

205 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

206 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

207 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

208 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

210 
_IO_icÚv_t
 
	m__cd_š
;

211 
_IO_icÚv_t
 
	m__cd_out
;

215 
	s_IO_wide_d©a


217 
wch¬_t
 *
	m_IO_»ad_±r
;

218 
wch¬_t
 *
	m_IO_»ad_’d
;

219 
wch¬_t
 *
	m_IO_»ad_ba£
;

220 
wch¬_t
 *
	m_IO_wr™e_ba£
;

221 
wch¬_t
 *
	m_IO_wr™e_±r
;

222 
wch¬_t
 *
	m_IO_wr™e_’d
;

223 
wch¬_t
 *
	m_IO_buf_ba£
;

224 
wch¬_t
 *
	m_IO_buf_’d
;

226 
wch¬_t
 *
	m_IO_§ve_ba£
;

227 
wch¬_t
 *
	m_IO_backup_ba£
;

229 
wch¬_t
 *
	m_IO_§ve_’d
;

231 
__mb¡©e_t
 
	m_IO_¡©e
;

232 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

233 
_IO_codecvt
 
	m_codecvt
;

235 
wch¬_t
 
	m_shÜtbuf
[1];

237 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

241 
	s_IO_FILE
 {

242 
	m_æags
;

243 
	#_IO_fe_æags
 
_æags


	)

247 * 
	m_IO_»ad_±r
;

248 * 
	m_IO_»ad_’d
;

249 * 
	m_IO_»ad_ba£
;

250 * 
	m_IO_wr™e_ba£
;

251 * 
	m_IO_wr™e_±r
;

252 * 
	m_IO_wr™e_’d
;

253 * 
	m_IO_buf_ba£
;

254 * 
	m_IO_buf_’d
;

256 *
	m_IO_§ve_ba£
;

257 *
	m_IO_backup_ba£
;

258 *
	m_IO_§ve_’d
;

260 
_IO_m¬k”
 *
	m_m¬k”s
;

262 
_IO_FILE
 *
	m_chaš
;

264 
	m_f’o
;

266 
	m_blksize
;

268 
	m_æags2
;

270 
_IO_off_t
 
	m_Şd_off£t
;

272 
	#__HAVE_COLUMN


	)

274 
	m_cur_cŞumn
;

275 sigÃd 
	m_vbË_off£t
;

276 
	m_shÜtbuf
[1];

280 
_IO_lock_t
 *
	m_lock
;

281 #ifdeà
_IO_USE_OLD_IO_FILE


284 
	s_IO_FILE_com¶‘e


286 
_IO_FILE
 
	m_fe
;

288 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

289 
_IO_off64_t
 
	m_off£t
;

290 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


292 
_IO_codecvt
 *
	m_codecvt
;

293 
_IO_wide_d©a
 *
	m_wide_d©a
;

294 
_IO_FILE
 *
	m_ä“»s_li¡
;

295 *
	m_ä“»s_buf
;

297 *
	m__·d1
;

298 *
	m__·d2
;

299 *
	m__·d3
;

300 *
	m__·d4
;

302 
size_t
 
	m__·d5
;

303 
	m_mode
;

305 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

309 #iâdeà
__ılu¥lus


310 
_IO_FILE
 
	t_IO_FILE
;

313 
	g_IO_FILE_¶us
;

315 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

316 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

317 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

318 #iâdeà
_LIBC


319 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

320 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

321 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

323 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

324 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

325 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

333 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

341 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, cÚ¡ *
	t__buf
,

342 
	tsize_t
 
	t__n
);

350 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

353 
	t__io_şo£_â
 (*
	t__cook›
);

356 #ifdeà
_GNU_SOURCE


358 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

359 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

360 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

361 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

366 
__io_»ad_â
 *
	m»ad
;

367 
__io_wr™e_â
 *
	mwr™e
;

368 
__io_£ek_â
 *
	m£ek
;

369 
__io_şo£_â
 *
	mşo£
;

370 } 
	t_IO_cook›_io_funùiÚs_t
;

371 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

373 
	g_IO_cook›_fe
;

376 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

377 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

381 #ifdeà
__ılu¥lus


385 
__und”æow
 (
_IO_FILE
 *);

386 
__uæow
 (
_IO_FILE
 *);

387 
__ov”æow
 (
_IO_FILE
 *, );

388 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


389 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

390 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

391 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

394 #ià 
__GNUC__
 >= 3

395 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

397 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

400 
	#_IO_g‘c_uÆocked
(
_å
) \

401 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

402 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

403 
	#_IO_³ekc_uÆocked
(
_å
) \

404 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

405 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

406 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

407 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

408 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

409 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

410 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

412 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


413 
	#_IO_g‘wc_uÆocked
(
_å
) \

414 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

415 || ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 \

416 >ğ(
_å
)->
_wide_d©a
->
_IO_»ad_’d
), 0) \

417 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

418 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

419 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

420 || ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

421 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
), 0) \

422 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

423 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

426 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

427 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

429 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

430 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

431 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

432 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

434 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

437 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

438 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

440 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

441 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

442 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

444 #ifdeà
_IO_MTSAFE_IO


445 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

446 
	#_IO_æockfe
(
_å
) \

447 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

448 
	#_IO_fuÆockfe
(
_å
) \

449 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

451 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

452 
	#_IO_æockfe
(
_å
è

	)

453 
	#_IO_fuÆockfe
(
_å
è

	)

454 
	#_IO_árylockfe
(
_å
è

	)

455 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

456 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

459 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

460 
_IO_va_li¡
, *
__»¡riù
);

461 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

462 
_IO_va_li¡
);

463 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

464 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

466 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

467 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

469 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

471 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


472 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

473 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

474 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

475 #ià
__GNUC__
 >= 2

478 #ià
defšed
 
_LIBC
 && defšed 
SHARED


479 
	~<shlib-com·t.h
>

480 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

481 
	#_IO_fwide_maybe_šcom·tibË
 \

482 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

483 cÚ¡ 
_IO_¡dš_u£d
;

484 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

487 #iâdeà
_IO_fwide_maybe_šcom·tibË


488 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

492 
	#_IO_fwide
(
__å
, 
__mode
) \

493 ({ 
__»suÉ
 = (
__mode
); \

494 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

496 ià((
__å
)->
_mode
 == 0) \

498 (
__å
)->
_mode
 = -1; \

499 
__»suÉ
 = (
__å
)->
_mode
; \

501 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

502 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

504 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

505 
__»suÉ
; })

	)

508 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

509 
_IO_va_li¡
, *
__»¡riù
);

510 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

511 
_IO_va_li¡
);

512 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

513 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

516 #ifdeà
__LDBL_COMPAT


517 
	~<b™s/libio-ldbl.h
>

520 #ifdeà
__ılu¥lus


	@/usr/include/locale.h

22 #iâdef 
_LOCALE_H


23 
	#_LOCALE_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_NULL


	)

28 
	~<¡ddef.h
>

29 
	~<b™s/loÿË.h
>

31 
	g__BEGIN_DECLS


35 
	#LC_CTYPE
 
__LC_CTYPE


	)

36 
	#LC_NUMERIC
 
__LC_NUMERIC


	)

37 
	#LC_TIME
 
__LC_TIME


	)

38 
	#LC_COLLATE
 
__LC_COLLATE


	)

39 
	#LC_MONETARY
 
__LC_MONETARY


	)

40 
	#LC_MESSAGES
 
__LC_MESSAGES


	)

41 
	#LC_ALL
 
__LC_ALL


	)

42 
	#LC_PAPER
 
__LC_PAPER


	)

43 
	#LC_NAME
 
__LC_NAME


	)

44 
	#LC_ADDRESS
 
__LC_ADDRESS


	)

45 
	#LC_TELEPHONE
 
__LC_TELEPHONE


	)

46 
	#LC_MEASUREMENT
 
__LC_MEASUREMENT


	)

47 
	#LC_IDENTIFICATION
 
__LC_IDENTIFICATION


	)

50 
__BEGIN_NAMESPACE_STD


53 
	slcÚv


57 *
	mdecim®_pošt
;

58 *
	mthou§nds_£p
;

64 *
	mgroupšg
;

70 *
	mšt_cu¼_symbŞ
;

71 *
	mcu¼’cy_symbŞ
;

72 *
	mmÚ_decim®_pošt
;

73 *
	mmÚ_thou§nds_£p
;

74 *
	mmÚ_groupšg
;

75 *
	mpos™ive_sign
;

76 *
	mÃg©ive_sign
;

77 
	mšt_äac_dig™s
;

78 
	mäac_dig™s
;

80 
	mp_cs_´eûdes
;

82 
	mp_£p_by_¥aû
;

84 
	mn_cs_´eûdes
;

86 
	mn_£p_by_¥aû
;

93 
	mp_sign_po¢
;

94 
	mn_sign_po¢
;

95 #ifdeà
__USE_ISOC99


97 
	mšt_p_cs_´eûdes
;

99 
	mšt_p_£p_by_¥aû
;

101 
	mšt_n_cs_´eûdes
;

103 
	mšt_n_£p_by_¥aû
;

110 
	mšt_p_sign_po¢
;

111 
	mšt_n_sign_po¢
;

113 
	m__št_p_cs_´eûdes
;

114 
	m__št_p_£p_by_¥aû
;

115 
	m__št_n_cs_´eûdes
;

116 
	m__št_n_£p_by_¥aû
;

117 
	m__št_p_sign_po¢
;

118 
	m__št_n_sign_po¢
;

124 *
	$£oÿË
 (
__ÿ‹gÜy
, cÚ¡ *
__loÿË
è
__THROW
;

127 
lcÚv
 *
	$loÿËcÚv
 (è
__THROW
;

129 
__END_NAMESPACE_STD


132 #ifdef 
__USE_XOPEN2K8


145 
	~<xloÿË.h
>

151 
__loÿË_t
 
	$ÃwloÿË
 (
__ÿ‹gÜy_mask
, cÚ¡ *
__loÿË
,

152 
__loÿË_t
 
__ba£
è
__THROW
;

158 
	#LC_CTYPE_MASK
 (1 << 
__LC_CTYPE
)

	)

159 
	#LC_NUMERIC_MASK
 (1 << 
__LC_NUMERIC
)

	)

160 
	#LC_TIME_MASK
 (1 << 
__LC_TIME
)

	)

161 
	#LC_COLLATE_MASK
 (1 << 
__LC_COLLATE
)

	)

162 
	#LC_MONETARY_MASK
 (1 << 
__LC_MONETARY
)

	)

163 
	#LC_MESSAGES_MASK
 (1 << 
__LC_MESSAGES
)

	)

164 
	#LC_PAPER_MASK
 (1 << 
__LC_PAPER
)

	)

165 
	#LC_NAME_MASK
 (1 << 
__LC_NAME
)

	)

166 
	#LC_ADDRESS_MASK
 (1 << 
__LC_ADDRESS
)

	)

167 
	#LC_TELEPHONE_MASK
 (1 << 
__LC_TELEPHONE
)

	)

168 
	#LC_MEASUREMENT_MASK
 (1 << 
__LC_MEASUREMENT
)

	)

169 
	#LC_IDENTIFICATION_MASK
 (1 << 
__LC_IDENTIFICATION
)

	)

170 
	#LC_ALL_MASK
 (
LC_CTYPE_MASK
 \

171 | 
LC_NUMERIC_MASK
 \

172 | 
LC_TIME_MASK
 \

173 | 
LC_COLLATE_MASK
 \

174 | 
LC_MONETARY_MASK
 \

175 | 
LC_MESSAGES_MASK
 \

176 | 
LC_PAPER_MASK
 \

177 | 
LC_NAME_MASK
 \

178 | 
LC_ADDRESS_MASK
 \

179 | 
LC_TELEPHONE_MASK
 \

180 | 
LC_MEASUREMENT_MASK
 \

181 | 
LC_IDENTIFICATION_MASK
 \

182 )

	)

186 
__loÿË_t
 
	$du¶oÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

190 
	$ä“loÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

197 
__loÿË_t
 
	$u£loÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

201 
	#LC_GLOBAL_LOCALE
 ((
__loÿË_t
è-1L)

	)

205 
__END_DECLS


	@/usr/include/sched.h

19 #iâdef 
_SCHED_H


20 
	#_SCHED_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/ty³s.h
>

27 
	#__Ãed_size_t


	)

28 
	~<¡ddef.h
>

30 #ifdeà
__USE_XOPEN2K


31 
	#__Ãed_time_t


	)

32 
	#__Ãed_time¥ec


	)

34 
	~<time.h
>

36 #iâdeà
__pid_t_defšed


37 
__pid_t
 
	tpid_t
;

38 
	#__pid_t_defšed


	)

43 
	~<b™s/sched.h
>

45 
	#sched_´iÜ™y
 
__sched_´iÜ™y


	)

48 
__BEGIN_DECLS


51 
	$sched_£¬am
 (
__pid_t
 
__pid
, cÚ¡ 
sched_·¿m
 *
__·¿m
)

52 
__THROW
;

55 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

58 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

59 cÚ¡ 
sched_·¿m
 *
__·¿m
è
__THROW
;

62 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

65 
	$sched_y›ld
 (è
__THROW
;

68 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

71 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

74 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

77 #ifdeà
__USE_GNU


79 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

80 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

81 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

82 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

83 
ıu£
)

	)

84 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

85 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

87 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

88 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

89 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

90 
ıu£
)

	)

91 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

92 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

94 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

95 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

96 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

97 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

99 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

100 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

101 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

102 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

103 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

104 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

105 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

106 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

107 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

108 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

109 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

110 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

112 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

113 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

114 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

118 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

119 cÚ¡ 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

122 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

123 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

126 
__END_DECLS


	@/usr/include/xlocale.h

20 #iâdeà
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loÿË_¡ruù


30 
__loÿË_d©a
 *
	m__loÿËs
[13];

33 cÚ¡ *
	m__ùy³_b
;

34 cÚ¡ *
	m__ùy³_tŞow”
;

35 cÚ¡ *
	m__ùy³_touµ”
;

38 cÚ¡ *
	m__Çmes
[13];

39 } *
	t__loÿË_t
;

42 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

23 
__off_t
 
	m__pos
;

24 
__mb¡©e_t
 
	m__¡©e
;

25 } 
	t_G_åos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb¡©e_t
 
	m__¡©e
;

30 } 
	t_G_åos64_t
;

31 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gcÚv.h
>

35 
__gcÚv_šfo
 
	m__cd
;

38 
__gcÚv_šfo
 
	m__cd
;

39 
__gcÚv_¡•_d©a
 
	m__d©a
;

40 } 
	m__combšed
;

41 } 
	t_G_icÚv_t
;

46 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/ctype.h

22 #iâdef 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	g__BEGIN_DECLS


30 #iâdeà
_ISb™


39 
	~<’dŸn.h
>

40 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


41 
	#_ISb™
(
b™
è(1 << (b™))

	)

43 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

48 
	m_ISuµ”
 = 
_ISb™
 (0),

49 
	m_ISlow”
 = 
_ISb™
 (1),

50 
	m_IS®pha
 = 
_ISb™
 (2),

51 
	m_ISdig™
 = 
_ISb™
 (3),

52 
	m_ISxdig™
 = 
_ISb™
 (4),

53 
	m_IS¥aû
 = 
_ISb™
 (5),

54 
	m_IS´št
 = 
_ISb™
 (6),

55 
	m_ISg¿ph
 = 
_ISb™
 (7),

56 
	m_ISbÏnk
 = 
_ISb™
 (8),

57 
	m_ISúŒl
 = 
_ISb™
 (9),

58 
	m_ISpunù
 = 
_ISb™
 (10),

59 
	m_IS®num
 = 
_ISb™
 (11)

79 cÚ¡ **
	$__ùy³_b_loc
 ()

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

81 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

87 #iâdeà
__ılu¥lus


88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

90 #–ià
defšed
 
__USE_EXTERN_INLINES


91 
	#__isùy³_f
(
ty³
) \

92 
__ex‹º_šlše
 \

93 
is
##
	`ty³
 (
__c
è
__THROW
 \

95  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

96 
	}

	)
}

99 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

100 
	#__tßscii
(
c
è((cè& 0x7fè

	)

102 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

104 
__BEGIN_NAMESPACE_STD


110 
__exùy³
 (
i§Êum
);

111 
__exùy³
 (
i§Íha
);

112 
__exùy³
 (
isúŒl
);

113 
__exùy³
 (
isdig™
);

114 
__exùy³
 (
i¦ow”
);

115 
__exùy³
 (
isg¿ph
);

116 
__exùy³
 (
i¥ršt
);

117 
__exùy³
 (
i¥unù
);

118 
__exùy³
 (
is¥aû
);

119 
__exùy³
 (
isuµ”
);

120 
__exùy³
 (
isxdig™
);

124 
	$tŞow”
 (
__c
è
__THROW
;

127 
	$touµ”
 (
__c
è
__THROW
;

129 
__END_NAMESPACE_STD


133 #ifdef 
__USE_ISOC99


134 
__BEGIN_NAMESPACE_C99


136 
	`__exùy³
 (
isbÏnk
);

138 
__END_NAMESPACE_C99


141 #ifdeà
__USE_GNU


143 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

146 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


150 
	$i§scii
 (
__c
è
__THROW
;

154 
	$tßscii
 (
__c
è
__THROW
;

158 
	`__exùy³
 (
_touµ”
);

159 
	`__exùy³
 (
_tŞow”
);

163 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

164 (
__ex‹nsiÚ__
 \

165 ({ 
__»s
; \

166 ià( (
c
) > 1) \

168 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

170 
__c
 = (
c
); \

171 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

174 
__»s
 = 
f
 
¬gs
; \

177 
__»s
 = (
a
)[(è(
c
)]; \

178 
__»s
; 
	}
}))

	)

180 #ià!
defšed
 
__NO_CTYPE


181 #ifdeà
__isùy³_f


182 
	$__isùy³_f
 (
®num
)

183 
	$__isùy³_f
 (
®pha
)

184 
	$__isùy³_f
 (
úŒl
)

185 
	$__isùy³_f
 (
dig™
)

186 
	$__isùy³_f
 (
low”
)

187 
	$__isùy³_f
 (
g¿ph
)

188 
	$__isùy³_f
 (
´št
)

189 
	$__isùy³_f
 (
punù
)

190 
	$__isùy³_f
 (
¥aû
)

191 
	$__isùy³_f
 (
uµ”
)

192 
	$__isùy³_f
 (
xdig™
)

193 #ifdeà
__USE_ISOC99


194 
	$__isùy³_f
 (
bÏnk
)

196 #–ià
defšed
 
__isùy³


197 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

198 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

199 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

200 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

201 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

202 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

203 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

204 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

205 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

206 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

207 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

208 #ifdeà
__USE_ISOC99


209 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

213 #ifdeà
__USE_EXTERN_INLINES


214 
__ex‹º_šlše
 

215 
	`__NTH
 (
	$tŞow”
 (
__c
))

217  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

218 
	}
}

220 
__ex‹º_šlše
 

221 
__NTH
 (
	$touµ”
 (
__c
))

223  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

224 
	}
}

227 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


228 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

229 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

232 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


233 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

234 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

236 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

237 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

243 #ifdeà
__USE_XOPEN2K8


257 
	~<xloÿË.h
>

261 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

262 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

264 
	#__exùy³_l
(
Çme
) \

265 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

271 
__exùy³_l
 (
i§Êum_l
);

272 
__exùy³_l
 (
i§Íha_l
);

273 
__exùy³_l
 (
isúŒl_l
);

274 
__exùy³_l
 (
isdig™_l
);

275 
__exùy³_l
 (
i¦ow”_l
);

276 
__exùy³_l
 (
isg¿ph_l
);

277 
__exùy³_l
 (
i¥ršt_l
);

278 
__exùy³_l
 (
i¥unù_l
);

279 
__exùy³_l
 (
is¥aû_l
);

280 
__exùy³_l
 (
isuµ”_l
);

281 
__exùy³_l
 (
isxdig™_l
);

283 
__exùy³_l
 (
isbÏnk_l
);

287 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

288 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

291 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

292 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

294 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


295 
	#__tŞow”_l
(
c
, 
loÿË
) \

296 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

297 
	#__touµ”_l
(
c
, 
loÿË
) \

298 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

299 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

300 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

304 #iâdeà
__NO_CTYPE


305 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

306 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

307 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

308 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

309 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

310 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

311 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

312 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

313 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

314 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

315 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

317 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

319 #ifdeà
__USE_MISC


320 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

321 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

324 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

325 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

326 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

327 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

328 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

329 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

330 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

331 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

332 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

333 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

334 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

336 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

338 #ifdeà
__USE_MISC


339 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

340 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

347 
__END_DECLS


	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

55 
	#__STDC_ISO_10646__
 201505L

	)

58 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/gconv.h

22 #iâdeà
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	#__Ãed_mb¡©e_t


	)

27 
	#__Ãed_wšt_t


	)

28 
	~<wch¬.h
>

29 
	#__Ãed_size_t


	)

30 
	#__Ãed_wch¬_t


	)

31 
	~<¡ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004,

60 
	m__GCONV_TRANSLIT
 = 0x0008

65 
	g__gcÚv_¡•
;

66 
	g__gcÚv_¡•_d©a
;

67 
	g__gcÚv_lßded_objeù
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 
	s__gcÚv_¡•


86 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

87 cÚ¡ *
__modÇme
;

89 
__couÁ”
;

91 *
__äom_Çme
;

92 *
__to_Çme
;

94 
__gcÚv_fù
 
__fù
;

95 
__gcÚv_btowc_fù
 
__btowc_fù
;

96 
__gcÚv_š™_fù
 
__š™_fù
;

97 
__gcÚv_’d_fù
 
__’d_fù
;

101 
__mš_Ãeded_äom
;

102 
__max_Ãeded_äom
;

103 
__mš_Ãeded_to
;

104 
__max_Ãeded_to
;

107 
__¡©eful
;

109 *
__d©a
;

114 
	s__gcÚv_¡•_d©a


116 *
__outbuf
;

117 *
__outbuãnd
;

121 
__æags
;

125 
__švoÿtiÚ_couÁ”
;

129 
__š‹º®_u£
;

131 
__mb¡©e_t
 *
__¡©•
;

132 
__mb¡©e_t
 
__¡©e
;

138 
	s__gcÚv_šfo


140 
size_t
 
__n¡•s
;

141 
__gcÚv_¡•
 *
__¡•s
;

142 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

143 } *
	t__gcÚv_t
;

146 
	`__gcÚv_Œª¦™”©e
 (
__gcÚv_¡•
 *
¡•
,

147 
__gcÚv_¡•_d©a
 *
¡•_d©a
,

148 cÚ¡ *
šbuf¡¬t
,

149 cÚ¡ **
šbuå
,

150 cÚ¡ *
šbuãnd
,

151 **
outbuf¡¬t
,

152 
size_t
 *
œ»v”sibË
);

	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


25 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<ã©u»s.h
>

30 #ifdeà
_WCHAR_H


32 
	#__Ãed___FILE


	)

33 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


34 
	#__Ãed_FILE


	)

36 
	~<¡dio.h
>

38 
	#__Ãed___va_li¡


	)

39 
	~<¡d¬g.h
>

41 
	~<b™s/wch¬.h
>

44 
	#__Ãed_size_t


	)

45 
	#__Ãed_wch¬_t


	)

46 
	#__Ãed_NULL


	)

48 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


49 #undeà
__Ãed_wšt_t


50 
	#__Ãed_wšt_t


	)

51 
	~<¡ddef.h
>

55 #iâdeà
_WINT_T


60 
	#_WINT_T


	)

61 
	twšt_t
;

65 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
defšed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twšt_t
;

69 
	g__END_NAMESPACE_STD


74 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
____mb¡©e_t_defšed


80 
	#____mb¡©e_t_defšed
 1

	)

84 
	m__couÁ
;

87 #ifdeà
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wšt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__v®ue
;

94 } 
	t__mb¡©e_t
;

96 #undeà
__Ãed_mb¡©e_t


101 #ifdeà
_WCHAR_H


103 #iâdeà
__mb¡©e_t_defšed


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb¡©e_t_defšed
 1

	)

111 #ifdeà
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

115 #iâdeà
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #iâdeà
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


128 
	~<wùy³.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
)

149 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

152 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

153 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

154 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

157 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

158 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
)

159 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

161 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

162 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

163 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

166 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

167 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

169 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

170 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

171 
__END_NAMESPACE_STD


173 #ifdeà
__USE_XOPEN2K8


175 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

178 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

179 
size_t
 
__n
è
__THROW
;

183 
	~<xloÿË.h
>

185 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

186 
__loÿË_t
 
__loc
è
__THROW
;

188 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

189 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

192 
__BEGIN_NAMESPACE_STD


195 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

199 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

200 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

201 
__END_NAMESPACE_STD


203 #ifdeà
__USE_XOPEN2K8


209 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

210 
__loÿË_t
 
__loc
è
__THROW
;

215 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

216 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

219 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

222 
__BEGIN_NAMESPACE_STD


224 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


225 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

226 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

227 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

228 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

230 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

231 
__THROW
 
__©Œibu‹_pu»__
;

234 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


235 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

236 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

237 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

238 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

240 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

241 
__THROW
 
__©Œibu‹_pu»__
;

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_GNU


248 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

249 
__THROW
 
__©Œibu‹_pu»__
;

252 
__BEGIN_NAMESPACE_STD


255 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

256 
__THROW
 
__©Œibu‹_pu»__
;

259 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

260 
__THROW
 
__©Œibu‹_pu»__
;

262 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


263 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

264 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

265 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

266 cÚ¡ 
wch¬_t
 *
__acû±
)

267 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

269 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

270 
__THROW
 
__©Œibu‹_pu»__
;

273 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


274 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

275 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

276 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

277 cÚ¡ 
wch¬_t
 *
__ÃedË
)

278 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

280 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

281 
__THROW
 
__©Œibu‹_pu»__
;

285 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

286 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

287 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

290 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

291 
__END_NAMESPACE_STD


293 #ifdeà
__USE_XOPEN


295 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


296 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

297 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

298 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

299 cÚ¡ 
wch¬_t
 *
__ÃedË
)

300 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

302 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

303 
__THROW
 
__©Œibu‹_pu»__
;

307 #ifdeà
__USE_XOPEN2K8


309 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

310 
__THROW
 
__©Œibu‹_pu»__
;

314 
__BEGIN_NAMESPACE_STD


316 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


317 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

319 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

320 
size_t
 
__n
)

321 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

323 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

324 
__THROW
 
__©Œibu‹_pu»__
;

328 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

329 
__THROW
 
__©Œibu‹_pu»__
;

332 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

333 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

337 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

338 
__THROW
;

341 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

342 
__END_NAMESPACE_STD


344 #ifdeà
__USE_GNU


347 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

348 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

349 
__THROW
;

353 
__BEGIN_NAMESPACE_STD


356 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

360 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

364 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

368 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

369 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

370 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

373 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

374 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

377 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

378 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

379 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

380 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

381 
__END_NAMESPACE_STD


383 #ifdeà
__USE_EXTERN_INLINES


389 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

390 
__ex‹º_šlše
 
wšt_t


391 
	`__NTH
 (
	$btowc
 (
__c
))

392 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

393 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

395 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

396 
__ex‹º_šlše
 

397 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

398 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

399 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

401 
__ex‹º_šlše
 
size_t


402 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

403 
mb¡©e_t
 *
__»¡riù
 
__ps
))

404 {  (
__ps
 !ğ
NULL


405 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

408 
__BEGIN_NAMESPACE_STD


411 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

412 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

413 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

417 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

418 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

419 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

420 
__END_NAMESPACE_STD


423 #ifdef 
__USE_XOPEN2K8


426 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

427 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

428 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

432 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

433 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

434 
size_t
 
__nwc
, size_ˆ
__Ën
,

435 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

440 #ifdeà
__USE_XOPEN


442 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

446 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

450 
__BEGIN_NAMESPACE_STD


453 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

454 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

455 
__END_NAMESPACE_STD


457 #ifdeà
__USE_ISOC99


458 
__BEGIN_NAMESPACE_C99


460 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

461 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

462 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

463 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

464 
__END_NAMESPACE_C99


468 
__BEGIN_NAMESPACE_STD


471 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

472 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

476 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

477 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

478 
__THROW
;

479 
__END_NAMESPACE_STD


481 #ifdeà
__USE_ISOC99


482 
__BEGIN_NAMESPACE_C99


485 
__ex‹nsiÚ__


486 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

487 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

488 
__THROW
;

492 
__ex‹nsiÚ__


493 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

494 
wch¬_t
 **
__»¡riù
 
__’d±r
,

495 
__ba£
è
__THROW
;

496 
__END_NAMESPACE_C99


499 #ifdeà
__USE_GNU


502 
__ex‹nsiÚ__


503 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

504 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

505 
__THROW
;

509 
__ex‹nsiÚ__


510 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

511 
wch¬_t
 **
__»¡riù
 
__’d±r
,

512 
__ba£
è
__THROW
;

515 #ifdeà
__USE_GNU


529 
	~<xloÿË.h
>

533 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

534 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

535 
__loÿË_t
 
__loc
è
__THROW
;

537 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

538 
wch¬_t
 **
__»¡riù
 
__’d±r
,

539 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

541 
__ex‹nsiÚ__


542 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

543 
wch¬_t
 **
__»¡riù
 
__’d±r
,

544 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

546 
__ex‹nsiÚ__


547 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

548 
wch¬_t
 **
__»¡riù
 
__’d±r
,

549 
__ba£
, 
__loÿË_t
 
__loc
)

550 
__THROW
;

552 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

553 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

554 
__THROW
;

556 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

557 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

558 
__THROW
;

560 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

561 
wch¬_t
 **
__»¡riù
 
__’d±r
,

562 
__loÿË_t
 
__loc
è
__THROW
;

566 #ifdeà
__USE_XOPEN2K8


569 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

570 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

574 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

575 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

576 
__THROW
;

583 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

586 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


587 
__BEGIN_NAMESPACE_STD


590 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

597 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

598 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

607 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

608 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

609 
__THROW
 ;

615 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

616 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

617 
__gnuc_va_li¡
 
__¬g
)

623 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

624 
__gnuc_va_li¡
 
__¬g
)

628 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

629 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

630 
__gnuc_va_li¡
 
__¬g
)

631 
__THROW
 ;

638 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

639 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

648 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

649 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

650 
__THROW
 ;

652 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

653 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

654 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

655 #ifdeà
__REDIRECT


659 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

660 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

661 
__isoc99_fwsÿnf
)

663 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

664 
__isoc99_wsÿnf
)

666 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

667 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

668 ...), 
__isoc99_swsÿnf
)

671 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

672 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

673 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

674 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

675 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

676 
__THROW
;

677 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

678 
	#wsÿnf
 
__isoc99_wsÿnf


	)

679 
	#swsÿnf
 
__isoc99_swsÿnf


	)

683 
__END_NAMESPACE_STD


686 #ifdeà
__USE_ISOC99


687 
__BEGIN_NAMESPACE_C99


692 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

693 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

694 
__gnuc_va_li¡
 
__¬g
)

700 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

701 
__gnuc_va_li¡
 
__¬g
)

704 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

705 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

706 
__gnuc_va_li¡
 
__¬g
)

707 
__THROW
 ;

709 #ià!
defšed
 
__USE_GNU
 \

710 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

711 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

712 #ifdeà
__REDIRECT


713 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

714 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

715 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

717 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

718 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

720 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

721 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

722 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

725 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

726 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

727 
__gnuc_va_li¡
 
__¬g
);

728 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

729 
__gnuc_va_li¡
 
__¬g
);

730 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

731 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

732 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

733 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

734 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

735 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

739 
__END_NAMESPACE_C99


743 
__BEGIN_NAMESPACE_STD


748 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

749 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

755 
wšt_t
 
	`g‘wch¬
 ();

762 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

763 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

769 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

777 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

778 
__FILE
 *
__»¡riù
 
__¡»am
);

784 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

785 
__FILE
 *
__»¡riù
 
__¡»am
);

792 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

793 
__END_NAMESPACE_STD


796 #ifdeà
__USE_GNU


804 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

805 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

813 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

821 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

830 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

831 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

840 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

841 
__FILE
 *
__»¡riù
 
__¡»am
);

849 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

850 
__FILE
 *
__»¡riù
 
__¡»am
);

854 
__BEGIN_NAMESPACE_C99


858 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

859 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

860 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

861 
__END_NAMESPACE_C99


863 #ifdeà
__USE_GNU


864 
	~<xloÿË.h
>

868 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

869 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

870 cÚ¡ 
tm
 *
__»¡riù
 
__
,

871 
__loÿË_t
 
__loc
è
__THROW
;

880 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


881 
	#__Ãed_iswxxx


	)

882 
	~<wùy³.h
>

886 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


887 
	~<b™s/wch¬2.h
>

890 #ifdeà
__LDBL_COMPAT


891 
	~<b™s/wch¬-ldbl.h
>

894 
__END_DECLS


902 #undeà
__Ãed_mb¡©e_t


903 #undeà
__Ãed_wšt_t


	@/usr/include/wctype.h

23 #iâdeà
_WCTYPE_H


25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 #iâdeà
__Ãed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__Ãed_wšt_t


	)

33 
	~<wch¬.h
>

37 #iâdeà
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #undeà
__Ãed_iswxxx


46 #iâdeà
__iswxxx_defšed


47 
	#__iswxxx_defšed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	twùy³_t
;

53 
	g__END_NAMESPACE_C99


55 #iâdeà
_ISwb™


60 
	~<’dŸn.h
>

61 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


62 
	#_ISwb™
(
b™
è(1 << (b™))

	)

64 
	#_ISwb™
(
b™
) \

65 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (è((1UL << (
b™
)è>> 24))))

	)

73 
	m__ISwuµ”
 = 0,

74 
	m__ISwlow”
 = 1,

75 
	m__ISw®pha
 = 2,

76 
	m__ISwdig™
 = 3,

77 
	m__ISwxdig™
 = 4,

78 
	m__ISw¥aû
 = 5,

79 
	m__ISw´št
 = 6,

80 
	m__ISwg¿ph
 = 7,

81 
	m__ISwbÏnk
 = 8,

82 
	m__ISwúŒl
 = 9,

83 
	m__ISwpunù
 = 10,

84 
	m__ISw®num
 = 11,

86 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

87 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

88 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

89 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

90 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

91 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

92 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

93 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

94 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

95 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

96 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

97 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

117 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

120 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

124 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

128 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

133 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

136 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

141 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

146 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

151 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

156 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

161 #ifdeà
__USE_ISOC99


162 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

171 
wùy³_t
 
	$wùy³
 (cÚ¡ *
__´İ”ty
è
__THROW
;

175 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 cÚ¡ 
	t__št32_t
 *
	twù¿ns_t
;

187 
__END_NAMESPACE_C99


188 #ifdeà
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

197 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifdeà
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
wù¿ns_t
 
	$wù¿ns
 (cÚ¡ *
__´İ”ty
è
__THROW
;

221 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifdeà
__USE_XOPEN2K8


226 
	~<xloÿË.h
>

230 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

236 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

239 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

243 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

247 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

252 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

255 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

260 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

265 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

270 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

275 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

280 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

284 
wùy³_t
 
	$wùy³_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

285 
__THROW
;

289 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

290 
__THROW
;

298 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

301 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

305 
wù¿ns_t
 
	$wù¿ns_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

306 
__THROW
;

309 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

310 
__loÿË_t
 
__loÿË
è
__THROW
;

314 
__END_DECLS


	@
1
.
1
/usr/include
115
5628
/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Join.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Join.h
/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Projection.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Projection.h
/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/SPJ.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/SPJ.h
/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Selection.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/SPJ/Selection.h
/home/huangwentao/WorkSpaces/carrots/dbms/buffer/BufferManager.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/buffer/BufferManager.h
/home/huangwentao/WorkSpaces/carrots/dbms/buffer/ClockFIFOStrategy.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/buffer/ClockFIFOStrategy.h
/home/huangwentao/WorkSpaces/carrots/dbms/common.h
/home/huangwentao/WorkSpaces/carrots/dbms/dataInput/input.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/dataInput/inputer.h
/home/huangwentao/WorkSpaces/carrots/dbms/execution/CreateExecutor.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/execution/CreateExecutor.h
/home/huangwentao/WorkSpaces/carrots/dbms/execution/DeleteExecutor.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/execution/DeleteExecutor.h
/home/huangwentao/WorkSpaces/carrots/dbms/execution/DropExecutor.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/execution/DropExecutor.h
/home/huangwentao/WorkSpaces/carrots/dbms/execution/InsertExecutor.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/execution/InsertExecutor.h
/home/huangwentao/WorkSpaces/carrots/dbms/execution/JoinExecutor.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/execution/JoinExecutor.h
/home/huangwentao/WorkSpaces/carrots/dbms/execution/QueryExecutor.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/execution/QueryExecutor.h
/home/huangwentao/WorkSpaces/carrots/dbms/execution/SelectExecutor.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/execution/SelectExecutor.h
/home/huangwentao/WorkSpaces/carrots/dbms/execution/UpdateExecutor.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/execution/UpdateExecutor.h
/home/huangwentao/WorkSpaces/carrots/dbms/global.h
/home/huangwentao/WorkSpaces/carrots/dbms/index/BPTree.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/index/BPTree.h
/home/huangwentao/WorkSpaces/carrots/dbms/index/Index.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/index/Index.h
/home/huangwentao/WorkSpaces/carrots/dbms/index/PrimaryHashIndex.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/index/PrimaryHashIndex.h
/home/huangwentao/WorkSpaces/carrots/dbms/main.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/parser/exec.c
/home/huangwentao/WorkSpaces/carrots/dbms/parser/parser.h
/home/huangwentao/WorkSpaces/carrots/dbms/parser/sql-parser.h
/home/huangwentao/WorkSpaces/carrots/dbms/parser/sql.c
/home/huangwentao/WorkSpaces/carrots/dbms/parser/sql.tab.c
/home/huangwentao/WorkSpaces/carrots/dbms/parser/sql.tab.h
/home/huangwentao/WorkSpaces/carrots/dbms/segment/DataSegment.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/segment/DataSegment.h
/home/huangwentao/WorkSpaces/carrots/dbms/segment/DirectorySegment.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/segment/DirectorySegment.h
/home/huangwentao/WorkSpaces/carrots/dbms/segment/IndexSegment.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/segment/IndexSegment.h
/home/huangwentao/WorkSpaces/carrots/dbms/segment/MetaDataSegment.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/segment/MetaDataSegment.h
/home/huangwentao/WorkSpaces/carrots/dbms/segment/Segment.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/segment/Segment.h
/home/huangwentao/WorkSpaces/carrots/dbms/storage/DBFile.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/storage/DBFile.h
/home/huangwentao/WorkSpaces/carrots/dbms/storage/FreeBuffer.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/storage/FreeBuffer.h
/home/huangwentao/WorkSpaces/carrots/dbms/storage/PageUtil.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/storage/PageUtil.h
/home/huangwentao/WorkSpaces/carrots/dbms/storage/main1.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/storage/main2.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/table/MemoryTable.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/table/MemoryTalbe.h
/home/huangwentao/WorkSpaces/carrots/dbms/table/Table.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/table/Table.h
/home/huangwentao/WorkSpaces/carrots/dbms/table/TableUtil.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/table/TableUtil.h
/home/huangwentao/WorkSpaces/carrots/dbms/table/meta.h
/home/huangwentao/WorkSpaces/carrots/dbms/test/dataLoad.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/test/test.h
/home/huangwentao/WorkSpaces/carrots/dbms/util/DataUtil.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/util/DataUtil.h
/home/huangwentao/WorkSpaces/carrots/dbms/util/Thread.cpp
/home/huangwentao/WorkSpaces/carrots/dbms/util/Thread.h
/usr/include/alloca.h
/usr/include/dirent.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/inttypes.h
/usr/include/libintl.h
/usr/include/malloc.h
/usr/include/memory.h
/usr/include/pthread.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/time.h
/usr/include/unistd.h
execution/CreateExecutor.h
execution/DeleteExecutor.h
execution/DropExecutor.h
execution/InsertExecutor.h
execution/JoinExecutor.h
execution/QueryExecutor.h
execution/SelectExecutor.h
execution/UpdateExecutor.h
parser/parser.h
parser/sql-parser.h
parser/sql.tab.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/locale.h
/usr/include/sched.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/ctype.h
/usr/include/stdc-predef.h
/usr/include/gconv.h
/usr/include/wchar.h
/usr/include/wctype.h
